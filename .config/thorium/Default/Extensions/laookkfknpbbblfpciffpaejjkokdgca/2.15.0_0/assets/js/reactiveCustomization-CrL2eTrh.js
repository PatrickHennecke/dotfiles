import"./VueBase-CjPGMLuv.js";import{V as e,w as t}from"./ResizeSensor-CXS_pGRc.js";import{g as s}from"./promisifiedChrome-CheD9WtZ.js";const o=new e.observable({}),i=new Proxy(o,{get:(t,s)=>(Object.prototype.hasOwnProperty.call(t,s)||e.set(t,s,m.models.customization.getComputedSetting(s)),t[s]),set:()=>(console.warn('Computed settings cannot be set by reactiveCustomization. Instead set persistent settings with "persistent"'),!1)}),n=new Proxy(o,{get:(e,t)=>({...JSON.parse(m.models.customization.persistentSettings.defaultIfNotSet[t+"Str"]),...JSON.parse(i[t+"Str"])}),set:()=>(console.warn('Computed settings cannot be set by reactiveCustomization. Instead set persistent settings with "persistent"'),!1)}),a=new e.observable({}),r=new Proxy(a,{get:(t,s)=>(Object.prototype.hasOwnProperty.call(t,s)||e.set(t,s,m.models.customization.get(s)),t[s]),set:(t,s,o)=>(m.models.customization.save(s,o),e.set(t,s,o),!0)}),c=new Proxy(a,{get:(e,t)=>({...JSON.parse(m.models.customization.persistentSettings.defaultIfNotSet[t+"Str"]),...JSON.parse(r[t+"Str"])}),set:(e,t,s)=>(r[t+"Str"]=JSON.stringify(s),!0)});function l(t={}){Object.entries(t).forEach((([t,s])=>e.set(a,t,s))),m.models.customization.save(t)}m.models.customization.on("change",(t=>{t&&("balanceModeStr"in t.changed&&Object.entries(m.models.customization.attributes).forEach((([t,s])=>e.set(o,t,s))),Object.entries(t.changed).forEach((([t,s])=>{e.set(o,t,m.models.customization.getComputedSetting(t)),e.set(a,t,s)})))})),m.on("customization:update",(t=>{t.forEach((t=>{e.set(o,t,m.models.customization.getComputedSetting(t)),e.set(a,t,m.models.customization.get(t))}))})),t(m.reactive.experiments,(()=>{var e;"enabled"===(null==(e=s("site_blocker_release"))?void 0:e.variantName)&&void 0===r.siteBlockerEnabled&&(r.siteBlockerEnabled=!0)}));export{n as a,c as b,i as c,r as p,l as s};