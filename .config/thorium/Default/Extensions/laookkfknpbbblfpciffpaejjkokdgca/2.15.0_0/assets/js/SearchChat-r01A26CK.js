import{u as e}from"./index-CVtjxjol.js";import{r as t,i}from"./ResizeSensor-CXS_pGRc.js";import{n as r,r as o}from"./promisifiedChrome-CheD9WtZ.js";import{C as s}from"./ChatContent-IUeK4LN5.js";import{g as n}from"./globalKeyEventManager-KbJZwtdf.js";import"./dashboard-CF_jRhAY.js";import"./main--IJuvtTE.js";import"./localStorage-B4mFdj8F.js";import"./preload-helper-D7CfCCEq.js";import"./Logger-Dqn8sDPg.js";import"./environmentVariables-Cy83xda0.js";import"./migrateLegacyUserMessageHandler-CU6TUnqH.js";import"./timestampDb-sTUCijT1.js";import"./string-KTo4Qfpe.js";import"./AppView-CyOtvy2t.js";import"./google-DKPAcOmk.js";import"./icon-back-D_TFrgyJ.js";import"./SmoothReflow-B3dWZqEj.js";import"./allComponentsMounted-C3UsG_cA.js";import"./AppViewSwitchDynamic-BYU6AUAL.js";import"./appViewSwitchMixin-BsLJ76Hr.js";import"./AppHeader-DGqF8Ifm.js";import"./AppHeaderControl-BC-AHodD.js";import"./icon-hide-NFfBhfBx.js";import"./AppEmpty-BrSPSkb0.js";import"./chat-CjkIuuKE.js";import"./icon-plus-D4YOesIc.js";import"./arrow-up-1QPpu78M.js";const a={up:"up",down:"down"};const p=r({name:"SearchChat",components:{ChatContent:s,ProvideAppDimensions:r({name:"ProvideAppDimensions",provide(){const e=this;return{appDimensions:{get maxHeight(){return e.maxHeight},get height(){return e.rect.height.value},get width(){return e.rect.width.value}}}},props:{direction:{type:String,required:!0,validator:e=>Object.values(a).includes(e)}},setup(){const i=t(null);return{el:i,rect:e(i)}},computed:{maxHeight(){return this.direction===a.up?this.rect.bottom.value-i.dashboardVerticalPaddingPx:o.windowDimensions.height-this.rect.top.value-i.dashboardVerticalPaddingPx}}},(function(){var e=this;return(0,e._self._c)("div",{ref:"el",style:{"--content-max-height":e.maxHeight+"px"}},[e._t("default")],2)}),[],!1,null,null).exports},inject:["viewStateStore"],unreactive:()=>({directionEnum:a}),mounted(){n.registerEventListener("closeApp","keyup",27,(()=>this.$emit("close")))},destroyed(){n.removeEventListener("closeApp","keyup",27)}},(function(){var e=this,t=e._self._c;return t("provide-app-dimensions",{staticClass:"search-chat bg",class:{focused:e.viewStateStore.focused,unfocused:!e.viewStateStore.focused},attrs:{"data-test":"search-ask-ai",direction:e.directionEnum.up},nativeOn:{click:function(t){return e.viewStateStore.focus()}}},[t("chat-content",{on:{close:function(t){return e.$emit("close")}}})],1)}),[],!1,null,"d6298c95").exports;export{p as default};