const __vite__fileDeps=["assets/js/DateTimePicker-BN6w3oYM.js","assets/js/CollapsibleInput-BLiw8kON.js","assets/js/SmoothReflow-B3dWZqEj.js","assets/js/ResizeSensor-CXS_pGRc.js","assets/js/environmentVariables-Cy83xda0.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/js/promisifiedChrome-CheD9WtZ.js","assets/js/timestampDb-sTUCijT1.js","assets/js/Logger-Dqn8sDPg.js","assets/js/preload-helper-D7CfCCEq.js","assets/js/string-KTo4Qfpe.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/js/icon-x-caret-half-CZtcH_PM.js","assets/css/CollapsibleInput-fGIemUpW.css","assets/js/reactiveCustomization-CrL2eTrh.js","assets/js/VueBase-CjPGMLuv.js","assets/js/dashboard-CF_jRhAY.js","assets/js/main--IJuvtTE.js","assets/js/localStorage-B4mFdj8F.js","assets/js/migrateLegacyUserMessageHandler-CU6TUnqH.js","assets/css/dashboard-C0DDMXTO.css","assets/js/index-CJJH83pl.js","assets/css/DateTimePicker-BAEHvAlA.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as t}from"./preload-helper-D7CfCCEq.js";import"./VueBase-CjPGMLuv.js";import{i as e,l as i,b as a,p as s,r as d,s as r,m as o}from"./itemModelMixin-BHakSWl-.js";import{V as n}from"./ResizeSensor-CXS_pGRc.js";import{d as h}from"./itemDataServiceMixins-R3DPkCUM.js";import{m as p}from"./metricMetadata-D4pZaGht.js";import{c as u}from"./captureMixin-RDCvEN9-.js";import"./dashboard-CF_jRhAY.js";import"./main--IJuvtTE.js";import"./promisifiedChrome-CheD9WtZ.js";import"./timestampDb-sTUCijT1.js";import"./Logger-Dqn8sDPg.js";import"./environmentVariables-Cy83xda0.js";import"./string-KTo4Qfpe.js";import"./localStorage-B4mFdj8F.js";import"./migrateLegacyUserMessageHandler-CU6TUnqH.js";import"./index-CJJH83pl.js";import"./reactiveCustomization-CrL2eTrh.js";import"./namesMixin-EAvqmdCw.js";import"./clocks-DjzskNOU.js";const c=n.extend({mixins:[e,i],data:()=>({id:null,dateEdit:{date:null,hasHours:!1,utcDate:null},name:"",isTeam:null,pinned:!1,random:!1,readOnly:!1,props:["pinned","name","dateEdit"]}),unreactive:()=>({months:m.constants.monthNamesShort,daysOfWeek:m.constants.dayNamesShort,timeOptions:{hour:"numeric",minute:"2-digit"}}),computed:{date:()=>m.models.date,currentTime(){return this.date.get("date").getTime()},tooltip(){let t=new Date(this.dateEdit.utcDate);return`${this.daysOfWeek[t.getDay()]} ${this.months[t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`},time(){return new Date(this.dateEdit.utcDate).toLocaleTimeString("en-US",this.timeOptions)+" "},value(){let t,e=this.dateEdit.utcDate,i=this.calcTimeLeft(this.currentTime,e),a=this.dateEdit.hasHours,s="";return a&&i.minsTot<60?(t=0===i.minsTot?"Now":i.minsTot,s="m"):a&&i.hoursTot<24?(t=i.hoursTot,s="h"):(t=a||0!==i.nights?i.nights:"Today",s="d"),i.past&&(s+=" ago"),"Now"!==t&&"Today"!==t||(s=""),t+s}},watch:{"editProps.dateEdit.date"(t){this.editProps.dateEdit&&t&&t.getTime&&(this.editProps.dateEdit.utcDate=t.getTime())},"dateEdit.date"(t){this.dateEdit&&t&&t.getTime&&(this.dateEdit.utcDate=t.getTime())}},methods:{updateData:function(t){this.dateEdit.utcDate=Number.parseInt(t.utcDate),this.dateEdit.hasHours=t.hasHours,this.dateEdit.date=new Date(this.dateEdit.utcDate),this.archived=t.archived,this.isTeam=t.isTeam||!1,this.name=t.name,this.pinned=t.pinned,this.id=t.id,this.readOnly=t.readOnly},setDefaultDate:function(){if(!this.dateEdit.utcDate){let t=new Date((new Date).getTime()+6048e5);this.dateEdit.utcDate=t.getTime()}return this.dateEdit.utcDate},nightsBetween(t,e,i){let a=t,s=e;t>=e&&(a=e,s=t);let d=s-a,r=this.calcDayMs(a,i)+d,o=Math.floor(r/864e5);return 0!==o&&t>=e&&(o*=-1),o},calcDayMs(t,e){let i=t-new Date(t).setHours(0,0,0,0)-36e5*e;return i<0&&(i+=864e5),i},calcTimeLeft(t,e){let i=(e-t)/6e4,a=i/60,s=this.nightsBetween(t,e,4),d=i<0;return{minsTot:Math.abs(Math.round(i)),hoursTot:Math.abs(Math.round(a)),nights:Math.abs(s),past:d}}}}),l=new(n.extend({unreactive:()=>({type:"countdowns"}),mixins:[h]})),D=()=>t((()=>import("./DateTimePicker-BN6w3oYM.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])),g=new(n.extend({mixins:[a,s,d,r,o,u((()=>({is_paid_event:!0})))],unreactive(){return{...p.countdowns,Model:c,dataService:l,visibleSetting:"countdownVisible",sort:(t,e)=>this.sortPinned(t,e,this.dashSort),dashSort:(t,e)=>t.dateEdit.date-e.dateEdit.date,fields:[{property:"name",class:"item-body",type:"input",label:"Name",required:!0,dataTest:"name",autoCapitalize:!0},{property:"dateEdit",type:D},{property:"pinned",type:"toggle",label:"Pin to dashboard",dataTest:"pinned"}]}},methods:{getAddRequestBody:t=>(t.editProps.dateEdit.utcDate||(t.editProps.dateEdit.utcDate=t.setDefaultDate()),{name:m.utils.capitalizeFirstLetter(t.editProps.name),utcDate:t.editProps.dateEdit.utcDate,hasHours:t.editProps.dateEdit.hasHours,pinned:t.editProps.pinned})}}));export{g as default};