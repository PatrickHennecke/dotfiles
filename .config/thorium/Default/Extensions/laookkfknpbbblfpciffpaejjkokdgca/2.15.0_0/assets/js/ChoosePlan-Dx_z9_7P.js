import{n as e,A as a}from"./promisifiedChrome-CheD9WtZ.js";import{_ as t}from"./icon-back-D_TFrgyJ.js";import{_ as s}from"./icon-check-Vc9B11BJ.js";import"./timestampDb-sTUCijT1.js";import"./Logger-Dqn8sDPg.js";import"./environmentVariables-Cy83xda0.js";import"./ResizeSensor-CXS_pGRc.js";import"./preload-helper-D7CfCCEq.js";import"./string-KTo4Qfpe.js";const l=e({name:"ChoosePlan",props:{showBack:{type:Boolean,default:!0},plans:{type:Object,default:()=>({})},sales:{type:Object,default:()=>({})}},data:()=>({selectedPlanKey:""}),computed:{hasPlans(){return!this.plans||Object.keys(this.plans).length>0}},watch:{plans:{handler(){const e=localStorage.getObject("upgrade-data")||{};e.plan?this.selectedPlanKey=e.plan:this.selectDefaultPlan()},immediate:!0},selectedPlanKey(e){a.capture("plan select",{feature:"upgrade",term:e})},hasPlans:{handler(){this.hasPlans||m.trigger("modal:hideFooter")},immediate:!0}},created(){this.$e.$on("modal:interceptSubStepCompletion",this.savePlan)},destroyed(){this.$e.$off("modal:interceptSubStepCompletion",this.savePlan)},methods:{savePlan(){let e=localStorage.getObject("upgrade-data")||{};e.plan=this.selectedPlanKey,localStorage.setObject("upgrade-data",e),this.$e.$emit("upgradeDataChanged"),this.$e.$emit("modal:subStepCompletionIntercepted")},goBack(){this.$emit("goBack")},selectDefaultPlan(){const e=Object.keys(this.plans).find((e=>this.plans[e].default));e&&(this.selectedPlanKey=e),this.savePlan()},getSale(e){return this.sales[e]}}},(function(){var e=this,a=e._self._c;return a("section",{staticClass:"upgrade-flow choose-plan",attrs:{"data-test":"choose-plan"}},[e.showBack?a("div",{staticClass:"back icon-wrapper",attrs:{"data-test":"back"},on:{click:e.goBack}},[a("inline-svg",{staticClass:"icon icon-back",attrs:{src:t}}),a("span",{staticClass:"icon-label"},[e._v("Email")])],1):e._e(),e._m(0),a("div",{staticClass:"form-body"},[e.hasPlans?a("ul",{staticClass:"plan-list"},e._l(e.plans,(function(t,l){return a("li",{key:l,staticClass:"plan-list-item",class:{active:e.selectedPlanKey===l,"has-sale":e.getSale(l)},attrs:{tabindex:"0","data-test":t.frequency.toLowerCase()+"-plan"},on:{click:function(a){e.selectedPlanKey=l}}},[a("div",{staticClass:"plan-list-radio-wrapper"},[a("i",{staticClass:"radio"},[a("inline-svg",{staticClass:"icon-check",attrs:{src:s}})],1)]),a("div",{staticClass:"choose-plan-text-wrapper"},[a("div",{staticClass:"choose-plan-term"},[a("span",{staticClass:"period"},[e._v(e._s(t.overrideName||`Billed ${t.frequency}`))]),e.getSale(l)?a("span",{staticClass:"choose-plan-badge"},[e._v(e._s(e.getSale(l).badgeText))]):t.badgeText?a("span",{staticClass:"choose-plan-badge"},[e._v(e._s(t.badgeText))]):e._e()]),a("span",{staticClass:"choose-plan-price",class:{"u--strikeout":e.getSale(l)}},[e._v("$"+e._s(t.friendlyPrice)+"/"+e._s(t.interval))]),e.getSale(l)?a("span",{staticClass:"choose-plan-price choose-plan-price-sale"},[e._v(" $"+e._s(e.getSale(l).friendlyPrice)+"/"+e._s(t.interval))]):e._e(),t.friendlyMonthlyPrice?a("span",{staticClass:"choose-plan-description"},[a("span",[e._v("Equal to ")]),a("span",{staticClass:"monthly-price",class:{"u--strikeout":e.getSale(l)}},[e._v("$"+e._s(t.friendlyMonthlyPrice))]),e.getSale(l)?a("span",{staticClass:"monthly-price"},[e._v(" $"+e._s(e.getSale(l).friendlyMonthlyPrice))]):e._e(),a("span",[e._v("/month")])]):e._e()])])})),0):a("div",{staticClass:"no-plans"},[e._v(" Weâ€™re having trouble displaying our Momentum Plus offerings at the moment. Please check your internet connection and try again later. If the problem persists, please "),a("a",{attrs:{href:"https://momentumdash.com/contact",target:"_blank"}},[e._v("contact us")]),e._v(". ")])])])}),[function(){var e=this,a=e._self._c;return a("header",[a("h2",[e._v("Choose a Plan")]),a("div",{staticClass:"description"},[e._v("Upgrade to Plus")])])}],!1,null,"07319dc5").exports;export{l as default};