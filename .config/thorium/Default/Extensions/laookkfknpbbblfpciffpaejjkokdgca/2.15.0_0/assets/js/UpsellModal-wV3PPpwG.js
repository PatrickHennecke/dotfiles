import{M as e}from"./ModalBanner-DpVzvVKq.js";import{n as t,u as s,A as a}from"./promisifiedChrome-CheD9WtZ.js";import{j as l,k as i}from"./dashboard-CF_jRhAY.js";import{_ as r}from"./icon-close-BUGl_M7j.js";import{_ as o}from"./icon-clean-rFsPxTtp.js";const n=t({name:"Upsell",components:{ModalBanner:e},props:{type:{type:String,default:"General"},eventSource:{type:String,default:""},eventFeature:{type:String,default:""},eventType:{type:String,default:""},plans:{type:Object,default:()=>({})},sales:{type:Object,default:()=>({})},headerTitle:{type:String,default:"Available on Momentum Plus"}},setup:()=>({isSafari:s.isSafari(),stepsEnum:l}),computed:{saleActive(){return this.sales&&Object.keys(this.sales).length},sale(){return this.sales&&this.sales.yearly},upgradeExperimentModal:()=>i(),ctaButtonText(){return this.upgradeExperimentModal===l.FREE_TRIAL||this.upgradeExperimentModal===l.FREE_TRIAL_CARD?"Try Plus for free":"Get Momentum Plus"}},created(){m.on("globalEvent:esc",this.close);let e={feature:this.eventFeature||this.type};this.eventType&&(e.type=this.eventType),this.analytics=new a(e)},mounted(){m.upsellModalActive=!0,this.analytics.capture("upsell show",{location:this.eventSource}),m.commandManager.beforeExecute("upsell.upgrade")},destroyed(){m.upsellModalActive=!1,m.off("globalEvent:esc",this.close)},methods:{close(){m.trigger("modal:close")},upgrade(){this.analytics.capture("upsell click"),m.trigger("modal:showUpgrade")}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"upsell-modal",attrs:{"data-test":"upsell"}},[t("transition",{attrs:{name:"slide-fade",appear:""}},[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.close,expression:"close"}],staticClass:"app onboarding new-upsell light light-full",class:`${e.type}-upsell`,attrs:{"data-test":`${e.type}-upsell`}},[e.saleActive?t("modal-banner",{attrs:{sales:e.sales},on:{close:e.close}}):e._e(),t("header",{staticClass:"header"},[t("div",{staticClass:"header-left"}),t("div",{staticClass:"header-title"},[e._v(e._s(e.headerTitle))]),t("div",{staticClass:"header-right"},[e.saleActive?e._e():t("span",{staticClass:"icon-wrapper hide",attrs:{"data-test":"close"},on:{click:e.close}},[t("inline-svg",{staticClass:"icon icon-hide",attrs:{src:r}})],1)])]),t("main",{staticClass:"body"},[t("div",{staticClass:"body-header"},[t("div",{staticClass:"title",attrs:{"data-test":"upsell-title"}},[e._t("title")],2),t("div",{staticClass:"description",attrs:{"data-test":"upsell-description"}},[e._t("description")],2)]),e._t("body"),e._t("default")],2),t("footer",{staticClass:"footer"},[t("a",{staticClass:"button",attrs:{"data-test":"upsell-cta"},on:{click:e.upgrade}},[t("inline-svg",{staticClass:"icon",attrs:{src:o}}),e._v(e._s(e.ctaButtonText))],1),t("div",{staticClass:"button-desc"},[e.upgradeExperimentModal===e.stepsEnum.FREE_TRIAL?[e._v(" No credit card required. ")]:[e.isSafari?e._e():[e._v(" Only "),e.saleActive?[t("strong",[t("s",{staticClass:"strike"},[e._v("$"+e._s(e.plans.yearly.friendlyMonthlyPrice))]),e._v(" $"+e._s(e.sale.friendlyMonthlyPrice))]),e._v("/month.")]:e.plans.yearly?[e._v("$"+e._s(e.plans.yearly.friendlyMonthlyPrice)+"/month.")]:e._e()],e._v(" 30-day money-back guarantee. ")],e.isSafari?e._e():t("a",{staticClass:"learn-more",attrs:{href:"https://momentumdash.com/plus",target:"_blank"}},[t("strong",[e._v("Learn more")])])],2)])],1)])],1)}),[],!1,null,"8190a582").exports;export{n as U};