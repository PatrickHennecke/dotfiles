const __vite__fileDeps=["assets/js/FocusContent-SIeJl5PY.js","assets/js/preload-helper-D7CfCCEq.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/js/dashboard-CF_jRhAY.js","assets/js/main--IJuvtTE.js","assets/js/ResizeSensor-CXS_pGRc.js","assets/js/environmentVariables-Cy83xda0.js","assets/js/promisifiedChrome-CheD9WtZ.js","assets/js/timestampDb-sTUCijT1.js","assets/js/Logger-Dqn8sDPg.js","assets/js/string-KTo4Qfpe.js","assets/js/localStorage-B4mFdj8F.js","assets/js/migrateLegacyUserMessageHandler-CU6TUnqH.js","assets/css/dashboard-C0DDMXTO.css","assets/js/centerBelowMetadata-Bp2C4PFe.js","assets/js/search-DCqlmJx6.js","assets/js/reactiveCustomization-CrL2eTrh.js","assets/js/VueBase-CjPGMLuv.js","assets/js/index-CJJH83pl.js","assets/js/DashCheckbox-COO9Ahuf.js","assets/js/BaseIcon-CACrCBea.js","assets/js/arrow-B0GpGOd-.js","assets/js/icon-weather-reset-D7qA-OAP.js","assets/js/icon-settings-Bycjf8-G.js","assets/js/icon-chrome-BdhFuvxf.js","assets/js/icon-back-arrow-CiRQJ6G-.js","assets/js/icon-back-D_TFrgyJ.js","assets/js/icon-check-Vc9B11BJ.js","assets/js/icon-circle-D-D5U4qS.js","assets/js/icon-close-BUGl_M7j.js","assets/js/icon-cog-BFr_Pva7.js","assets/js/icon-skip-BOkC5L0N.js","assets/js/icon-trash-DFxJwJNo.js","assets/js/icon-down-BiHbKN-t.js","assets/js/icon-edit-CixeXNYx.js","assets/js/icon-ellipsis-D3jS4u3x.js","assets/js/icon-error-state-BKQhfBCj.js","assets/js/icon-heart-v5O7C6eS.js","assets/js/icon-hide-NFfBhfBx.js","assets/js/icon-key-BPNRipb3.js","assets/js/icon-lock-B0ekkj2F.js","assets/js/icon-next-B4hjdiAA.js","assets/js/icon-photo-BrwqV1T0.js","assets/js/icon-pin-BHeOuzvO.js","assets/js/icon-plus-D4YOesIc.js","assets/js/icon-profile-B_XWyuTb.js","assets/js/icon-x-qUCmf2CW.js","assets/js/icon-skip-intro-BUi8b3Ak.js","assets/js/icon-tooltip-CN09iXOB.js","assets/js/icon-visible-on-CM3kpcFN.js","assets/js/icon-x-caret-half-CZtcH_PM.js","assets/js/star-rating-CNohptmf.js","assets/js/pomodoro-circle-Dx_GWql1.js","assets/js/star-KworSO8x.js","assets/js/thanks-DfYnO-qW.js","assets/js/add-COIuonao.js","assets/js/google-DKPAcOmk.js","assets/js/arrow-up-1QPpu78M.js","assets/js/chevron-down-DdbU9YAr.js","assets/js/pomodoro-DvfTwCi0.js","assets/js/clocks-DjzskNOU.js","assets/js/close-D7GCNZxm.js","assets/js/folder-CwWTWsnJ.js","assets/js/switch-EuBTQVVE.js","assets/js/focus-mode-09pIyYAW.js","assets/js/storage-YYEO5TB5.js","assets/js/icon-confetti-Dz2LojDe.js","assets/js/wind-D3u4taeq.js","assets/js/sparks-CAw9b6ob.js","assets/js/secure-B8YP-AML.js","assets/js/icon-percent-schedule-CA5EI9b7.js","assets/js/icon-trello-BoqqWb7o.js","assets/js/icon-clean-rFsPxTtp.js","assets/js/icon-more-lists-Dg-hN7s6.js","assets/js/icon-more-fonts-CcfOY0t4.js","assets/js/icon-focus-stats-keERwXFt.js","assets/js/icon-easy-access-BZifTR0C.js","assets/js/icon-top-of-mind-B6EhbCcK.js","assets/js/icon-flow-5QqmGIWX.js","assets/js/icon-focused-JrsBbR-K.js","assets/js/icon-weather-extra-ufLpT_SX.js","assets/js/icon-spiral-gh4hwZDD.js","assets/js/icon-happy-place-D1z6CJgM.js","assets/js/icon-time-sensitive-CP2L3maw.js","assets/js/icon-hourly-CdMmiQZT.js","assets/js/icon-infinity-D4yMRoAd.js","assets/js/icon-integrations-Y-aXZTst.js","assets/js/icon-kanban-Dodqg7y-.js","assets/js/icon-personalize-photos-D2M4lLlt.js","assets/js/icon-personalize-n8qjJGGA.js","assets/js/icon-photo-match-C2EChNEK.js","assets/js/icon-random-375DbcwF.js","assets/js/icon-timezones-DGZoTtaT.js","assets/js/icon-simplify-BRUtLJYp.js","assets/js/icon-skip-Bd6EhalI.js","assets/js/icon-sync-DIH26Y9h.js","assets/css/BaseIcon-BlT7Qz-y.css","assets/css/DashCheckbox-CFAHkdRy.css","assets/css/FocusContent-CWVvKefF.css","assets/js/PomodoroEmptyFocus-Dzn2oFOu.js","assets/js/SmoothReflow-B3dWZqEj.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/css/PomodoroEmptyFocus-BBY9fbaU.css","assets/js/TeamFocus-ic394JuO.js","assets/js/Dropdown-CPB6qe0h.js","assets/css/Dropdown-BcLAxJWG.css","assets/js/DropdownOption-CokACERR.js","assets/css/TeamFocus-BLbizBOv.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as t}from"./preload-helper-D7CfCCEq.js";import{_ as e}from"./icon-confetti-Dz2LojDe.js";import o from"./focusCollection-BcWYAnwr.js";import{M as s}from"./MobileBlur-B2s9dLKD.js";import{s as i}from"./showAnyway-CbfR58eh.js";import{c as a}from"./centerBelowMetadata-Bp2C4PFe.js";import{T as r,s as n}from"./dashboard-CF_jRhAY.js";import{a as c}from"./allComponentsMounted-C3UsG_cA.js";import{n as u,u as d}from"./promisifiedChrome-CheD9WtZ.js";import{f as l}from"./flashMessageMixin-BWjGkbzu.js";import{g as p}from"./globalKeyEventManager-KbJZwtdf.js";import{c as f}from"./constants-D-OQQ8lR.js";import{b as v}from"./ResizeSensor-CXS_pGRc.js";import"./VueBase-CjPGMLuv.js";import"./index-CJJH83pl.js";import"./itemModelMixin-BHakSWl-.js";import"./reactiveCustomization-CrL2eTrh.js";import"./namesMixin-EAvqmdCw.js";import"./timestampDb-sTUCijT1.js";import"./Logger-Dqn8sDPg.js";import"./environmentVariables-Cy83xda0.js";import"./search-DCqlmJx6.js";import"./main--IJuvtTE.js";import"./localStorage-B4mFdj8F.js";import"./migrateLegacyUserMessageHandler-CU6TUnqH.js";import"./string-KTo4Qfpe.js";const h=(t,e)=>{t.style.opacity=e?"1":"0",t.style.pointerEvents=e?"":"none",t.style.visibility=e?"visible":"hidden"},y={name:"Focus",components:{FocusContent:()=>t((()=>import("./FocusContent-SIeJl5PY.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98])),PomodoroEmptyFocus:()=>t((()=>import("./PomodoroEmptyFocus-Dzn2oFOu.js")),__vite__mapDeps([99,2,3,4,5,6,7,8,9,1,10,11,12,13,100,101,102])),TeamFocus:()=>t((()=>import("./TeamFocus-ic394JuO.js")),__vite__mapDeps([103,104,35,7,8,9,6,5,1,10,105,106,2,3,4,11,12,13,44,34,29,107])),ThreeColLayout:r},directives:{MobileBlur:s,Visible:{bind:(t,{value:e})=>{h(t,e)},componentUpdated:(t,{value:e,oldValue:o,modifiers:s})=>{!e!=!o&&(s.transition&&(t.style.transition="opacity 0.5s ease, visibility 0.5s ease"),s.delay&&(t.style.transitionDelay=e?"0.5s":"0"),h(t,e))}}},mixins:[c,l],props:{inPomodoro:{type:Boolean,default:!1},inputPlaceholder:{type:String,default:""},pomodoroMessage:{type:String,default:"Focus"}},data:()=>({editing:!1,fontSizeScale:1,transitionAfterComplete:!1}),computed:{teamFocusEnabled(){return m.conditionalFeatures.featureEnabled("team_focus")&&!this.$touch},activeFocus:()=>o.activeFocus,collectionReady:()=>o.loaded,emptyFocusVisible:()=>o.emptyFocus,displayedFocus(){var t,e,o;return this.editing?null==(e=null==(t=this.activeFocus)?void 0:t.editProps)?void 0:e.focus:null==(o=this.activeFocus)?void 0:o.focus}},unreactive:()=>({showAnyway:i,centerBelowMetadata:a}),watch:{displayedFocus(){this.onFocusChange()}},mounted(){this.onFocusChange()},created(){m.on("focus:pomodoro:new",this.showPomodoroFocusInput)},destroyed(){m.off("focus:pomodoro:new",this.showPomodoroFocusInput)},methods:{editCurrentFocus(){this.editing=!0,this.activeFocus.copyProperties(),this.focusOnPrompt(),p.registerEventListener("focus:edit","keyup",27,this.save)},archiveFocus(){o.archive()},completeFocus(){o.toggleComplete(),this.activeFocus.completed&&this.congratulate(),this.inPomodoro&&d.delay(1e3).then((()=>{this.transitionAfterComplete=!0,this.activeFocus.completed&&this.archiveFocusAndShowPomodoroFocusInput(),d.delay(1e3).then((()=>{this.transitionAfterComplete=!1,this.focusOnPrompt()}))}))},congratulate(){const t={message:d.getRandomItem(["Great work!","Good job!","Nice!","Way to go!"]),icon:e,...n.currentValue?{buttons:[{text:"Continue focusing",action:()=>{},dismissOnClick:!0},{text:"Stop focus mode",action:()=>m.trigger("focusMode:stop"),dismissOnClick:!0,cssClasses:["button-tertiary"]}],persist:1e4}:{}};this.showFlashMessage(t)},save(){var t;this.editing&&(this.editing=!1,p.removeEventListener("focus:edit","keyup",27),this.emptyFocusVisible&&(this.activeFocus.editProps.forDate=m.utils.getDateString()),null==(t=this.$refs.prompt)||t.blur(),o.save().catch(console.error))},async focusOnPrompt(){var t;await d.delay(100),null==(t=this.$refs.prompt)||t.focus()},showPomodoroFocusInput(){this.editing=!0,this.focusOnPrompt()},archiveFocusAndShowPomodoroFocusInput(){this.archiveFocus(),this.showPomodoroFocusInput()},afterEnter(){m.trigger("focus-content:updated")},async onFocusChange(){var t;if(localStorage.setItem(f,this.displayedFocus||""),!this.inPomodoro)return;await d.doubleRaf();const e=null==(t=this.$refs["font-sizer"])?void 0:t.clientWidth;this.fontSizeScale=!e||e<=150?1:e>=200?.62:1-(e-150)/50*.38}}},F=()=>{v(((t,e)=>({"099639e4":t.fontSizeScale})))},g=y.setup;y.setup=g?(t,e)=>(F(),g(t,e)):F;const b=u(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"focuses app-container",class:{"show-anyway":t.showAnyway.includes("focus")},attrs:{"data-test":"focus","data-show-anyway":"focus"}},[t.inPomodoro&&t.collectionReady?e("div",{staticClass:"focus-wrapper has-dash-icon pomodoro-view",attrs:{"data-ob":"focus-dash"}},[e("transition",{attrs:{name:"fade",duration:t.transitionAfterComplete?500:0,mode:"out-in"}},[t.editing?e("div",{key:"2",staticClass:"prompt"},[e("span",{staticClass:"hidden-data"},[t._v(t._s(t.activeFocus.editProps.focus??""))]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.activeFocus.editProps.focus,expression:"activeFocus.editProps.focus",modifiers:{trim:!0}},{name:"mobile-blur",rawName:"v-mobile-blur",value:t.save,expression:"save"}],ref:"prompt",staticClass:"focus-input",attrs:{type:"text",placeholder:t.inputPlaceholder,"data-test":"focus-input",autocomplete:"off"},domProps:{value:t.activeFocus.editProps.focus},on:{blur:[t.save,function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.activeFocus.editProps,"focus",e.target.value.trim())}}})]):e("span",{key:"1",staticClass:"greeting"},[e("transition",{attrs:{name:"fade",mode:"out-in"},on:{"after-enter":t.afterEnter}},[t.emptyFocusVisible?e("div",{key:"2"},[e("pomodoro-empty-focus",{attrs:{message:t.pomodoroMessage},on:{"add-focus":t.showPomodoroFocusInput}})],1):e("div",{key:"1",staticClass:"focus"},[e("focus-content",{attrs:{focus:t.activeFocus,"in-pomodoro":!0},on:{complete:t.completeFocus,archive:t.archiveFocus,edit:t.editCurrentFocus,new:t.archiveFocusAndShowPomodoroFocusInput}})],1)])],1)]),e("transition",{attrs:{name:"fade",duration:t.transitionAfterComplete?500:0,mode:"out-in"}},[t.editing?e("span"):t._t("right-when-not-editing",null,{editFocus:t.editCurrentFocus})],2)],1):t.collectionReady?e("div",{staticClass:"focus-wrapper has-dash-icon clock-view",attrs:{"data-ob":"focus-dash"}},[e("div",{directives:[{name:"visible",rawName:"v-visible.transition.delay",value:!t.editing&&!t.emptyFocusVisible,expression:"!editing && !emptyFocusVisible",modifiers:{transition:!0,delay:!0}}],staticClass:"focus-inner-wrapper"},[e("div",{staticClass:"focus"},[e("focus-content",{attrs:{focus:t.activeFocus},on:{complete:t.completeFocus,archive:t.archiveFocus,edit:t.editCurrentFocus,new:t.archiveFocus},scopedSlots:t._u([{key:"nav",fn:function(){return[t._t("nav")]},proxy:!0}],null,!0)})],1)]),e("three-col-layout",{directives:[{name:"visible",rawName:"v-visible.transition.delay",value:t.editing||t.emptyFocusVisible,expression:"editing || emptyFocusVisible",modifiers:{transition:!0,delay:!0}}],staticClass:"focus-prompt-wrapper",scopedSlots:t._u([{key:"left",fn:function(){return[t._t("nav")]},proxy:!0},{key:"center",fn:function(){return[e("div",{staticClass:"prompt"},[e("h3",{staticClass:"focus-question"},[t._v("What is your main goal for today?")]),e("span",{staticClass:"hidden-data"},[t._v(t._s(t.activeFocus.editProps.focus??""))]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.activeFocus.editProps.focus,expression:"activeFocus.editProps.focus",modifiers:{trim:!0}},{name:"mobile-blur",rawName:"v-mobile-blur",value:t.save,expression:"save"}],ref:"prompt",staticClass:"focus-input",attrs:{type:"text","data-test":"focus-input",autocomplete:"off"},domProps:{value:t.activeFocus.editProps.focus},on:{focus:t.editCurrentFocus,blur:[t.save,function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.activeFocus.editProps,"focus",e.target.value.trim())}}})])]},proxy:!0}],null,!0)})],1):t._e(),t.inPomodoro?t._e():[e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.teamFocusEnabled?e("div",{staticClass:"team-focus-wrapper"},[e("team-focus")],1):t._e()])],e("div",{ref:"font-sizer",staticClass:"font-sizer"},[t._v(t._s(t.displayedFocus))])],2)}),[],!1,null,"74bcc0d9").exports;export{b as default};