import{L as s,l as t}from"./loginStepMixin-Cw4SXMRY.js";import{L as o}from"./LoginPasswordInput-C7qYfSot.js";import{l as e}from"./dashboard-CF_jRhAY.js";import{a as i}from"./authService-B5VliZ3K.js";import{_ as r}from"./icon-back-D_TFrgyJ.js";import{n as a}from"./promisifiedChrome-CheD9WtZ.js";import"./SmoothReflow-B3dWZqEj.js";import"./ResizeSensor-CXS_pGRc.js";import"./environmentVariables-Cy83xda0.js";import"./allComponentsMounted-C3UsG_cA.js";import"./icon-next-B4hjdiAA.js";import"./LoginInput-KVl0433V.js";import"./SoftFocus-BUhesXB-.js";import"./MobileBlur-B2s9dLKD.js";import"./icon-visible-on-CM3kpcFN.js";import"./main--IJuvtTE.js";import"./localStorage-B4mFdj8F.js";import"./preload-helper-D7CfCCEq.js";import"./Logger-Dqn8sDPg.js";import"./migrateLegacyUserMessageHandler-CU6TUnqH.js";import"./timestampDb-sTUCijT1.js";import"./reactiveCustomization-CrL2eTrh.js";import"./VueBase-CjPGMLuv.js";import"./index-CJJH83pl.js";import"./SubscriptionSummary-Bb_CwKvU.js";import"./string-KTo4Qfpe.js";const n=a({name:"LoginChoosePassword",components:{LoginPasswordInput:o,LoginLayout:s},mixins:[t],inject:["capture"],data:()=>({message:"Resetting password for {email}. Minimum 6 characters.",password:""}),mounted(){this.capture("password-step show",{case:"reset"})},methods:{onEnter(){this.resetPassword()},onEscape(){this.goToEmail("hotkey")},goToEmail(s="click"){this.capture("change email click",{method:s}),this.$emit("goToSubStep",e.EMAIL)},resetPassword(){return this.setLoadingWithErrorHandling((async s=>{await i.resetPassword(this.name,this.email,this.password),this.capture("password-step complete",{case:"reset"}),this.$emit("goToSubStep",e.RESET_PASSWORD_SENT),s()}))}}},(function(){var s=this,t=s._self._c;return t("login-layout",{attrs:{loading:s.loading,"data-test":"reset-password-step"},on:{submit:s.resetPassword},scopedSlots:s._u([{key:"actions-top-left",fn:function(){return[t("div",{staticClass:"button dash-button",attrs:{"data-test":"email-button"},on:{click:s.goToEmail}},[t("inline-svg",{staticClass:"icon icon-back",attrs:{src:r}}),t("span",[s._v("Email")])],1)]},proxy:!0},{key:"title",fn:function(){return[s._v(" Resetting password ")]},proxy:!0},{key:"question",fn:function(){return[s._v(" Please choose a new password. ")]},proxy:!0},{key:"input",fn:function(){return[t("login-password-input",{ref:"login-input",attrs:{disabled:s.loading},on:{submit:s.resetPassword},model:{value:s.password,callback:function(t){s.password=t},expression:"password"}})]},proxy:!0},{key:"message",fn:function(){return[s._v(" "+s._s(s.computedMessage)+" ")]},proxy:!0},{key:"continue-message",fn:function(){return[s._v(" Send verification email ")]},proxy:!0}])})}),[],!1,null,null).exports;export{n as default};