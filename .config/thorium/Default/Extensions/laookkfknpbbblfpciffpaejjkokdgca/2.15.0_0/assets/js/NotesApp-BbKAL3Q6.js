import{a as t}from"./appViewSwitchMixin-BsLJ76Hr.js";import{h as e,n,_ as s,A as i,r as o,d as r,u as a}from"./promisifiedChrome-CheD9WtZ.js";import{S as c,N as l,a as u,A as d,b as h,c as p,d as f,m as g,w as k,M as _,e as b,f as y,g as v,t as C,P as D,h as A,T as w,i as E,E as x,j as S,k as F,l as L,F as T,n as M,D as z,o as B,p as I,q as O,r as N,s as j,v as H,x as R,y as P,z as $,B as q,C as V,I as U,G as Z,H as W,J as G,K,L as J,u as Q,O as X,Q as Y,R as tt,U as et,V as nt,W as st,X as it,Y as ot,Z as rt,_ as at,$ as ct,a0 as lt,a1 as ut,a2 as dt,a3 as ht,a4 as pt,a5 as mt,a6 as ft,a7 as gt,a8 as kt,a9 as _t}from"./notes-ctraUoaH.js";import{d as bt,w as yt,r as vt,j as Ct,b as Dt,a as At,v as wt}from"./ResizeSensor-CXS_pGRc.js";import{A as Et}from"./AppView-CyOtvy2t.js";import{A as xt}from"./AppPopup-D_ukOJBQ.js";import{A as St}from"./AppLoading-DeR9IIx3.js";import{A as Ft}from"./AppEmpty-BrSPSkb0.js";import{A as Lt,c as Tt}from"./AppHeader-DGqF8Ifm.js";import{_ as Mt}from"./icon-close-BUGl_M7j.js";import{B as zt}from"./BaseDropdownOption-CckvXbkm.js";import{B as Bt}from"./BaseItemList-DEa4hADS.js";import{a as It,B as Ot,b as Nt,c as jt,d as Ht}from"./BaseDropdown-BAkdZe-R.js";import{A as Rt}from"./AppHeaderControl-BC-AHodD.js";import{_ as Pt,a as $t}from"./arrow-B0GpGOd-.js";import{f as qt,_ as Vt,g as Ut,h as Zt,i as Wt,j as Gt,c as Kt,k as Jt,b as Qt,l as Xt,m as Yt,n as te,o as ee,a as ne,p as se,q as ie,r as oe,s as re,d as ae,t as ce,u as le,v as ue,w as de,x as he,y as pe,e as me,z as fe,A as ge,B as ke,C as _e}from"./icon-weather-reset-D7qA-OAP.js";import{a as be,b as ye,_ as ve}from"./icon-settings-Bycjf8-G.js";import{_ as Ce,P as De}from"./dashboard-CF_jRhAY.js";import{a as Ae,_ as we}from"./icon-chrome-BdhFuvxf.js";import{_ as Ee}from"./icon-back-arrow-CiRQJ6G-.js";import{_ as xe}from"./icon-back-D_TFrgyJ.js";import{_ as Se}from"./icon-check-Vc9B11BJ.js";import{_ as Fe}from"./icon-circle-D-D5U4qS.js";import{_ as Le}from"./icon-cog-BFr_Pva7.js";import{_ as Te,a as Me}from"./icon-skip-BOkC5L0N.js";import{_ as ze,a as Be,b as Ie}from"./icon-trash-DFxJwJNo.js";import{_ as Oe}from"./icon-down-BiHbKN-t.js";import{_ as Ne}from"./icon-edit-CixeXNYx.js";import{_ as je}from"./icon-ellipsis-D3jS4u3x.js";import{_ as He}from"./icon-error-state-BKQhfBCj.js";import{_ as Re}from"./icon-heart-v5O7C6eS.js";import{_ as Pe}from"./icon-hide-NFfBhfBx.js";import{_ as $e}from"./icon-key-BPNRipb3.js";import{_ as qe}from"./icon-lock-B0ekkj2F.js";import{_ as Ve}from"./icon-next-B4hjdiAA.js";import{_ as Ue}from"./icon-photo-BrwqV1T0.js";import{_ as Ze}from"./icon-pin-BHeOuzvO.js";import{_ as We}from"./icon-plus-D4YOesIc.js";import{_ as Ge}from"./icon-profile-B_XWyuTb.js";import{_ as Ke,a as Je}from"./icon-x-qUCmf2CW.js";import{_ as Qe}from"./icon-skip-intro-BUi8b3Ak.js";import{_ as Xe}from"./icon-tooltip-CN09iXOB.js";import{_ as Ye,a as tn}from"./icon-visible-on-CM3kpcFN.js";import{_ as en}from"./icon-x-caret-half-CZtcH_PM.js";import{a as nn,_ as sn}from"./star-rating-CNohptmf.js";import{_ as on}from"./pomodoro-circle-Dx_GWql1.js";import{_ as rn}from"./star-KworSO8x.js";import{_ as an}from"./thanks-DfYnO-qW.js";import{_ as cn}from"./add-COIuonao.js";import{_ as ln,a as un,f as dn,g as hn,d as pn,e as mn,b as fn,c as gn,h as kn,i as _n}from"./google-DKPAcOmk.js";import{f as bn,z as yn,A as vn,C as Cn,D as Dn,E as An,F as wn,G as En,H as xn,I as Sn,J as Fn,K as Ln,L as Tn,M as Mn,N as zn,O as Bn,P as In,Q as On,R as Nn,S as jn,T as Hn,U as Rn,V as Pn,W as $n,X as qn,Y as Vn,Z as Un,$ as Zn,a0 as Wn,a1 as Gn,a2 as Kn,a as Jn,a3 as Qn,j as Xn,k as Yn,l as ts,m as es,n as ns,o as ss,p as is,q as os,r as rs,s as as,t as cs,u as ls,v as us,w as ds,x as hs,y as ps,a4 as ms,a5 as fs,a6 as gs,c as ks,b as _s,a7 as bs,a8 as ys,d as vs,_ as Cs,a9 as Ds,aa as As,ab as ws,h as Es,ac as xs,g as Ss,i as Fs,ad as Ls,ae as Ts,af as Ms,ag as zs,ah as Bs,e as Is,ai as Os,aj as Ns,ak as js,al as Hs}from"./BaseIcon-CACrCBea.js";import{_ as Rs}from"./arrow-up-1QPpu78M.js";import{_ as Ps}from"./chevron-down-DdbU9YAr.js";import{a as $s,_ as qs}from"./pomodoro-DvfTwCi0.js";import{a as Vs,_ as Us,b as Zs}from"./clocks-DjzskNOU.js";import{_ as Ws}from"./close-D7GCNZxm.js";import{a as Gs,_ as Ks}from"./search-DCqlmJx6.js";import{_ as Js}from"./folder-CwWTWsnJ.js";import{_ as Qs}from"./switch-EuBTQVVE.js";import{_ as Xs}from"./focus-mode-09pIyYAW.js";import{_ as Ys,a as ti,b as ei}from"./storage-YYEO5TB5.js";import{_ as ni}from"./icon-confetti-Dz2LojDe.js";import{c as si,P as ii,e as oi,U as ri,m as ai,o as ci,z as li,d as ui,X as di,Q as hi,g as pi,f as mi,W as fi,b as gi,G as ki,I as _i,J as bi,K as yi,H as vi,L as Ci,u as Di,v as Ai,w as wi,x as Ei,t as xi,n as Si,i as Fi,S as Li,R as Ti,s as Mi,_ as zi,Y as Bi,a as Ii,V as Oi,p as Ni,q as ji,l as Hi,j as Ri,N as Pi,T as $i,k as qi,h as Vi,M as Ui,D as Zi,F as Wi,C as Gi,E as Ki,B as Ji,A as Qi,O as Xi,y as Yi,r as to}from"./wind-D3u4taeq.js";import{_ as eo,a as no}from"./sparks-CAw9b6ob.js";import{a as so,_ as io}from"./secure-B8YP-AML.js";import{a as oo,_ as ro}from"./icon-percent-schedule-CA5EI9b7.js";import{a as ao,b as co,c as lo,d as uo,e as ho,_ as po,f as mo,g as fo,h as go,i as ko,j as _o,k as bo,l as yo}from"./icon-trello-BoqqWb7o.js";import{_ as vo}from"./icon-clean-rFsPxTtp.js";import{_ as Co,a as Do}from"./icon-more-lists-Dg-hN7s6.js";import{a as Ao,_ as wo}from"./icon-more-fonts-CcfOY0t4.js";import{_ as Eo,a as xo}from"./icon-focus-stats-keERwXFt.js";import{_ as So}from"./icon-easy-access-BZifTR0C.js";import{_ as Fo,a as Lo,b as To}from"./icon-top-of-mind-B6EhbCcK.js";import{_ as Mo}from"./icon-flow-5QqmGIWX.js";import{_ as zo}from"./icon-focused-JrsBbR-K.js";import{_ as Bo,a as Io}from"./icon-weather-extra-ufLpT_SX.js";import{a as Oo,_ as No}from"./icon-spiral-gh4hwZDD.js";import{_ as jo}from"./icon-happy-place-D1z6CJgM.js";import{_ as Ho,a as Ro}from"./icon-time-sensitive-CP2L3maw.js";import{_ as Po}from"./icon-hourly-CdMmiQZT.js";import{_ as $o}from"./icon-infinity-D4yMRoAd.js";import{_ as qo}from"./icon-integrations-Y-aXZTst.js";import{_ as Vo}from"./icon-kanban-Dodqg7y-.js";import{_ as Uo}from"./icon-personalize-photos-D2M4lLlt.js";import{_ as Zo}from"./icon-personalize-n8qjJGGA.js";import{_ as Wo}from"./icon-photo-match-C2EChNEK.js";import{_ as Go}from"./icon-random-375DbcwF.js";import{_ as Ko,a as Jo}from"./icon-timezones-DGZoTtaT.js";import{_ as Qo}from"./icon-simplify-BRUtLJYp.js";import{_ as Xo}from"./icon-skip-Bd6EhalI.js";import{_ as Yo}from"./icon-sync-DIH26Y9h.js";import{u as tr}from"./ViewState-CkTFc_ep.js";import{B as er}from"./BaseDropdownDivider-Do6boaEI.js";import{S as nr}from"./SmoothReflow-B3dWZqEj.js";import{f as sr}from"./flashMessageMixin-BWjGkbzu.js";import{B as ir}from"./BaseDropdownText-JuRMaT4M.js";import{u as or}from"./notesViewState-CGTRJxMk.js";import{g as rr}from"./globalKeyEventManager-KbJZwtdf.js";import{u as ar}from"./preload-helper-D7CfCCEq.js";import{c as cr,p as lr}from"./reactiveCustomization-CrL2eTrh.js";import{a as ur}from"./index-CVtjxjol.js";import"./timestampDb-sTUCijT1.js";import"./Logger-Dqn8sDPg.js";import"./environmentVariables-Cy83xda0.js";import"./string-KTo4Qfpe.js";import"./compareObjects-BF7sSNEf.js";import"./constants-BpVlFj04.js";import"./allComponentsMounted-C3UsG_cA.js";import"./VueBase-CjPGMLuv.js";import"./index-CJJH83pl.js";import"./main--IJuvtTE.js";import"./localStorage-B4mFdj8F.js";import"./migrateLegacyUserMessageHandler-CU6TUnqH.js";const{Axios:dr,AxiosError:hr,CanceledError:pr,isCancel:mr,CancelToken:fr,VERSION:gr,all:kr,Cancel:_r,isAxiosError:br,spread:yr,toFormData:vr,AxiosHeaders:Cr,HttpStatusCode:Dr,formToJSON:Ar,getAdapter:wr,mergeConfig:Er}=e;const xr=n({name:"AppViewSwitch",mixins:[t]},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-view-switch app-view-switch-static",class:{transitioning:t.transitionActive}},[e("transition",{attrs:{name:t.transitionType,duration:300},on:{beforeLeave:t.beforeTransition,beforeEnter:t.beforeTransition,afterEnter:t.afterTransition}},[e("div",{key:t.orderKey},[t._t("default")],2)])],1)}),[],!1,null,"85ff11de").exports;const Sr=n({name:"NoteListItem",props:{note:{type:Object,required:!0},active:{type:Boolean,required:!0}},computed:{titlePreview(){return this.note.preview.slice(0,c)}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"note-list-item",class:{active:t.active},attrs:{"data-test":"list-item"}},[e("div",{staticClass:"note-list-item-title",attrs:{"data-test":"list-title"}},[t._v(" "+t._s(t.titlePreview)+" ")])])}),[],!1,null,"8df82d90").exports;const Fr=n({name:"AppSearch",props:{value:{type:String,required:!0}},emits:["input","enter","blur","focus","up","down"],methods:{clear(){this.$emit("input",""),this.focus()},clearAndBlur(){this.$emit("input",""),this.$refs.search.blur()},focus(){this.$refs.search.focus()},select(){this.$refs.search.select()},onFocus(){this.$emit("focus")},onBlur(){this.$emit("blur")}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-search"},[e("div",{staticClass:"search-wrapper"},[e("span",{staticClass:"input-wrapper"},[e("i",{staticClass:"icon icon-search"}),t.value.length?e("span",{staticClass:"icon-clear-wrapper",on:{click:t.clear}},[e("inline-svg",{staticClass:"icon icon-clear",attrs:{src:Mt}})],1):t._e(),e("input",{ref:"search",staticClass:"search-input notes-search",attrs:{type:"text",name:"search","data-test":"search-input",placeholder:"Search",autocomplete:"off"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.stopPropagation(),e.preventDefault(),t.$emit("up"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.stopPropagation(),e.preventDefault(),t.$emit("down"))}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.clearAndBlur.apply(null,arguments))},focus:t.onFocus,blur:t.onBlur}})])])])}),[],!1,null,"de3f5bde").exports;const Lr=n({name:"NotesEditorToolbarButton",props:{icon:{type:String,required:!0},active:{type:Boolean,default:!1},title:{type:String,required:!0}},emits:["click"]},(function(){var t=this,e=t._self._c;return e("button",{staticClass:"notes-editor-toolbar-button icon-wrapper",class:{active:t.active},attrs:{title:t.title},on:{click:function(e){return t.$emit("click",e)}}},[e("inline-svg",{staticClass:"icon icon-toolbar",attrs:{src:Tr(`../../../img/${t.icon}.svg`)}})],1)}),[],!1,null,"6dbf33ca").exports;function Tr(t){switch(t){case"../../../img/arrow":case"../../../img/arrow.svg":return $t;case"../../../img/icon-add-circle-clear":case"../../../img/icon-add-circle-clear.svg":return _e;case"../../../img/icon-add-circle":case"../../../img/icon-add-circle.svg":return ke;case"../../../img/icon-add-member":case"../../../img/icon-add-member.svg":return ve;case"../../../img/icon-alert":case"../../../img/icon-alert.svg":return Ce;case"../../../img/icon-announcement":case"../../../img/icon-announcement.svg":return ye;case"../../../img/icon-apple":case"../../../img/icon-apple.svg":return we;case"../../../img/icon-apps":case"../../../img/icon-apps.svg":return ge;case"../../../img/icon-archive":case"../../../img/icon-archive.svg":return fe;case"../../../img/icon-arrow":case"../../../img/icon-arrow.svg":return me;case"../../../img/icon-back-arrow":case"../../../img/icon-back-arrow.svg":return Ee;case"../../../img/icon-back":case"../../../img/icon-back.svg":return xe;case"../../../img/icon-bottom-link":case"../../../img/icon-bottom-link.svg":return pe;case"../../../img/icon-check-green":case"../../../img/icon-check-green.svg":return he;case"../../../img/icon-check":case"../../../img/icon-check.svg":return Se;case"../../../img/icon-chrome":case"../../../img/icon-chrome.svg":return Ae;case"../../../img/icon-circle":case"../../../img/icon-circle.svg":return Fe;case"../../../img/icon-clocks":case"../../../img/icon-clocks.svg":return de;case"../../../img/icon-close":case"../../../img/icon-close.svg":return Mt;case"../../../img/icon-cog":case"../../../img/icon-cog.svg":return Le;case"../../../img/icon-countdowns":case"../../../img/icon-countdowns.svg":return ue;case"../../../img/icon-dislike-light":case"../../../img/icon-dislike-light.svg":return le;case"../../../img/icon-dislike":case"../../../img/icon-dislike.svg":return Me;case"../../../img/icon-down-light":case"../../../img/icon-down-light.svg":return Ie;case"../../../img/icon-down":case"../../../img/icon-down.svg":return Oe;case"../../../img/icon-edge":case"../../../img/icon-edge.svg":return ce;case"../../../img/icon-edit":case"../../../img/icon-edit.svg":return Ne;case"../../../img/icon-ellipsis":case"../../../img/icon-ellipsis.svg":return je;case"../../../img/icon-error-state":case"../../../img/icon-error-state.svg":return He;case"../../../img/icon-external-link":case"../../../img/icon-external-link.svg":return ae;case"../../../img/icon-heart-empty":case"../../../img/icon-heart-empty.svg":return re;case"../../../img/icon-heart":case"../../../img/icon-heart.svg":return Re;case"../../../img/icon-help":case"../../../img/icon-help.svg":return oe;case"../../../img/icon-hide":case"../../../img/icon-hide.svg":return Pe;case"../../../img/icon-key":case"../../../img/icon-key.svg":return $e;case"../../../img/icon-lock":case"../../../img/icon-lock.svg":return qe;case"../../../img/icon-log-in":case"../../../img/icon-log-in.svg":return Be;case"../../../img/icon-menu":case"../../../img/icon-menu.svg":return ie;case"../../../img/icon-metrics":case"../../../img/icon-metrics.svg":return se;case"../../../img/icon-next":case"../../../img/icon-next.svg":return Ve;case"../../../img/icon-pause":case"../../../img/icon-pause.svg":return ne;case"../../../img/icon-percent":case"../../../img/icon-percent.svg":return ee;case"../../../img/icon-photo":case"../../../img/icon-photo.svg":return Ue;case"../../../img/icon-pin-empty-light":case"../../../img/icon-pin-empty-light.svg":return te;case"../../../img/icon-pin-empty":case"../../../img/icon-pin-empty.svg":return Yt;case"../../../img/icon-pin-light":case"../../../img/icon-pin-light.svg":return Xt;case"../../../img/icon-pin":case"../../../img/icon-pin.svg":return Ze;case"../../../img/icon-play":case"../../../img/icon-play.svg":return Qt;case"../../../img/icon-plus":case"../../../img/icon-plus.svg":return We;case"../../../img/icon-pointer":case"../../../img/icon-pointer.svg":return Jt;case"../../../img/icon-pomodoro":case"../../../img/icon-pomodoro.svg":return Kt;case"../../../img/icon-profile":case"../../../img/icon-profile.svg":return Ge;case"../../../img/icon-quotes":case"../../../img/icon-quotes.svg":return Je;case"../../../img/icon-refresh":case"../../../img/icon-refresh.svg":return Gt;case"../../../img/icon-restore":case"../../../img/icon-restore.svg":return Wt;case"../../../img/icon-settings":case"../../../img/icon-settings.svg":return be;case"../../../img/icon-skip-intro":case"../../../img/icon-skip-intro.svg":return Qe;case"../../../img/icon-skip":case"../../../img/icon-skip.svg":return Te;case"../../../img/icon-subtract":case"../../../img/icon-subtract.svg":return Zt;case"../../../img/icon-tooltip":case"../../../img/icon-tooltip.svg":return Xe;case"../../../img/icon-topics":case"../../../img/icon-topics.svg":return Ut;case"../../../img/icon-trash":case"../../../img/icon-trash.svg":return ze;case"../../../img/icon-unarchive":case"../../../img/icon-unarchive.svg":return Vt;case"../../../img/icon-visible-off":case"../../../img/icon-visible-off.svg":return tn;case"../../../img/icon-visible-on":case"../../../img/icon-visible-on.svg":return Ye;case"../../../img/icon-weather-reset":case"../../../img/icon-weather-reset.svg":return qt;case"../../../img/icon-x-caret-half":case"../../../img/icon-x-caret-half.svg":return en;case"../../../img/icon-x":case"../../../img/icon-x.svg":return Ke;case"../../../img/paywall-timeline":case"../../../img/paywall-timeline.svg":return sn;case"../../../img/pomodoro-circle":case"../../../img/pomodoro-circle.svg":return on;case"../../../img/star-rating":case"../../../img/star-rating.svg":return nn;case"../../../img/star":case"../../../img/star.svg":return rn;case"../../../img/thanks":case"../../../img/thanks.svg":return an;case"../../../img/icon/add":case"../../../img/icon/add.svg":return cn;case"../../../img/icon/ai":case"../../../img/icon/ai.svg":return _n;case"../../../img/icon/apps":case"../../../img/icon/apps.svg":return Hs;case"../../../img/icon/arrow-down":case"../../../img/icon/arrow-down.svg":return js;case"../../../img/icon/arrow-left":case"../../../img/icon/arrow-left.svg":return Ns;case"../../../img/icon/arrow-right":case"../../../img/icon/arrow-right.svg":return Os;case"../../../img/icon/arrow-up":case"../../../img/icon/arrow-up.svg":return Rs;case"../../../img/icon/chevron-down":case"../../../img/icon/chevron-down.svg":return Ps;case"../../../img/icon/chevron-left":case"../../../img/icon/chevron-left.svg":return Is;case"../../../img/icon/chevron-right":case"../../../img/icon/chevron-right.svg":return Bs;case"../../../img/icon/chevron-up":case"../../../img/icon/chevron-up.svg":return zs;case"../../../img/icon/clock":case"../../../img/icon/clock.svg":return qs;case"../../../img/icon/clocks":case"../../../img/icon/clocks.svg":return Zs;case"../../../img/icon/close":case"../../../img/icon/close.svg":return Ws;case"../../../img/icon/collapse":case"../../../img/icon/collapse.svg":return Ms;case"../../../img/icon/countdowns":case"../../../img/icon/countdowns.svg":return Us;case"../../../img/icon/delete":case"../../../img/icon/delete.svg":return Ts;case"../../../img/icon/denied":case"../../../img/icon/denied.svg":return Ls;case"../../../img/icon/down":case"../../../img/icon/down.svg":return Fs;case"../../../img/icon/drag":case"../../../img/icon/drag.svg":return Ss;case"../../../img/icon/expand":case"../../../img/icon/expand.svg":return xs;case"../../../img/icon/external-link":case"../../../img/icon/external-link.svg":return Es;case"../../../img/icon/focus":case"../../../img/icon/focus.svg":return Ks;case"../../../img/icon/folder-2":case"../../../img/icon/folder-2.svg":return ws;case"../../../img/icon/folder-3":case"../../../img/icon/folder-3.svg":return As;case"../../../img/icon/folder":case"../../../img/icon/folder.svg":return Js;case"../../../img/icon/info":case"../../../img/icon/info.svg":return s;case"../../../img/icon/internal-link":case"../../../img/icon/internal-link.svg":return Ds;case"../../../img/icon/links-fallback":case"../../../img/icon/links-fallback.svg":return Cs;case"../../../img/icon/links":case"../../../img/icon/links.svg":return vs;case"../../../img/icon/metrics":case"../../../img/icon/metrics.svg":return Vs;case"../../../img/icon/notes":case"../../../img/icon/notes.svg":return ys;case"../../../img/icon/pomodoro":case"../../../img/icon/pomodoro.svg":return $s;case"../../../img/icon/search":case"../../../img/icon/search.svg":return kn;case"../../../img/icon/sidebar":case"../../../img/icon/sidebar.svg":return bs;case"../../../img/icon/soundscapes":case"../../../img/icon/soundscapes.svg":return _s;case"../../../img/icon/switch":case"../../../img/icon/switch.svg":return Qs;case"../../../img/icon/tabs":case"../../../img/icon/tabs.svg":return ks;case"../../../img/icon/topics":case"../../../img/icon/topics.svg":return gs;case"../../../img/icon/undelete":case"../../../img/icon/undelete.svg":return fs;case"../../../img/icon/weather":case"../../../img/icon/weather.svg":return ms;case"../../../img/meteocons/clearDay":case"../../../img/meteocons/clearDay.svg":return ps;case"../../../img/meteocons/clearNight":case"../../../img/meteocons/clearNight.svg":return hs;case"../../../img/meteocons/cloudy":case"../../../img/meteocons/cloudy.svg":return ds;case"../../../img/meteocons/cloudyDay":case"../../../img/meteocons/cloudyDay.svg":return us;case"../../../img/meteocons/cloudyNight":case"../../../img/meteocons/cloudyNight.svg":return ls;case"../../../img/meteocons/cold":case"../../../img/meteocons/cold.svg":return cs;case"../../../img/meteocons/drizzle":case"../../../img/meteocons/drizzle.svg":return as;case"../../../img/meteocons/fog":case"../../../img/meteocons/fog.svg":return rs;case"../../../img/meteocons/hail":case"../../../img/meteocons/hail.svg":return os;case"../../../img/meteocons/lightSnow":case"../../../img/meteocons/lightSnow.svg":return is;case"../../../img/meteocons/rain":case"../../../img/meteocons/rain.svg":return ss;case"../../../img/meteocons/severeStorm":case"../../../img/meteocons/severeStorm.svg":return ns;case"../../../img/meteocons/snow":case"../../../img/meteocons/snow.svg":return es;case"../../../img/meteocons/storm":case"../../../img/meteocons/storm.svg":return ts;case"../../../img/meteocons/unknown":case"../../../img/meteocons/unknown.svg":return Yn;case"../../../img/meteocons/wind":case"../../../img/meteocons/wind.svg":return Xn;case"../../../img/icon/apps/app-launcher":case"../../../img/icon/apps/app-launcher.svg":return Qn;case"../../../img/icon/apps/focus-mode-fill":case"../../../img/icon/apps/focus-mode-fill.svg":return Jn;case"../../../img/icon/apps/focus-mode":case"../../../img/icon/apps/focus-mode.svg":return Xs;case"../../../img/icon/apps/search":case"../../../img/icon/apps/search.svg":return Gs;case"../../../img/icon/apps/site-blocker-fill":case"../../../img/icon/apps/site-blocker-fill.svg":return Kn;case"../../../img/icon/apps/site-blocker":case"../../../img/icon/apps/site-blocker.svg":return Gn;case"../../../img/icon/apps/topics":case"../../../img/icon/apps/topics.svg":return Wn;case"../../../img/icon/dev-panel/home-outline":case"../../../img/icon/dev-panel/home-outline.svg":return ei;case"../../../img/icon/dev-panel/home":case"../../../img/icon/dev-panel/home.svg":return ti;case"../../../img/icon/dev-panel/storage":case"../../../img/icon/dev-panel/storage.svg":return Ys;case"../../../img/icon/focus/icon-check":case"../../../img/icon/focus/icon-check.svg":return Zn;case"../../../img/icon/focus/icon-confetti":case"../../../img/icon/focus/icon-confetti.svg":return ni;case"../../../img/icon/notes/bold":case"../../../img/icon/notes/bold.svg":return Un;case"../../../img/icon/notes/h1":case"../../../img/icon/notes/h1.svg":return Vn;case"../../../img/icon/notes/h2":case"../../../img/icon/notes/h2.svg":return qn;case"../../../img/icon/notes/highlight":case"../../../img/icon/notes/highlight.svg":return $n;case"../../../img/icon/notes/italic":case"../../../img/icon/notes/italic.svg":return Pn;case"../../../img/icon/notes/link":case"../../../img/icon/notes/link.svg":return Rn;case"../../../img/icon/notes/linked-note":case"../../../img/icon/notes/linked-note.svg":return Hn;case"../../../img/icon/notes/list":case"../../../img/icon/notes/list.svg":return jn;case"../../../img/icon/notes/strikethrough":case"../../../img/icon/notes/strikethrough.svg":return Nn;case"../../../img/icon/notes/underline":case"../../../img/icon/notes/underline.svg":return On;case"../../../img/icon/onboarding/icon-autofocus":case"../../../img/icon/onboarding/icon-autofocus.svg":return In;case"../../../img/icon/onboarding/icon-countdown":case"../../../img/icon/onboarding/icon-countdown.svg":return Bn;case"../../../img/icon/onboarding/icon-custom-content":case"../../../img/icon/onboarding/icon-custom-content.svg":return zn;case"../../../img/icon/onboarding/icon-daily-focus":case"../../../img/icon/onboarding/icon-daily-focus.svg":return Mn;case"../../../img/icon/onboarding/icon-links":case"../../../img/icon/onboarding/icon-links.svg":return Tn;case"../../../img/icon/onboarding/icon-mantras":case"../../../img/icon/onboarding/icon-mantras.svg":return Ln;case"../../../img/icon/onboarding/icon-metrics":case"../../../img/icon/onboarding/icon-metrics.svg":return Fn;case"../../../img/icon/onboarding/icon-more-functionality":case"../../../img/icon/onboarding/icon-more-functionality.svg":return Sn;case"../../../img/icon/onboarding/icon-notes":case"../../../img/icon/onboarding/icon-notes.svg":return xn;case"../../../img/icon/onboarding/icon-photos":case"../../../img/icon/onboarding/icon-photos.svg":return En;case"../../../img/icon/onboarding/icon-quotes":case"../../../img/icon/onboarding/icon-quotes.svg":return wn;case"../../../img/icon/onboarding/icon-todo-integrations":case"../../../img/icon/onboarding/icon-todo-integrations.svg":return An;case"../../../img/icon/onboarding/icon-todo":case"../../../img/icon/onboarding/icon-todo.svg":return Dn;case"../../../img/icon/pomodoro/icon-forward":case"../../../img/icon/pomodoro/icon-forward.svg":return Cn;case"../../../img/icon/pomodoro/icon-plus":case"../../../img/icon/pomodoro/icon-plus.svg":return vn;case"../../../img/icon/pomodoro/icon-restart":case"../../../img/icon/pomodoro/icon-restart.svg":return yn;case"../../../img/icon/search/bing-white":case"../../../img/icon/search/bing-white.svg":return gn;case"../../../img/icon/search/bing":case"../../../img/icon/search/bing.svg":return fn;case"../../../img/icon/search/duckduckgo-white":case"../../../img/icon/search/duckduckgo-white.svg":return mn;case"../../../img/icon/search/duckduckgo":case"../../../img/icon/search/duckduckgo.svg":return pn;case"../../../img/icon/search/ecosia-white":case"../../../img/icon/search/ecosia-white.svg":return hn;case"../../../img/icon/search/ecosia":case"../../../img/icon/search/ecosia.svg":return dn;case"../../../img/icon/search/google-white":case"../../../img/icon/search/google-white.svg":return un;case"../../../img/icon/search/google":case"../../../img/icon/search/google.svg":return ln;case"../../../img/icon/soundscapes/air-conditioner":case"../../../img/icon/soundscapes/air-conditioner.svg":return to;case"../../../img/icon/soundscapes/airplane":case"../../../img/icon/soundscapes/airplane.svg":return Yi;case"../../../img/icon/soundscapes/beach":case"../../../img/icon/soundscapes/beach.svg":return Xi;case"../../../img/icon/soundscapes/binaural-alpha":case"../../../img/icon/soundscapes/binaural-alpha.svg":return Qi;case"../../../img/icon/soundscapes/binaural-beta":case"../../../img/icon/soundscapes/binaural-beta.svg":return Ji;case"../../../img/icon/soundscapes/binaural-delta":case"../../../img/icon/soundscapes/binaural-delta.svg":return Ki;case"../../../img/icon/soundscapes/binaural-gamma":case"../../../img/icon/soundscapes/binaural-gamma.svg":return Gi;case"../../../img/icon/soundscapes/binaural-music":case"../../../img/icon/soundscapes/binaural-music.svg":return Wi;case"../../../img/icon/soundscapes/binaural-theta":case"../../../img/icon/soundscapes/binaural-theta.svg":return Zi;case"../../../img/icon/soundscapes/binaural":case"../../../img/icon/soundscapes/binaural.svg":return Ui;case"../../../img/icon/soundscapes/birds":case"../../../img/icon/soundscapes/birds.svg":return Vi;case"../../../img/icon/soundscapes/cafe-cup":case"../../../img/icon/soundscapes/cafe-cup.svg":return qi;case"../../../img/icon/soundscapes/cafe":case"../../../img/icon/soundscapes/cafe.svg":return $i;case"../../../img/icon/soundscapes/campfire":case"../../../img/icon/soundscapes/campfire.svg":return Pi;case"../../../img/icon/soundscapes/chimes":case"../../../img/icon/soundscapes/chimes.svg":return Ri;case"../../../img/icon/soundscapes/coffee-maker":case"../../../img/icon/soundscapes/coffee-maker.svg":return Hi;case"../../../img/icon/soundscapes/copier":case"../../../img/icon/soundscapes/copier.svg":return ji;case"../../../img/icon/soundscapes/coworkers":case"../../../img/icon/soundscapes/coworkers.svg":return Ni;case"../../../img/icon/soundscapes/creek":case"../../../img/icon/soundscapes/creek.svg":return Oi;case"../../../img/icon/soundscapes/crickets":case"../../../img/icon/soundscapes/crickets.svg":return Ii;case"../../../img/icon/soundscapes/custom":case"../../../img/icon/soundscapes/custom.svg":return Bi;case"../../../img/icon/soundscapes/fire":case"../../../img/icon/soundscapes/fire.svg":return zi;case"../../../img/icon/soundscapes/fluorescent-hum":case"../../../img/icon/soundscapes/fluorescent-hum.svg":return Mi;case"../../../img/icon/soundscapes/forest":case"../../../img/icon/soundscapes/forest.svg":return Ti;case"../../../img/icon/soundscapes/garden":case"../../../img/icon/soundscapes/garden.svg":return Li;case"../../../img/icon/soundscapes/insects":case"../../../img/icon/soundscapes/insects.svg":return Fi;case"../../../img/icon/soundscapes/loudrain":case"../../../img/icon/soundscapes/loudrain.svg":return Si;case"../../../img/icon/soundscapes/mechanical-keyboard":case"../../../img/icon/soundscapes/mechanical-keyboard.svg":return xi;case"../../../img/icon/soundscapes/next":case"../../../img/icon/soundscapes/next.svg":return bn;case"../../../img/icon/soundscapes/noise-brown":case"../../../img/icon/soundscapes/noise-brown.svg":return Ei;case"../../../img/icon/soundscapes/noise-green":case"../../../img/icon/soundscapes/noise-green.svg":return wi;case"../../../img/icon/soundscapes/noise-pink":case"../../../img/icon/soundscapes/noise-pink.svg":return Ai;case"../../../img/icon/soundscapes/noise-white":case"../../../img/icon/soundscapes/noise-white.svg":return Di;case"../../../img/icon/soundscapes/noise":case"../../../img/icon/soundscapes/noise.svg":return Ci;case"../../../img/icon/soundscapes/ocean-birds":case"../../../img/icon/soundscapes/ocean-birds.svg":return vi;case"../../../img/icon/soundscapes/ocean-boat":case"../../../img/icon/soundscapes/ocean-boat.svg":return yi;case"../../../img/icon/soundscapes/ocean-bubbles":case"../../../img/icon/soundscapes/ocean-bubbles.svg":return bi;case"../../../img/icon/soundscapes/ocean-splash":case"../../../img/icon/soundscapes/ocean-splash.svg":return _i;case"../../../img/icon/soundscapes/ocean-waves":case"../../../img/icon/soundscapes/ocean-waves.svg":return ki;case"../../../img/icon/soundscapes/ocean":case"../../../img/icon/soundscapes/ocean.svg":return gi;case"../../../img/icon/soundscapes/office":case"../../../img/icon/soundscapes/office.svg":return fi;case"../../../img/icon/soundscapes/rain-on-surface":case"../../../img/icon/soundscapes/rain-on-surface.svg":return mi;case"../../../img/icon/soundscapes/rain":case"../../../img/icon/soundscapes/rain.svg":return pi;case"../../../img/icon/soundscapes/rainfall":case"../../../img/icon/soundscapes/rainfall.svg":return hi;case"../../../img/icon/soundscapes/random":case"../../../img/icon/soundscapes/random.svg":return di;case"../../../img/icon/soundscapes/seagulls":case"../../../img/icon/soundscapes/seagulls.svg":return ui;case"../../../img/icon/soundscapes/speech-blocker":case"../../../img/icon/soundscapes/speech-blocker.svg":return li;case"../../../img/icon/soundscapes/stream":case"../../../img/icon/soundscapes/stream.svg":return ci;case"../../../img/icon/soundscapes/thunder":case"../../../img/icon/soundscapes/thunder.svg":return ai;case"../../../img/icon/soundscapes/thunderstorm":case"../../../img/icon/soundscapes/thunderstorm.svg":return ri;case"../../../img/icon/soundscapes/tracks":case"../../../img/icon/soundscapes/tracks.svg":return oi;case"../../../img/icon/soundscapes/train":case"../../../img/icon/soundscapes/train.svg":return ii;case"../../../img/icon/soundscapes/wind":case"../../../img/icon/soundscapes/wind.svg":return si;case"../../../img/icon/upsell/brain":case"../../../img/icon/upsell/brain.svg":return no;case"../../../img/icon/upsell/easy":case"../../../img/icon/upsell/easy.svg":return io;case"../../../img/icon/upsell/icon-asana":case"../../../img/icon/upsell/icon-asana.svg":return Pt;case"../../../img/icon/upsell/icon-balance":case"../../../img/icon/upsell/icon-balance.svg":return ro;case"../../../img/icon/upsell/icon-basecamp":case"../../../img/icon/upsell/icon-basecamp.svg":return yo;case"../../../img/icon/upsell/icon-bitbucket":case"../../../img/icon/upsell/icon-bitbucket.svg":return bo;case"../../../img/icon/upsell/icon-clean":case"../../../img/icon/upsell/icon-clean.svg":return vo;case"../../../img/icon/upsell/icon-clickup":case"../../../img/icon/upsell/icon-clickup.svg":return _o;case"../../../img/icon/upsell/icon-color":case"../../../img/icon/upsell/icon-color.svg":return Do;case"../../../img/icon/upsell/icon-custom-soundscapes":case"../../../img/icon/upsell/icon-custom-soundscapes.svg":return ko;case"../../../img/icon/upsell/icon-custom-theme":case"../../../img/icon/upsell/icon-custom-theme.svg":return wo;case"../../../img/icon/upsell/icon-customize-timers":case"../../../img/icon/upsell/icon-customize-timers.svg":return xo;case"../../../img/icon/upsell/icon-easy-access":case"../../../img/icon/upsell/icon-easy-access.svg":return So;case"../../../img/icon/upsell/icon-fitness":case"../../../img/icon/upsell/icon-fitness.svg":return To;case"../../../img/icon/upsell/icon-flow":case"../../../img/icon/upsell/icon-flow.svg":return Mo;case"../../../img/icon/upsell/icon-focus-stats":case"../../../img/icon/upsell/icon-focus-stats.svg":return Eo;case"../../../img/icon/upsell/icon-focused":case"../../../img/icon/upsell/icon-focused.svg":return zo;case"../../../img/icon/upsell/icon-fullscreen":case"../../../img/icon/upsell/icon-fullscreen.svg":return go;case"../../../img/icon/upsell/icon-github":case"../../../img/icon/upsell/icon-github.svg":return fo;case"../../../img/icon/upsell/icon-global-weather":case"../../../img/icon/upsell/icon-global-weather.svg":return Io;case"../../../img/icon/upsell/icon-google-tasks":case"../../../img/icon/upsell/icon-google-tasks.svg":return mo;case"../../../img/icon/upsell/icon-habit":case"../../../img/icon/upsell/icon-habit.svg":return No;case"../../../img/icon/upsell/icon-happy-place":case"../../../img/icon/upsell/icon-happy-place.svg":return jo;case"../../../img/icon/upsell/icon-history":case"../../../img/icon/upsell/icon-history.svg":return Ro;case"../../../img/icon/upsell/icon-hourly":case"../../../img/icon/upsell/icon-hourly.svg":return Po;case"../../../img/icon/upsell/icon-hub":case"../../../img/icon/upsell/icon-hub.svg":return po;case"../../../img/icon/upsell/icon-infinity":case"../../../img/icon/upsell/icon-infinity.svg":return $o;case"../../../img/icon/upsell/icon-integrations":case"../../../img/icon/upsell/icon-integrations.svg":return qo;case"../../../img/icon/upsell/icon-kanban":case"../../../img/icon/upsell/icon-kanban.svg":return Vo;case"../../../img/icon/upsell/icon-microsoft-todo":case"../../../img/icon/upsell/icon-microsoft-todo.svg":return ho;case"../../../img/icon/upsell/icon-more-fonts":case"../../../img/icon/upsell/icon-more-fonts.svg":return Ao;case"../../../img/icon/upsell/icon-more-lists":case"../../../img/icon/upsell/icon-more-lists.svg":return Co;case"../../../img/icon/upsell/icon-multiple-types":case"../../../img/icon/upsell/icon-multiple-types.svg":return Lo;case"../../../img/icon/upsell/icon-note-search":case"../../../img/icon/upsell/icon-note-search.svg":return uo;case"../../../img/icon/upsell/icon-percent-schedule":case"../../../img/icon/upsell/icon-percent-schedule.svg":return oo;case"../../../img/icon/upsell/icon-personalize-photos":case"../../../img/icon/upsell/icon-personalize-photos.svg":return Uo;case"../../../img/icon/upsell/icon-personalize":case"../../../img/icon/upsell/icon-personalize.svg":return Zo;case"../../../img/icon/upsell/icon-photo-match":case"../../../img/icon/upsell/icon-photo-match.svg":return Wo;case"../../../img/icon/upsell/icon-random":case"../../../img/icon/upsell/icon-random.svg":return Go;case"../../../img/icon/upsell/icon-search-loc":case"../../../img/icon/upsell/icon-search-loc.svg":return Jo;case"../../../img/icon/upsell/icon-simple-notes":case"../../../img/icon/upsell/icon-simple-notes.svg":return lo;case"../../../img/icon/upsell/icon-simplify":case"../../../img/icon/upsell/icon-simplify.svg":return Qo;case"../../../img/icon/upsell/icon-skip":case"../../../img/icon/upsell/icon-skip.svg":return Xo;case"../../../img/icon/upsell/icon-spiral":case"../../../img/icon/upsell/icon-spiral.svg":return Oo;case"../../../img/icon/upsell/icon-sync":case"../../../img/icon/upsell/icon-sync.svg":return Yo;case"../../../img/icon/upsell/icon-time-sensitive":case"../../../img/icon/upsell/icon-time-sensitive.svg":return Ho;case"../../../img/icon/upsell/icon-timezones":case"../../../img/icon/upsell/icon-timezones.svg":return Ko;case"../../../img/icon/upsell/icon-todoist":case"../../../img/icon/upsell/icon-todoist.svg":return co;case"../../../img/icon/upsell/icon-top-of-mind":case"../../../img/icon/upsell/icon-top-of-mind.svg":return Fo;case"../../../img/icon/upsell/icon-trello":case"../../../img/icon/upsell/icon-trello.svg":return ao;case"../../../img/icon/upsell/icon-weather-extra":case"../../../img/icon/upsell/icon-weather-extra.svg":return Bo;case"../../../img/icon/upsell/secure":case"../../../img/icon/upsell/secure.svg":return so;case"../../../img/icon/upsell/sparks":case"../../../img/icon/upsell/sparks.svg":return eo;default:throw new Error("Cann't found module: "+t)}}const Mr=n({name:"NotesEditorToolbarDivider"},(function(){return(0,this._self._c)("div",{staticClass:"notes-editor-toolbar-divider"})}),[],!1,null,"ce5580e9").exports;var zr=(t=>(t.ToolbarDefault="hidden",t.ToolbarLink="toolbarLink",t.AiActions="actions",t.AiHistory="history",t))(zr||{});const Br=tr("notesEditor",{views:{hidden:{defaultView:!0},toolbarLink:{},actions:{},history:{}}});const Ir=n({name:"NotesEditorToolbar",components:{BaseDropdownContent:It,NotesEditorToolbarDivider:Mr,NotesEditorToolbarButton:Lr,BaseDropdown:Ot},inject:["editorViewStateStore","viewStateStore","editorStore","notesEditorElement"],unreactive:()=>({DropdownPosition:Nt,DropdownAlignment:jt}),data:()=>({linkUrl:""}),computed:{defaultVisible(){return this.editorViewStateStore.activeViewId===zr.ToolbarDefault},linkVisible(){return this.editorViewStateStore.activeViewId===zr.ToolbarLink},selectedText(){return this.editorStore.selectedText}},watch:{defaultVisible(){this.defaultVisible||this.closeDefaultDropdown(),this.openDefaultDropdownDebounce()},linkVisible(){this.linkVisible?(this.openLinkDropdown(),this.$nextTick().then((()=>this.$refs["link-input"].select()))):this.closeLinkDropdown()},linkUrl(){if(!this.linkUrl)return void this.editorStore.editor.chain().unsetLink().run();const t=(this.linkUrl.startsWith("http://")||this.linkUrl.startsWith("https://")?"":"https://")+this.linkUrl;this.editorStore.editor.chain().setLink({href:t}).run()}},mounted(){this.editorStore.editor.on("selectionUpdate",this.onSelectionUpdate)},destroyed(){this.editorStore.editor.off("selectionUpdate",this.onSelectionUpdate)},methods:{onSelectionUpdate(){this.closeLinkDropdown(),this.closeDefaultDropdown(),this.editorViewStateStore.setActiveView(zr.ToolbarDefault),this.openDefaultDropdownDebounce(),m.off("globalEvent:metaK",this.editOrSetLink),this.selectedText&&m.on("globalEvent:metaK",this.editOrSetLink)},editLink(){this.linkUrl=this.editorStore.editor.getAttributes("link").href??"",this.editorViewStateStore.setActiveView(zr.ToolbarLink)},setLink(){this.editorStore.editor.commands.focus(),this.editorViewStateStore.setActiveView(zr.ToolbarDefault)},editOrSetLink(){this.editorViewStateStore.activeViewId===zr.ToolbarLink?this.setLink():this.editLink()},openDefaultDropdown(){this.$refs["notes-editor-toolbar-default"].openDropdown()},openDefaultDropdownDebounce(){clearTimeout(this.defaultDropdownDebounce),this.defaultDropdownDebounce=setTimeout((()=>{if(!this.selectedText||!this.defaultVisible)return;this.editorStore.editor.state.selection.$from.parent.type.name!==l&&this.openDefaultDropdown()}),u)},closeDefaultDropdown(){this.$refs["notes-editor-toolbar-default"].closeDropdown()},openLinkDropdown(){this.$refs["notes-editor-toolbar-link"].openDropdown()},closeLinkDropdown(){this.$refs["notes-editor-toolbar-link"].closeDropdown()},openAi(){this.closeDefaultDropdown(),this.editorViewStateStore.setActiveView(zr.AiActions)},openNoteLinking(){this.closeDefaultDropdown(),this.editorStore.editor.commands.openLinkSuggestionAtSelection()}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"notes-editor-toolbar"},[e("base-dropdown",{ref:"notes-editor-toolbar-default",staticClass:"notes-editor-toolbar-default",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.DropdownAlignment.Center,position:t.DropdownPosition.Top,"scroll-target":t.notesEditorElement,"use-toast-mobile":!1},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-editor-toolbar-default-toggle"})]},proxy:!0}])},[e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-toolbar-default-content"},[e("notes-editor-toolbar-button",{attrs:{title:"Bold",active:t.editorStore.controlStates.bold,icon:"icon/notes/bold"},on:{click:t.editorStore.toggleBold}}),e("notes-editor-toolbar-button",{attrs:{title:"Italic",active:t.editorStore.controlStates.italic,icon:"icon/notes/italic"},on:{click:t.editorStore.toggleItalic}}),e("notes-editor-toolbar-button",{attrs:{title:"Strikethrough",active:t.editorStore.controlStates.strike,icon:"icon/notes/strikethrough"},on:{click:t.editorStore.toggleStrike}}),e("notes-editor-toolbar-button",{attrs:{title:"Highlight",active:t.editorStore.controlStates.highlight,icon:"icon/notes/highlight"},on:{click:t.editorStore.toggleHighlight}}),e("notes-editor-toolbar-button",{attrs:{title:"Insert link",active:t.editorStore.controlStates.link,icon:"icon/notes/link"},on:{click:t.editLink}}),e("notes-editor-toolbar-divider"),e("notes-editor-toolbar-button",{attrs:{title:"Large heading",active:t.editorStore.controlStates.heading[1].value,icon:"icon/notes/h1"},on:{click:function(e){return t.editorStore.toggleHeading(1)}}}),e("notes-editor-toolbar-button",{attrs:{title:"Medium heading",active:t.editorStore.controlStates.heading[2].value,icon:"icon/notes/h2"},on:{click:function(e){return t.editorStore.toggleHeading(2)}}}),e("notes-editor-toolbar-button",{attrs:{title:"Bulleted list",active:t.editorStore.controlStates.bulletList,icon:"icon/notes/list"},on:{click:t.editorStore.toggleBulletList}}),e("notes-editor-toolbar-divider"),e("notes-editor-toolbar-button",{attrs:{title:"Link Note",icon:"icon/internal-link"},on:{click:t.openNoteLinking}}),e("notes-editor-toolbar-divider"),e("notes-editor-toolbar-button",{attrs:{title:"Use AI",icon:"icon/ai"},on:{click:t.openAi}})],1)],1)],2),e("base-dropdown",{ref:"notes-editor-toolbar-link",staticClass:"notes-editor-toolbar-link",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.DropdownAlignment.Center,position:t.DropdownPosition.Bottom,"scroll-target":t.notesEditorElement,"use-toast-mobile":!1,width:"14.5rem"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-editor-toolbar-link-toggle"})]},proxy:!0}])},[e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-toolbar-link-content"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.linkUrl,expression:"linkUrl"}],ref:"link-input",attrs:{placeholder:"Paste link"},domProps:{value:t.linkUrl},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setLink.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.setLink.apply(null,arguments))},input:function(e){e.target.composing||(t.linkUrl=e.target.value)}}})])],1)],2)],1)}),[],!1,null,"999bd711").exports,Or=new i({feature:d.Feature});const Nr=n({name:"NotesAiHistory",components:{BaseDropdown:Ot,SmoothReflow:nr,BaseDropdownContent:It,BaseDropdownDivider:er},mixins:[sr],inject:["editorViewStateStore","editorStore","aiStore"],props:{scrollTarget:Ht.props.scrollTarget,alignment:{type:String,default:jt.Center},appendToEnd:{type:Boolean,default:!1}},emits:["close","toggle"],unreactive:()=>({DropdownPosition:Nt,NotesMessage:h}),computed:{activeHistoryData(){return this.aiStore.activeHistoryData},error(){return this.aiStore.error}},watch:{error:{handler(){this.error&&Or.capture(d.ActionError,{type:this.aiStore.activeActionLabel})},immediate:!0}},methods:{async closeAi(){this.$emit("close"),this.aiStore.reset()},replaceText(){const{from:t,to:e}=this.editorStore.selection;this.appendToEnd?this.editorStore.setContent(this.editorStore.getTitleContent(),this.activeHistoryData.result,!1):this.editorStore.editor.chain().insertContentAt(e,this.activeHistoryData.result).deleteRange({from:t,to:e}).focus().run(),this.closeAi()},insertText(){const{to:t}=this.editorStore.selection,e=this.editorStore.editor.state.doc.content.size;this.appendToEnd?this.editorStore.editor.chain().insertContentAt(e,this.activeHistoryData.result).focus().run():this.editorStore.editor.chain().insertContentAt(t+1,this.activeHistoryData.result).focus().run(),this.closeAi()},copyText(){navigator.clipboard.writeText(this.activeHistoryData.result),this.showFlashMessage({message:"Copied to Clipboard."})},async reRunRequest(){await this.aiStore.runActiveRequest()},openDropdown(){this.$refs["notes-ai-history"].openDropdown(),Or.capture(d.OpenHistory)},closeDropdown(){this.$refs["notes-ai-history"].closeDropdown()},onToggle(t){this.$emit("toggle",t),!1===t&&this.aiStore.reset()}}},(function(){var t,e=this,n=e._self._c;return n("base-dropdown",{ref:"notes-ai-history",staticClass:"notes-ai-history",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:e.alignment,position:e.DropdownPosition.Bottom,"scroll-target":e.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1,width:"28rem"},on:{toggle:e.onToggle},scopedSlots:e._u([{key:"toggle",fn:function(){return[n("div",{staticClass:"notes-ai-history-toggle"})]},proxy:!0}])},[n("template",{slot:"contentOverride"},[n("base-dropdown-content",{staticClass:"notes-ai-history-content"},[n("div",{staticClass:"history-header"},[n("span",[e._v(e._s(e.aiStore.activeActionLabel))]),n("button",{staticClass:"icon-wrapper",on:{click:e.closeAi}},[n("inline-svg",{staticClass:"icon icon-close",attrs:{src:Mt}})],1)]),n("base-dropdown-divider"),n("div",{staticClass:"history-body"},[n("smooth-reflow",{attrs:{"hide-overflow":!0}},[n("div",{staticClass:"history-body-result"},[e.aiStore.loading||e.error?n("span",{staticClass:"history-body-result-loading",attrs:{"data-test":"ai-history-loading"}},[e._v(e._s(e.aiStore.loading?"Loading...":e.error.message??""))]):n("div",{staticClass:"history-body-result-content",attrs:{"data-test":"ai-history-content"},domProps:{innerHTML:e._s(e.activeHistoryData.result)}})])]),n("smooth-reflow",[!e.aiStore.loading&&(null==(t=e.activeHistoryData)?void 0:t.brokenLinks)?n("div",{staticClass:"history-ai-links-warning",attrs:{"data-test":"ai-links-warning"}},[n("inline-svg",{staticClass:"icon icon-info",attrs:{src:s}}),n("span",[e._v("Links to Notes may be added or removed due to AI")])],1):e._e()]),n("transition",{attrs:{name:"fade"}},[e.error?n("div",{staticClass:"history-body-actions"},[n("button",{key:"retry",staticClass:"button",on:{click:e.reRunRequest}},[e._v("Retry")])]):n("div",{staticClass:"history-body-actions",class:{disabled:e.aiStore.loading}},[n("button",{key:"replace",staticClass:"button",on:{click:e.replaceText}},[e._v("Replace")]),n("button",{key:"insert",staticClass:"button",on:{click:e.insertText}},[e._v("Insert")]),n("button",{key:"copy",staticClass:"button button-neutral",on:{click:e.copyText}},[e._v("Copy")]),n("button",{key:"rerun",staticClass:"button button-neutral",on:{click:e.reRunRequest}},[e._v("Re-run")])])])],1)],1)],1)],2)}),[],!1,null,"96bb67fa").exports,jr=new i({feature:d.Feature});const Hr=n({name:"NotesAiActions",components:{BaseDropdownDivider:er,BaseDropdownOption:zt,BaseDropdown:Ot,BaseDropdownText:ir},mixins:[sr],inject:["editorStore","aiStore"],props:{scrollTarget:Ht.props.scrollTarget,useAiHeader:{type:Boolean,default:!0},activeNote:{type:Object,required:!0},alignment:{type:String,default:jt.Center}},emits:["action:history","toggle"],computed:{orderedLanguages(){return[...this.aiStore.languages.data].sort(((t,e)=>t.name.localeCompare(e.name,"en")))},actionSelectedText(){return this.editorStore.selectedHTML||this.editorStore.getBodyHTMLContent(!0)}},unreactive:()=>({DropdownPosition:Nt,DropdownAlignment:jt,NoteAiAction:p}),async mounted(){await this.getLanguages()},methods:{async summarize(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:p.Summary,data:{selectedText:this.actionSelectedText}}),this.onAction(p.Summary)},async improveWriting(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:p.ImproveWriting,data:{selectedText:this.actionSelectedText}}),this.onAction(p.ImproveWriting)},async listActionItems(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:p.ActionItems,data:{selectedText:this.actionSelectedText}}),this.onAction(p.ActionItems)},async fixSpellingAndGrammar(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:p.FixSpellingGrammar,data:{selectedText:this.actionSelectedText}}),this.onAction(p.FixSpellingGrammar)},async simplify(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:p.Simplification,data:{selectedText:this.actionSelectedText}}),this.onAction(p.Simplification)},async expand(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:p.Expansion,data:{selectedText:this.actionSelectedText}}),this.onAction(p.Expansion)},async getOutline(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:p.Outline,data:{selectedText:this.actionSelectedText}}),this.onAction(p.Outline)},async getJournalPrompts(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:p.JournalPrompts,data:{selectedText:this.actionSelectedText}}),this.onAction(p.JournalPrompts)},async translateText(t){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:p.Translation,data:{selectedText:this.actionSelectedText,languageId:t}}),this.onAction(p.Translation)},async getLanguages(){try{await this.aiStore.getLanguages()}catch(t){this.aiStore.languages.loading=!1,this.showFlashMessage({error:!0,message:h.ErrorFetchLanguages})}},onAction(t){jr.capture(d.Action,{type:t})},openDropdown(){this.$refs["notes-ai-actions"].openDropdown(),jr.capture(d.OpenActions)},closeDropdown(){this.$refs["notes-ai-actions"].closeDropdown()}}},(function(){var t=this,e=t._self._c;return e("base-dropdown",{ref:"notes-ai-actions",staticClass:"notes-ai-actions",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.alignment,position:t.DropdownPosition.Bottom,"scroll-target":t.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1},on:{toggle:function(e){return t.$emit("toggle",e)}},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-ai-actions-toggle"})]},proxy:!0}])},[t.useAiHeader?e("base-dropdown-text",{attrs:{"is-title":!0}},[t._v("Ask AI to...")]):t._e(),e("base-dropdown-option",{attrs:{"data-test":"ai-action-spelling"},on:{click:t.fixSpellingAndGrammar}},[t._v(t._s(t.NoteAiAction.FixSpellingGrammar))]),e("base-dropdown-option",{on:{click:t.simplify}},[t._v(t._s(t.NoteAiAction.Simplification))]),e("base-dropdown-option",{on:{click:t.improveWriting}},[t._v(t._s(t.NoteAiAction.ImproveWriting))]),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.summarize}},[t._v(t._s(t.NoteAiAction.Summary))]),e("base-dropdown-option",{on:{click:t.expand}},[t._v(t._s(t.NoteAiAction.Expansion))]),e("base-dropdown-option",{on:{click:t.listActionItems}},[t._v(t._s(t.NoteAiAction.ActionItems))]),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.getOutline}},[t._v(t._s(t.NoteAiAction.Outline))]),e("base-dropdown-option",{on:{click:t.getJournalPrompts}},[t._v(t._s(t.NoteAiAction.JournalPrompts))]),e("base-dropdown-divider"),e("base-dropdown",{attrs:{position:t.DropdownPosition.Right,alignment:t.DropdownAlignment.Center,nipple:!1,"position-offset":-2,disabled:!t.aiStore.languages.loaded},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("base-dropdown-option",{attrs:{disabled:!t.aiStore.languages.loaded}},[t._v(t._s(t.NoteAiAction.Translation))])]},proxy:!0}])},t._l(t.orderedLanguages,(function(n){return e("base-dropdown-option",{key:n.id,on:{click:function(e){return t.translateText(n.id)}}},[t._v(" "+t._s(n.name)+" ")])})),1)],1)}),[],!1,null,"e85c5293").exports;const Rr=n({name:"NotesEditorAi",components:{NotesAiActions:Hr,NotesAiHistory:Nr},inject:["editorViewStateStore","viewStateStore","aiStore","notesEditorElement"],props:{activeNote:{type:Object,required:!0}},computed:{actionsVisible(){return this.editorViewStateStore.activeViewId===zr.AiActions},historyVisible(){return this.editorViewStateStore.activeViewId===zr.AiHistory}},watch:{actionsVisible(){this.actionsVisible?this.openActionsDropdown():this.closeActionsDropdown()},historyVisible(){this.historyVisible?this.openHistoryDropdown():this.closeHistoryDropdown()}},methods:{openHistoryDropdown(){this.$refs["notes-ai-history"].openDropdown()},closeHistoryDropdown(){this.$refs["notes-ai-history"].closeDropdown()},openActionsDropdown(){this.$refs["notes-ai-actions"].openDropdown()},closeActionsDropdown(){this.$refs["notes-ai-actions"].closeDropdown()},async setHistoryActive(){await this.editorViewStateStore.setActiveView(zr.AiHistory)},async setToolbarActive(){await this.editorViewStateStore.setActiveView(zr.ToolbarDefault)}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"notes-editor-ai"},[e("notes-ai-history",{ref:"notes-ai-history",attrs:{"scroll-target":t.notesEditorElement},on:{close:t.setToolbarActive}}),e("notes-ai-actions",{ref:"notes-ai-actions",attrs:{"scroll-target":t.notesEditorElement,"active-note":t.activeNote},on:{"action:history":t.setHistoryActive}})],1)}),[],!1,null,"c9c5ff7f").exports,Pr=/^\s*>\s$/,$r=f.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[k({find:Pr,type:this.type})]}}),qr=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Vr=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Ur=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Zr=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Wr=_.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[b({find:qr,type:this.type}),b({find:Ur,type:this.type})]},addPasteRules(){return[y({find:Vr,type:this.type}),y({find:Zr,type:this.type})]}}),Gr=f.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",g(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Kr=_.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",g(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=v(t,this.type);return!!Object.entries(n).some((([,t])=>!!t))||e.unsetMark(this.name)}}}}),Jr=/^\s*([-+*])\s$/,Qr=f.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",g(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Gr.name,this.editor.getAttributes(Kr.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=k({find:Jr,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=k({find:Jr,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Kr.name),editor:this.editor})),[t]}}),Xr=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,Yr=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,ta=_.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[b({find:Xr,type:this.type})]},addPasteRules(){return[y({find:Yr,type:this.type})]}}),ea=/^```([a-z]+)?[\s\n]$/,na=/^~~~([a-z]+)?[\s\n]$/,sa=f.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...(null===(e=t.firstElementChild)||void 0===e?void 0:e.classList)||[]].filter((t=>t.startsWith(n))).map((t=>t.replace(n,"")))[0];return s||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:e}){return["pre",g(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&(!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type)return!1;const o=s.parentOffset===s.parent.nodeSize-2,r=s.parent.textContent.endsWith("\n\n");return!(!o||!r)&&t.chain().command((({tr:t})=>(t.delete(s.pos-2,s.pos),!0))).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type)return!1;if(!(i.parentOffset===i.parent.nodeSize-2))return!1;const r=i.after();if(void 0===r)return!1;return!s.nodeAt(r)&&t.commands.exitCode()}}},addInputRules(){return[C({find:ea,type:this.type,getAttributes:t=>({language:t[1]})}),C({find:na,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new D({key:new A("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),i=s?JSON.parse(s):void 0,o=null==i?void 0:i.mode;if(!n||!o)return!1;const{tr:r}=t.state;return r.replaceSelectionWith(this.type.create({language:o})),r.setSelection(w.near(r.doc.resolve(Math.max(0,r.selection.from-2)))),r.insertText(n.replace(/\r\n?/g,"\n")),r.setMeta("paste",!0),t.dispatch(r),!0}}})]}}),ia=f.create({name:"doc",topNode:!0,content:"block+"});function oa(t={}){return new D({view:e=>new ra(e,t)})}class ra{constructor(t,e){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=e.width)&&void 0!==n?n:1,this.color=!1===e.color?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map((e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}destroy(){this.handlers.forEach((({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e)))}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent;if(n){let n=e.nodeBefore,s=e.nodeAfter;if(n||s){let e=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(e){let i=e.getBoundingClientRect(),o=n?i.bottom:i.top;n&&s&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:i.left,right:i.right,top:o-this.width/2,bottom:o+this.width/2}}}}if(!t){let e=this.editorView.coordsAtPos(this.cursorPos);t={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let s,i,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!o||o==document.body&&"static"==getComputedStyle(o).position)s=-pageXOffset,i=-pageYOffset;else{let t=o.getBoundingClientRect();s=t.left-o.scrollLeft,i=t.top-o.scrollTop}this.element.style.left=t.left-s+"px",this.element.style.top=t.top-i+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),s=n&&n.type.spec.disableDropCursor,i="function"==typeof s?s(this.editorView,e,t):s;if(e&&!i){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let e=E(this.editorView.state.doc,t,this.editorView.dragging.slice);null!=e&&(t=e)}this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const aa=x.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[oa(this.options)]}});class ca extends S{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return ca.valid(n)?new ca(n):S.near(n)}content(){return M.empty}eq(t){return t instanceof ca&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new ca(t.resolve(e.pos))}getBookmark(){return new la(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!function(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(0!=n)for(let t=s.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(s.type.spec.isolating)return!0}return!0}(t)||!function(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n!=s.childCount)for(let t=s.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(s.type.spec.isolating)return!0}return!0}(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let s=e.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,e,n=!1){t:for(;;){if(!n&&ca.valid(t))return t;let s=t.pos,i=null;for(let n=t.depth;;n--){let o=t.node(n);if(e>0?t.indexAfter(n)<o.childCount:t.index(n)>0){i=o.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;s+=e;let r=t.doc.resolve(s);if(ca.valid(r))return r}for(;;){let o=e>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!L.isSelectable(i)){t=t.doc.resolve(s+i.nodeSize*e),n=!1;continue t}break}i=o,s+=e;let r=t.doc.resolve(s);if(ca.valid(r))return r}return null}}}ca.prototype.visible=!1,ca.findFrom=ca.findGapCursorFrom,S.jsonID("gapcursor",ca);class la{constructor(t){this.pos=t}map(t){return new la(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return ca.valid(e)?new ca(e):S.near(e)}}const ua=F({ArrowLeft:da("horiz",-1),ArrowRight:da("horiz",1),ArrowUp:da("vert",-1),ArrowDown:da("vert",1)});function da(t,e){const n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,s,i){let o=t.selection,r=e>0?o.$to:o.$from,a=o.empty;if(o instanceof w){if(!i.endOfTextblock(n)||0==r.depth)return!1;a=!1,r=t.doc.resolve(e>0?r.after():r.before())}let c=ca.findGapCursorFrom(r,e,a);return!!c&&(s&&s(t.tr.setSelection(new ca(c))),!0)}}function ha(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!ca.valid(s))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&L.isSelectable(t.state.doc.nodeAt(i.inside)))&&(t.dispatch(t.state.tr.setSelection(new ca(s))),!0)}function pa(t,e){if("insertCompositionText"!=e.inputType||!(t.state.selection instanceof ca))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let i=T.empty;for(let r=s.length-1;r>=0;r--)i=T.from(s[r].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new M(i,0,0));return o.setSelection(w.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function ma(t){if(!(t.selection instanceof ca))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",z.create(t.doc,[B.widget(t.selection.head,e,{key:"gapcursor"})])}const fa=x.create({name:"gapCursor",addProseMirrorPlugins:()=>[new D({props:{decorations:ma,createSelectionBetween:(t,e,n)=>e.pos==n.pos&&ca.valid(n)?new ca(n):null,handleClick:ha,handleKeyDown:ua,handleDOMEvents:{beforeinput:pa}}})],extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!==(e=I(O(t,"allowGapCursor",n)))&&void 0!==e?e:null}}}),ga=f.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",g(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:t,storedMarks:i}=n;if(t.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:r}=s.extensionManager,a=i||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{if(e&&a&&o){const e=a.filter((t=>r.includes(t.type.name)));t.ensureMarks(e)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),ka=f.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((t=>({tag:`h${t}`,attrs:{level:t}})))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,g(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce(((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})})),{})},addInputRules(){return this.options.levels.map((t=>C({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}})))}});var _a=200,ba=function(){};ba.prototype.append=function(t){return t.length?(t=ba.from(t),!this.length&&t||t.length<_a&&this.leafAppend(t)||this.length<_a&&t.leafPrepend(this)||this.appendInner(t)):this},ba.prototype.prepend=function(t){return t.length?ba.from(t).append(this):this},ba.prototype.appendInner=function(t){return new va(this,t)},ba.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?ba.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},ba.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},ba.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},ba.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var s=[];return this.forEach((function(e,n){return s.push(t(e,n))}),e,n),s},ba.from=function(t){return t instanceof ba?t:t&&t.length?new ya(t):ba.empty};var ya=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,s){for(var i=e;i<n;i++)if(!1===t(this.values[i],s+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,s){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],s+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=_a)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=_a)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(ba);ba.empty=new ya([]);var va=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,s){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),s))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,s+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,s){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,s+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,s))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(ba);class Ca{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,s,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(n=this.remapping(i,this.items.length),s=n.maps.length);let o,r,a=t.tr,c=[],l=[];return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(i,e+1),s=n.maps.length),s--,void l.push(t);if(n){l.push(new Da(t.map));let e,i=t.step.map(n.slice(s));i&&a.maybeStep(i).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],c.push(new Da(e,void 0,void 0,c.length+l.length))),s--,e&&n.appendMap(e,s)}else a.maybeStep(t.step);return t.selection?(o=n?t.selection.map(n.slice(s)):t.selection,r=new Ca(this.items.slice(0,i).append(l.reverse().concat(c)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:r,transform:a,selection:o}}addTransform(t,e,n,s){let i=[],o=this.eventCount,r=this.items,a=!s&&r.length?r.get(r.length-1):null;for(let l=0;l<t.steps.length;l++){let n,c=t.steps[l].invert(t.docs[l]),u=new Da(t.mapping.maps[l],c,e);(n=a&&a.merge(u))&&(u=n,l?i.pop():r=r.slice(0,r.length-1)),i.push(u),e&&(o++,e=void 0),s||(a=u)}let c=o-n.depth;return c>wa&&(r=function(t,e){let n;return t.forEach(((t,s)=>{if(t.selection&&0==e--)return n=s,!1})),t.slice(n)}(r,c),o-=c),new Ca(r.append(i),o)}remapping(t,e){let n=new N;return this.items.forEach(((e,s)=>{let i=null!=e.mirrorOffset&&s-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,i)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new Ca(this.items.append(t.map((t=>new Da(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,r=this.eventCount;this.items.forEach((t=>{t.selection&&r--}),s);let a=e;this.items.forEach((e=>{let s=i.getMirror(--a);if(null==s)return;o=Math.min(o,s);let c=i.maps[s];if(e.step){let o=t.steps[s].invert(t.docs[s]),l=e.selection&&e.selection.map(i.slice(a+1,s));l&&r++,n.push(new Da(c,o,l))}else n.push(new Da(c))}),s);let c=[];for(let d=e;d<o;d++)c.push(new Da(i.maps[d]));let l=this.items.slice(0,s).append(c).append(n),u=new Ca(l,r);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,s=[],i=0;return this.items.forEach(((o,r)=>{if(r>=t)s.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(n)),r=t&&t.getMap();if(n--,r&&e.appendMap(r,n),t){let a=o.selection&&o.selection.map(e.slice(n));a&&i++;let c,l=new Da(r.invert(),t,a),u=s.length-1;(c=s.length&&s[u].merge(l))?s[u]=c:s.push(l)}}else o.map&&n--}),this.items.length,0),new Ca(ba.from(s.reverse()),i)}}Ca.empty=new Ca(ba.empty,0);class Da{constructor(t,e,n,s){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new Da(e.getMap().invert(),e,this.selection)}}}class Aa{constructor(t,e,n,s,i){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const wa=20;function Ea(t){let e=[];return t.forEach(((t,n,s,i)=>e.push(s,i))),e}function xa(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let i=e.map(t[s],1),o=e.map(t[s+1],-1);i<=o&&n.push(i,o)}return n}let Sa=!1,Fa=null;function La(t){let e=t.plugins;if(Fa!=e){Sa=!1,Fa=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Sa=!0;break}}return Sa}const Ta=new A("history"),Ma=new A("closeHistory");function za(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new D({key:Ta,state:{init:()=>new Aa(Ca.empty,Ca.empty,null,0,-1),apply:(e,n,s)=>function(t,e,n,s){let i,o=n.getMeta(Ta);if(o)return o.historyState;n.getMeta(Ma)&&(t=new Aa(t.done,t.undone,null,0,-1));let r=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(r&&r.getMeta(Ta))return r.getMeta(Ta).redo?new Aa(t.done.addTransform(n,void 0,s,La(e)),t.undone,Ea(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new Aa(t.done,t.undone.addTransform(n,void 0,s,La(e)),null,t.prevTime,t.prevComposition);if(!1===n.getMeta("addToHistory")||r&&!1===r.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new Aa(t.done.rebased(n,i),t.undone.rebased(n,i),xa(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Aa(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),xa(t.prevRanges,n.mapping),t.prevTime,t.prevComposition);{let i=n.getMeta("composition"),o=0==t.prevTime||!r&&t.prevComposition!=i&&(t.prevTime<(n.time||0)-s.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,s)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&s>=e[i]&&(n=!0)})),n}(n,t.prevRanges)),a=r?xa(t.prevRanges,n.mapping):Ea(n.mapping.maps[n.steps.length-1]);return new Aa(t.done.addTransform(n,o?e.selection.getBookmark():void 0,s,La(e)),Ca.empty,a,n.time,null==i?t.prevComposition:i)}}(n,s,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,s="historyUndo"==n?Ia:"historyRedo"==n?Oa:null;return!!s&&(e.preventDefault(),s(t.state,t.dispatch))}}}})}function Ba(t,e){return(n,s)=>{let i=Ta.getState(n);if(!i||0==(t?i.undone:i.done).eventCount)return!1;if(s){let o=function(t,e,n){let s=La(e),i=Ta.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,s);if(!o)return null;let r=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,s),c=new Aa(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(r).setMeta(Ta,{redo:n,historyState:c})}(i,n,t);o&&s(e?o.scrollIntoView():o)}return!0}}const Ia=Ba(!1,!0),Oa=Ba(!0,!0),Na=x.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>Ia(t,e),redo:()=>({state:t,dispatch:e})=>Oa(t,e)}),addProseMirrorPlugins(){return[za(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),ja=f.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",g(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,s=t();return 0===n.parentOffset?s.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):s.insertContent({type:this.name}),s.command((({tr:t,dispatch:e})=>{var n;if(e){const{$to:e}=t.selection,s=e.end();if(e.nodeAfter)e.nodeAfter.isTextblock?t.setSelection(w.create(t.doc,e.pos+1)):e.nodeAfter.isBlock?t.setSelection(L.create(t.doc,e.pos)):t.setSelection(w.create(t.doc,e.pos));else{const i=null===(n=e.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();i&&(t.insert(s,i),t.setSelection(w.create(t.doc,s+1)))}t.scrollIntoView()}return!0})).run()}}},addInputRules(){return[j({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Ha=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Ra=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Pa=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,$a=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,qa=_.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[b({find:Ha,type:this.type}),b({find:Pa,type:this.type})]},addPasteRules(){return[y({find:Ra,type:this.type}),y({find:$a,type:this.type})]}}),Va=f.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",g(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Ua=f.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",g(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Za=_.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",g(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=v(t,this.type);return!!Object.entries(n).some((([,t])=>!!t))||e.unsetMark(this.name)}}}}),Wa=/^(\d+)\.\s$/,Ga=f.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",g(this.options.HTMLAttributes,n),0]:["ol",g(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ua.name,this.editor.getAttributes(Za.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=k({find:Wa,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=k({find:Wa,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Za.name)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[t]}}),Ka=f.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ja=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Qa=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Xa=_.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return H()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[b({find:Ja,type:this.type})]},addPasteRules(){return[y({find:Qa,type:this.type})]}}),Ya=f.create({name:"text",group:"inline"}),tc=x.create({name:"starterKit",addExtensions(){var t,e,n,s,i,o,r,a,c,l,u,d,h,p,m,f,g,k;const _=[];return!1!==this.options.blockquote&&_.push($r.configure(null===(t=this.options)||void 0===t?void 0:t.blockquote)),!1!==this.options.bold&&_.push(Wr.configure(null===(e=this.options)||void 0===e?void 0:e.bold)),!1!==this.options.bulletList&&_.push(Qr.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&_.push(ta.configure(null===(s=this.options)||void 0===s?void 0:s.code)),!1!==this.options.codeBlock&&_.push(sa.configure(null===(i=this.options)||void 0===i?void 0:i.codeBlock)),!1!==this.options.document&&_.push(ia.configure(null===(o=this.options)||void 0===o?void 0:o.document)),!1!==this.options.dropcursor&&_.push(aa.configure(null===(r=this.options)||void 0===r?void 0:r.dropcursor)),!1!==this.options.gapcursor&&_.push(fa.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&_.push(ga.configure(null===(c=this.options)||void 0===c?void 0:c.hardBreak)),!1!==this.options.heading&&_.push(ka.configure(null===(l=this.options)||void 0===l?void 0:l.heading)),!1!==this.options.history&&_.push(Na.configure(null===(u=this.options)||void 0===u?void 0:u.history)),!1!==this.options.horizontalRule&&_.push(ja.configure(null===(d=this.options)||void 0===d?void 0:d.horizontalRule)),!1!==this.options.italic&&_.push(qa.configure(null===(h=this.options)||void 0===h?void 0:h.italic)),!1!==this.options.listItem&&_.push(Va.configure(null===(p=this.options)||void 0===p?void 0:p.listItem)),!1!==this.options.orderedList&&_.push(Ga.configure(null===(m=this.options)||void 0===m?void 0:m.orderedList)),!1!==this.options.paragraph&&_.push(Ka.configure(null===(f=this.options)||void 0===f?void 0:f.paragraph)),!1!==this.options.strike&&_.push(Xa.configure(null===(g=this.options)||void 0===g?void 0:g.strike)),!1!==this.options.text&&_.push(Ya.configure(null===(k=this.options)||void 0===k?void 0:k.text)),_}}),ec=x.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,considerAnyAsEmpty:!1,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new D({key:new A("placeholder"),props:{decorations:({doc:t,selection:e})=>{var n;const s=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,o=[];if(!s)return null;const{firstChild:r}=t.content,a=r&&r.type.isLeaf,c=r&&r.isAtom,l=!!this.options.considerAnyAsEmpty||r&&r.type.name===(null===(n=t.type.contentMatch.defaultType)||void 0===n?void 0:n.name),u=t.content.childCount<=1&&r&&l&&r.nodeSize<=2&&(!a||!c);return t.descendants(((t,e)=>{const n=i>=e&&i<=e+t.nodeSize,s=!t.isLeaf&&!t.childCount;if((n||!this.options.showOnlyCurrent)&&s){const s=[this.options.emptyNodeClass];u&&s.push(this.options.emptyEditorClass);const i=B.node(e,e+t.nodeSize,{class:s.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:e,hasAnchor:n}):this.options.placeholder});o.push(i)}return this.options.includeChildren})),z.create(t,o)}}})]}}),nc=f.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",g(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),sc=/^\s*(\[([( |x])?\])\s$/,ic=f.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:t=>"true"===t.getAttribute("data-checked"),renderHTML:t=>({"data-checked":t.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",g(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:s})=>{const i=document.createElement("li"),o=document.createElement("label"),r=document.createElement("span"),a=document.createElement("input"),c=document.createElement("div");return o.contentEditable="false",a.type="checkbox",a.addEventListener("change",(e=>{if(!s.isEditable&&!this.options.onReadOnlyChecked)return void(a.checked=!a.checked);const{checked:i}=e.target;s.isEditable&&"function"==typeof n&&s.chain().focus(void 0,{scrollIntoView:!1}).command((({tr:t})=>{const e=n(),s=t.doc.nodeAt(e);return t.setNodeMarkup(e,void 0,{...null==s?void 0:s.attrs,checked:i}),!0})).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,i)||(a.checked=!a.checked))})),Object.entries(this.options.HTMLAttributes).forEach((([t,e])=>{i.setAttribute(t,e)})),i.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),o.append(a,r),i.append(o,c),Object.entries(e).forEach((([t,e])=>{i.setAttribute(t,e)})),{dom:i,contentDOM:c,update:t=>t.type===this.type&&(i.dataset.checked=t.attrs.checked,t.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[k({find:sc,type:this.type,getAttributes:t=>({checked:"x"===t[t.length-1]})})]}}),oc="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",rc="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ac=(t,e)=>{for(const n in e)t[n]=e[n];return t},cc="numeric",lc="ascii",uc="alpha",dc="asciinumeric",hc="alphanumeric",pc="domain",mc="emoji",fc="scheme",gc="slashscheme",kc="whitespace";function _c(t,e){return t in e||(e[t]=[]),e[t]}function bc(t,e,n){e[cc]&&(e[dc]=!0,e[hc]=!0),e[lc]&&(e[dc]=!0,e[uc]=!0),e[dc]&&(e[hc]=!0),e[uc]&&(e[hc]=!0),e[hc]&&(e[pc]=!0),e[mc]&&(e[pc]=!0);for(const s in e){const e=_c(s,n);e.indexOf(t)<0&&e.push(t)}}function yc(t){void 0===t&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}yc.groups={},yc.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let s=0;s<e.jr.length;s++){const n=e.jr[s][0],i=e.jr[s][1];if(i&&n.test(t))return i}return e.jd},has(t,e){return void 0===e&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,s){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,s)},tr(t,e,n,s){let i;return s=s||yc.groups,e&&e.j?i=e:(i=new yc(e),n&&s&&bc(e,n,s)),this.jr.push([t,i]),i},ts(t,e,n,s){let i=this;const o=t.length;if(!o)return i;for(let r=0;r<o-1;r++)i=i.tt(t[r]);return i.tt(t[o-1],e,n,s)},tt(t,e,n,s){s=s||yc.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let r,a=i.go(t);if(a?(r=new yc,ac(r.j,a.j),r.jr.push.apply(r.jr,a.jr),r.jd=a.jd,r.t=a.t):r=new yc,o){if(s)if(r.t&&"string"==typeof r.t){const t=ac(function(t,e){const n={};for(const s in e)e[s].indexOf(t)>=0&&(n[s]=!0);return n}(r.t,s),n);bc(o,t,s)}else n&&bc(o,n,s);r.t=o}return i.j[t]=r,r}};const vc=(t,e,n,s,i)=>t.ta(e,n,s,i),Cc=(t,e,n,s,i)=>t.tr(e,n,s,i),Dc=(t,e,n,s,i)=>t.ts(e,n,s,i),Ac=(t,e,n,s,i)=>t.tt(e,n,s,i),wc="WORD",Ec="UWORD",xc="LOCALHOST",Sc="TLD",Fc="UTLD",Lc="SCHEME",Tc="SLASH_SCHEME",Mc="NUM",zc="WS",Bc="NL",Ic="OPENBRACE",Oc="CLOSEBRACE",Nc="OPENBRACKET",jc="CLOSEBRACKET",Hc="OPENPAREN",Rc="CLOSEPAREN",Pc="OPENANGLEBRACKET",$c="CLOSEANGLEBRACKET",qc="FULLWIDTHLEFTPAREN",Vc="FULLWIDTHRIGHTPAREN",Uc="LEFTCORNERBRACKET",Zc="RIGHTCORNERBRACKET",Wc="LEFTWHITECORNERBRACKET",Gc="RIGHTWHITECORNERBRACKET",Kc="FULLWIDTHLESSTHAN",Jc="FULLWIDTHGREATERTHAN",Qc="AMPERSAND",Xc="APOSTROPHE",Yc="ASTERISK",tl="AT",el="BACKSLASH",nl="BACKTICK",sl="CARET",il="COLON",ol="COMMA",rl="DOLLAR",al="DOT",cl="EQUALS",ll="EXCLAMATION",ul="HYPHEN",dl="PERCENT",hl="PIPE",pl="PLUS",ml="POUND",fl="QUERY",gl="QUOTE",kl="SEMI",_l="SLASH",bl="TILDE",yl="UNDERSCORE",vl="EMOJI",Cl="SYM";var Dl=Object.freeze({__proto__:null,WORD:wc,UWORD:Ec,LOCALHOST:xc,TLD:Sc,UTLD:Fc,SCHEME:Lc,SLASH_SCHEME:Tc,NUM:Mc,WS:zc,NL:Bc,OPENBRACE:Ic,CLOSEBRACE:Oc,OPENBRACKET:Nc,CLOSEBRACKET:jc,OPENPAREN:Hc,CLOSEPAREN:Rc,OPENANGLEBRACKET:Pc,CLOSEANGLEBRACKET:$c,FULLWIDTHLEFTPAREN:qc,FULLWIDTHRIGHTPAREN:Vc,LEFTCORNERBRACKET:Uc,RIGHTCORNERBRACKET:Zc,LEFTWHITECORNERBRACKET:Wc,RIGHTWHITECORNERBRACKET:Gc,FULLWIDTHLESSTHAN:Kc,FULLWIDTHGREATERTHAN:Jc,AMPERSAND:Qc,APOSTROPHE:Xc,ASTERISK:Yc,AT:tl,BACKSLASH:el,BACKTICK:nl,CARET:sl,COLON:il,COMMA:ol,DOLLAR:rl,DOT:al,EQUALS:cl,EXCLAMATION:ll,HYPHEN:ul,PERCENT:dl,PIPE:hl,PLUS:pl,POUND:ml,QUERY:fl,QUOTE:gl,SEMI:kl,SLASH:_l,TILDE:bl,UNDERSCORE:yl,EMOJI:vl,SYM:Cl});const Al=/[a-z]/,wl=new RegExp("\\p{L}","u"),El=new RegExp("\\p{Emoji}","u"),xl=/\d/,Sl=/\s/,Fl="\n",Ll="",Tl="";let Ml=null,zl=null;function Bl(t,e,n,s,i){let o;const r=e.length;for(let a=0;a<r-1;a++){const n=e[a];t.j[n]?o=t.j[n]:(o=new yc(s),o.jr=i.slice(),t.j[n]=o),t=o}return o=new yc(n),o.jr=i.slice(),t.j[e[r-1]]=o,o}function Il(t){const e=[],n=[];let s=0;for(;s<t.length;){let i=0;for(;"0123456789".indexOf(t[s+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let e=parseInt(t.substring(s,s+i),10);e>0;e--)n.pop();s+=i}else n.push(t[s]),s++}return e}const Ol={defaultProtocol:"http",events:null,format:jl,formatHref:jl,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Nl(t,e){void 0===e&&(e=null);let n=ac({},Ol);t&&(n=ac(n,t instanceof Nl?t.o:t));const s=n.ignoreTags,i=[];for(let o=0;o<s.length;o++)i.push(s[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}function jl(t){return t}function Hl(t,e){this.t="token",this.v=t,this.tk=e}function Rl(t,e){class n extends Hl{constructor(e,n){super(e,n),this.t=t}}for(const s in e)n.prototype[s]=e[s];return n.t=t,n}Nl.prototype={o:Ol,ignoreTags:[],defaultRender:t=>t,check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const s=null!=e;let i=this.o[t];return i?("object"==typeof i?(i=n.t in i?i[n.t]:Ol[t],"function"==typeof i&&s&&(i=i(e,n))):"function"==typeof i&&s&&(i=i(e,n.t,n)),i):i},getObj(t,e,n){let s=this.o[t];return"function"==typeof s&&null!=e&&(s=s(e,n.t,n)),s},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}},Hl.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),s=t.get("format",e,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return void 0===t&&(t=Ol.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),r={},a=t.get("className",n,e),c=t.get("target",n,e),l=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return r.href=s,a&&(r.class=a),c&&(r.target=c),l&&(r.rel=l),u&&ac(r,u),{tagName:i,attributes:r,content:o,eventListeners:d}}};const Pl=Rl("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),$l=Rl("text"),ql=Rl("nl"),Vl=Rl("url",{isLink:!0,toHref(t){return void 0===t&&(t=Ol.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==xc&&t[1].t===il}}),Ul=t=>new yc(t);function Zl(t,e,n){const s=n[0].s,i=n[n.length-1].e;return new t(e.slice(s,i),n)}const Wl="undefined"!=typeof console&&console&&console.warn||(()=>{}),Gl={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Kl(t,e){if(void 0===e&&(e=!1),Gl.initialized&&Wl(`linkifyjs: already initialized - will not register custom scheme "${t}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');Gl.customSchemes.push([t,e])}function Jl(){Gl.scanner=function(t){void 0===t&&(t=[]);const e={};yc.groups=e;const n=new yc;null==Ml&&(Ml=Il(oc)),null==zl&&(zl=Il(rc)),Ac(n,"'",Xc),Ac(n,"{",Ic),Ac(n,"}",Oc),Ac(n,"[",Nc),Ac(n,"]",jc),Ac(n,"(",Hc),Ac(n,")",Rc),Ac(n,"<",Pc),Ac(n,">",$c),Ac(n,"",qc),Ac(n,"",Vc),Ac(n,"",Uc),Ac(n,"",Zc),Ac(n,"",Wc),Ac(n,"",Gc),Ac(n,"",Kc),Ac(n,"",Jc),Ac(n,"&",Qc),Ac(n,"*",Yc),Ac(n,"@",tl),Ac(n,"`",nl),Ac(n,"^",sl),Ac(n,":",il),Ac(n,",",ol),Ac(n,"$",rl),Ac(n,".",al),Ac(n,"=",cl),Ac(n,"!",ll),Ac(n,"-",ul),Ac(n,"%",dl),Ac(n,"|",hl),Ac(n,"+",pl),Ac(n,"#",ml),Ac(n,"?",fl),Ac(n,'"',gl),Ac(n,"/",_l),Ac(n,";",kl),Ac(n,"~",bl),Ac(n,"_",yl),Ac(n,"\\",el);const s=Cc(n,xl,Mc,{[cc]:!0});Cc(s,xl,s);const i=Cc(n,Al,wc,{[lc]:!0});Cc(i,Al,i);const o=Cc(n,wl,Ec,{[uc]:!0});Cc(o,Al),Cc(o,wl,o);const r=Cc(n,Sl,zc,{[kc]:!0});Ac(n,Fl,Bc,{[kc]:!0}),Ac(r,Fl),Cc(r,Sl,r);const a=Cc(n,El,vl,{[mc]:!0});Cc(a,El,a),Ac(a,Ll,a);const c=Ac(a,Tl);Cc(c,El,a);const l=[[Al,i]],u=[[Al,null],[wl,o]];for(let d=0;d<Ml.length;d++)Bl(n,Ml[d],Sc,wc,l);for(let d=0;d<zl.length;d++)Bl(n,zl[d],Fc,Ec,u);bc(Sc,{tld:!0,ascii:!0},e),bc(Fc,{utld:!0,alpha:!0},e),Bl(n,"file",Lc,wc,l),Bl(n,"mailto",Lc,wc,l),Bl(n,"http",Tc,wc,l),Bl(n,"https",Tc,wc,l),Bl(n,"ftp",Tc,wc,l),Bl(n,"ftps",Tc,wc,l),bc(Lc,{scheme:!0,ascii:!0},e),bc(Tc,{slashscheme:!0,ascii:!0},e),t=t.sort(((t,e)=>t[0]>e[0]?1:-1));for(let d=0;d<t.length;d++){const e=t[d][0],s=t[d][1]?{[fc]:!0}:{[gc]:!0};e.indexOf("-")>=0?s[pc]=!0:Al.test(e)?xl.test(e)?s[dc]=!0:s[lc]=!0:s[cc]=!0,Dc(n,e,e,s)}return Dc(n,"localhost",xc,{ascii:!0}),n.jd=new yc(Cl),{start:n,tokens:ac({groups:e},Dl)}}(Gl.customSchemes);for(let t=0;t<Gl.tokenQueue.length;t++)Gl.tokenQueue[t][1]({scanner:Gl.scanner});Gl.parser=function(t){let{groups:e}=t;const n=e.domain.concat([Qc,Yc,tl,el,nl,sl,rl,cl,ul,Mc,dl,hl,pl,ml,_l,Cl,bl,yl]),s=[Xc,il,ol,al,ll,fl,gl,kl,Pc,$c,Ic,Oc,jc,Nc,Hc,Rc,qc,Vc,Uc,Zc,Wc,Gc,Kc,Jc],i=[Qc,Xc,Yc,el,nl,sl,rl,cl,ul,Ic,Oc,dl,hl,pl,ml,fl,_l,Cl,bl,yl],o=Ul(),r=Ac(o,bl);vc(r,i,r),vc(r,e.domain,r);const a=Ul(),c=Ul(),l=Ul();vc(o,e.domain,a),vc(o,e.scheme,c),vc(o,e.slashscheme,l),vc(a,i,r),vc(a,e.domain,a);const u=Ac(a,tl);Ac(r,tl,u),Ac(c,tl,u),Ac(l,tl,u);const d=Ac(r,al);vc(d,i,r),vc(d,e.domain,r);const h=Ul();vc(u,e.domain,h),vc(h,e.domain,h);const p=Ac(h,al);vc(p,e.domain,h);const m=Ul(Pl);vc(p,e.tld,m),vc(p,e.utld,m),Ac(u,xc,m);const f=Ac(h,ul);vc(f,e.domain,h),vc(m,e.domain,h),Ac(m,al,p),Ac(m,ul,f);const g=Ac(m,il);vc(g,e.numeric,Pl);const k=Ac(a,ul),_=Ac(a,al);vc(k,e.domain,a),vc(_,i,r),vc(_,e.domain,a);const b=Ul(Vl);vc(_,e.tld,b),vc(_,e.utld,b),vc(b,e.domain,a),vc(b,i,r),Ac(b,al,_),Ac(b,ul,k),Ac(b,tl,u);const y=Ac(b,il),v=Ul(Vl);vc(y,e.numeric,v);const C=Ul(Vl),D=Ul();vc(C,n,C),vc(C,s,D),vc(D,n,C),vc(D,s,D),Ac(b,_l,C),Ac(v,_l,C);const A=Ac(c,il),w=Ac(l,il),E=Ac(w,_l),x=Ac(E,_l);vc(c,e.domain,a),Ac(c,al,_),Ac(c,ul,k),vc(l,e.domain,a),Ac(l,al,_),Ac(l,ul,k),vc(A,e.domain,C),Ac(A,_l,C),vc(x,e.domain,C),vc(x,n,C),Ac(x,_l,C);const S=[[Ic,Oc],[Nc,jc],[Hc,Rc],[Pc,$c],[qc,Vc],[Uc,Zc],[Wc,Gc],[Kc,Jc]];for(let F=0;F<S.length;F++){const[t,e]=S[F],i=Ac(C,t);Ac(D,t,i),Ac(i,e,C);const o=Ul(Vl);vc(i,n,o);const r=Ul();vc(i,s),vc(o,n,o),vc(o,s,r),vc(r,n,o),vc(r,s,r),Ac(o,e,C),Ac(r,e,C)}return Ac(o,xc,b),Ac(o,Bc,ql),{start:o,tokens:Dl}}(Gl.scanner.tokens);for(let t=0;t<Gl.pluginQueue.length;t++)Gl.pluginQueue[t][1]({scanner:Gl.scanner,parser:Gl.parser});Gl.initialized=!0}function Ql(t){return Gl.initialized||Jl(),function(t,e,n){let s=n.length,i=0,o=[],r=[];for(;i<s;){let a=t,c=null,l=null,u=0,d=null,h=-1;for(;i<s&&!(c=a.go(n[i].t));)r.push(n[i++]);for(;i<s&&(l=c||a.go(n[i].t));)c=null,a=l,a.accepts()?(h=0,d=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<s&&(r.push(n[i]),i++);else{r.length>0&&(o.push(Zl($l,e,r)),r=[]),i-=h,u-=h;const t=d.t,s=n.slice(i-u,i);o.push(Zl(t,e,s))}}return r.length>0&&o.push(Zl($l,e,r)),o}(Gl.parser.start,t,function(t,e){const n=function(t){const e=[],n=t.length;let s=0;for(;s<n;){let i,o=t.charCodeAt(s),r=o<55296||o>56319||s+1===n||(i=t.charCodeAt(s+1))<56320||i>57343?t[s]:t.slice(s,s+2);e.push(r),s+=r.length}return e}(e.replace(/[A-Z]/g,(t=>t.toLowerCase()))),s=n.length,i=[];let o=0,r=0;for(;r<s;){let a=t,c=null,l=0,u=null,d=-1,h=-1;for(;r<s&&(c=a.go(n[r]));)a=c,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[r].length,h++),l+=n[r].length,o+=n[r].length,r++;o-=d,r-=h,l-=d,i.push({t:u.t,v:e.slice(o-l,o),s:o-l,e:o})}return i}(Gl.scanner.start,t))}function Xl(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),e&&"object"==typeof e){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const s=new Nl(n),i=Ql(t),o=[];for(let r=0;r<i.length;r++){const t=i[r];!t.isLink||e&&t.t!==e||!s.check(t)||o.push(t.toFormattedObject(s))}return o}const Yl=_.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach((t=>{"string"!=typeof t?Kl(t.scheme,t.optionalSlashes):Kl(t)}))},onDestroy(){yc.groups={},Gl.scanner=null,Gl.parser=null,Gl.tokenQueue=[],Gl.pluginQueue=[],Gl.customSchemes=[],Gl.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:t}){var e;return(null===(e=t.href)||void 0===e?void 0:e.startsWith("javascript:"))?["a",g(this.options.HTMLAttributes,{...t,href:""}),0]:["a",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[y({find:t=>{const e=[];if(t){const n=Xl(t).filter((t=>t.isLink));n.length&&n.forEach((t=>e.push({text:t.value,data:{href:t.href},index:t.start})))}return e},type:this.type,getAttributes:t=>{var e;return{href:null===(e=t.data)||void 0===e?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];var e;return this.options.autolink&&t.push((e={type:this.type,validate:this.options.validate},new D({key:new A("autolink"),appendTransaction:(t,n,s)=>{const i=t.some((t=>t.docChanged))&&!n.doc.eq(s.doc),o=t.some((t=>t.getMeta("preventAutolink")));if(!i||o)return;const{tr:r}=s,a=R(n.doc,[...t]);return P(a).forEach((({newRange:t})=>{const n=$(s.doc,t,(t=>t.isTextblock));let i,o;if(n.length>1?(i=n[0],o=s.doc.textBetween(i.pos,i.pos+i.node.nodeSize,void 0," ")):n.length&&s.doc.textBetween(t.from,t.to," "," ").endsWith(" ")&&(i=n[0],o=s.doc.textBetween(i.pos,t.to,void 0," ")),i&&o){const t=o.split(" ").filter((t=>""!==t));if(t.length<=0)return!1;const n=t[t.length-1],c=i.pos+o.lastIndexOf(n);if(!n)return!1;const l=Ql(n).map((t=>t.toObject()));if(!(1===(a=l).length?a[0].isLink:3===a.length&&a[1].isLink&&["()","[]"].includes(a[0].value+a[2].value)))return!1;l.filter((t=>t.isLink)).map((t=>({...t,from:c+t.start+1,to:c+t.end+1}))).filter((t=>!s.schema.marks.code||!s.doc.rangeHasMark(t.from,t.to,s.schema.marks.code))).filter((t=>!e.validate||e.validate(t.value))).forEach((t=>{q(t.from,t.to,s.doc).some((t=>t.mark.type===e.type))||r.addMark(t.from,t.to,e.type.create({href:t.href}))}))}var a})),r.steps.length?r:void 0}}))),this.options.openOnClick&&t.push(function(t){return new D({key:new A("handleClickLink"),props:{handleClick:(e,n,s)=>{var i,o;if(t.whenNotEditable&&e.editable)return!1;if(0!==s.button)return!1;let r=s.target;const a=[];for(;"DIV"!==r.nodeName;)a.push(r),r=r.parentNode;if(!a.find((t=>"A"===t.nodeName)))return!1;const c=V(e.state,t.type.name),l=s.target,u=null!==(i=null==l?void 0:l.href)&&void 0!==i?i:c.href,d=null!==(o=null==l?void 0:l.target)&&void 0!==o?o:c.target;return!(!l||!u||(window.open(u,d),0))}}})}({type:this.type,whenNotEditable:"whenNotEditable"===this.options.openOnClick})),this.options.linkOnPaste&&t.push(function(t){return new D({key:new A("handlePasteLink"),props:{handlePaste:(e,n,s)=>{const{state:i}=e,{selection:o}=i,{empty:r}=o;if(r)return!1;let a="";s.content.forEach((t=>{a+=t.textContent}));const c=Xl(a).find((t=>t.isLink&&t.value===a));return!(!a||!c||(t.editor.commands.setMark(t.type,{href:c.href}),0))}}})}({editor:this.editor,type:this.type})),t}}),tu=ja.extend({addInputRules(){return[new U({find:/^(?:---|-|___\s|\*\*\*\s)$/,handler:({state:t,range:e})=>{const{tr:n}=t,s=e.from,i=e.to;n.insert(s-1,this.type.create({})).delete(n.mapping.map(s),n.mapping.map(i))}})]}}),eu=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,nu=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,su=Wr.extend({addInputRules(){return[b({find:eu,type:this.type})]},addPasteRules(){return[y({find:nu,type:this.type})]}}),iu=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))$/,ou=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))/g,ru=qa.extend({addInputRules(){return[b({find:iu,type:this.type})]},addPasteRules(){return[y({find:ou,type:this.type})]}}),au=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,cu=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,lu=_.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:t}){return["mark",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[b({find:au,type:this.type})]},addPasteRules(){return[y({find:cu,type:this.type})]}}),uu=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))$/,du=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))/g,hu=lu.extend({addInputRules(){return[b({find:uu,type:this.type})]},addPasteRules(){return[y({find:du,type:this.type})]}}),pu=_.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("underline")&&{}}],renderHTML({HTMLAttributes:t}){return["u",g(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),mu=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,fu=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,gu=pu.extend({addInputRules(){return[b({find:mu,type:this.type})]},addPasteRules(){return[y({find:fu,type:this.type})]}}),ku=/(?:^|\s)((?:~)((?:[^~]+))(?:~))$/,_u=/(?:^|\s)((?:~)((?:[^~]+))(?:~))/g,bu=Xa.extend({addInputRules(){return[b({find:ku,type:this.type})]},addPasteRules(){return[y({find:_u,type:this.type})]}}),yu={};function vu(t,e){"string"!=typeof e&&(e=vu.defaultChars);const n=function(t){let e=yu[t];if(e)return e;e=yu[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);e.push(t)}for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);e[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return e}(e);return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e="";for(let s=0,i=t.length;s<i;s+=3){const o=parseInt(t.slice(s+1,s+3),16);if(o<128)e+=n[o];else{if(192==(224&o)&&s+3<i){const n=parseInt(t.slice(s+4,s+6),16);if(128==(192&n)){const t=o<<6&1984|63&n;e+=t<128?"":String.fromCharCode(t),s+=3;continue}}if(224==(240&o)&&s+6<i){const n=parseInt(t.slice(s+4,s+6),16),i=parseInt(t.slice(s+7,s+9),16);if(128==(192&n)&&128==(192&i)){const t=o<<12&61440|n<<6&4032|63&i;e+=t<2048||t>=55296&&t<=57343?"":String.fromCharCode(t),s+=6;continue}}if(240==(248&o)&&s+9<i){const n=parseInt(t.slice(s+4,s+6),16),i=parseInt(t.slice(s+7,s+9),16),r=parseInt(t.slice(s+10,s+12),16);if(128==(192&n)&&128==(192&i)&&128==(192&r)){let t=o<<18&1835008|n<<12&258048|i<<6&4032|63&r;t<65536||t>1114111?e+="":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),s+=9;continue}}e+=""}}return e}))}vu.defaultChars=";/?:@&=+$,#",vu.componentChars="";const Cu={};function Du(t,e,n){"string"!=typeof e&&(n=e,e=Du.defaultChars),void 0===n&&(n=!0);const s=function(t){let e=Cu[t];if(e)return e;e=Cu[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);/^[0-9a-z]$/i.test(t)?e.push(t):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}(e);let i="";for(let o=0,r=t.length;o<r;o++){const e=t.charCodeAt(o);if(n&&37===e&&o+2<r&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))i+=t.slice(o,o+3),o+=2;else if(e<128)i+=s[e];else if(e>=55296&&e<=57343){if(e>=55296&&e<=56319&&o+1<r){const e=t.charCodeAt(o+1);if(e>=56320&&e<=57343){i+=encodeURIComponent(t[o]+t[o+1]),o++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(t[o])}return i}function Au(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function wu(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}Du.defaultChars=";/?:@&=+$,-_.!~*'()#",Du.componentChars="-_.!~*'()";const Eu=/^([a-z0-9.+-]+:)/i,xu=/:[0-9]*$/,Su=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Fu=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Lu=["'"].concat(Fu),Tu=["%","/","?",";","#"].concat(Lu),Mu=["/","?","#"],zu=/^[+a-z0-9A-Z_-]{0,63}$/,Bu=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Iu={javascript:!0,"javascript:":!0},Ou={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Nu(t,e){if(t&&t instanceof wu)return t;const n=new wu;return n.parse(t,e),n}wu.prototype.parse=function(t,e){let n,s,i,o=t;if(o=o.trim(),!e&&1===t.split("#").length){const t=Su.exec(o);if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let r=Eu.exec(o);if(r&&(r=r[0],n=r.toLowerCase(),this.protocol=r,o=o.substr(r.length)),(e||r||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||r&&Iu[r]||(o=o.substr(2),this.slashes=!0)),!Iu[r]&&(i||r&&!Ou[r])){let t,e,n=-1;for(let a=0;a<Mu.length;a++)s=o.indexOf(Mu[a]),-1!==s&&(-1===n||s<n)&&(n=s);e=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==e&&(t=o.slice(0,e),o=o.slice(e+1),this.auth=t),n=-1;for(let a=0;a<Tu.length;a++)s=o.indexOf(Tu[a]),-1!==s&&(-1===n||s<n)&&(n=s);-1===n&&(n=o.length),":"===o[n-1]&&n--;const i=o.slice(0,n);o=o.slice(n),this.parseHost(i),this.hostname=this.hostname||"";const r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r){const t=this.hostname.split(/\./);for(let e=0,n=t.length;e<n;e++){const n=t[e];if(n&&!n.match(zu)){let s="";for(let t=0,e=n.length;t<e;t++)n.charCodeAt(t)>127?s+="x":s+=n[t];if(!s.match(zu)){const s=t.slice(0,e),i=t.slice(e+1),r=n.match(Bu);r&&(s.push(r[1]),i.unshift(r[2])),i.length&&(o=i.join(".")+o),this.hostname=s.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const c=o.indexOf("?");return-1!==c&&(this.search=o.substr(c),o=o.slice(0,c)),o&&(this.pathname=o),Ou[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},wu.prototype.parseHost=function(t){let e=xu.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const ju=Object.freeze(Object.defineProperty({__proto__:null,decode:vu,encode:Du,format:Au,parse:Nu},Symbol.toStringTag,{value:"Module"})),Hu=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ru=/[\0-\x1F\x7F-\x9F]/,Pu=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,$u=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,qu=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Vu=Object.freeze(Object.defineProperty({__proto__:null,Any:Hu,Cc:Ru,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:Pu,S:$u,Z:qu},Symbol.toStringTag,{value:"Module"})),Uu=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((t=>t.charCodeAt(0)))),Zu=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((t=>t.charCodeAt(0))));var Wu;const Gu=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Ku=null!==(Wu=String.fromCodePoint)&&void 0!==Wu?Wu:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};var Ju,Qu;(Qu=Ju||(Ju={}))[Qu.NUM=35]="NUM",Qu[Qu.SEMI=59]="SEMI",Qu[Qu.EQUALS=61]="EQUALS",Qu[Qu.ZERO=48]="ZERO",Qu[Qu.NINE=57]="NINE",Qu[Qu.LOWER_A=97]="LOWER_A",Qu[Qu.LOWER_F=102]="LOWER_F",Qu[Qu.LOWER_X=120]="LOWER_X",Qu[Qu.LOWER_Z=122]="LOWER_Z",Qu[Qu.UPPER_A=65]="UPPER_A",Qu[Qu.UPPER_F=70]="UPPER_F",Qu[Qu.UPPER_Z=90]="UPPER_Z";var Xu,Yu,td,ed,nd,sd;function id(t){return t>=Ju.ZERO&&t<=Ju.NINE}function od(t){return t===Ju.EQUALS||function(t){return t>=Ju.UPPER_A&&t<=Ju.UPPER_Z||t>=Ju.LOWER_A&&t<=Ju.LOWER_Z||id(t)}(t)}(Yu=Xu||(Xu={}))[Yu.VALUE_LENGTH=49152]="VALUE_LENGTH",Yu[Yu.BRANCH_LENGTH=16256]="BRANCH_LENGTH",Yu[Yu.JUMP_TABLE=127]="JUMP_TABLE",(ed=td||(td={}))[ed.EntityStart=0]="EntityStart",ed[ed.NumericStart=1]="NumericStart",ed[ed.NumericDecimal=2]="NumericDecimal",ed[ed.NumericHex=3]="NumericHex",ed[ed.NamedEntity=4]="NamedEntity",(sd=nd||(nd={}))[sd.Legacy=0]="Legacy",sd[sd.Strict=1]="Strict",sd[sd.Attribute=2]="Attribute";class rd{constructor(t,e,n){this.decodeTree=t,this.emitCodePoint=e,this.errors=n,this.state=td.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=nd.Strict}startEntity(t){this.decodeMode=t,this.state=td.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case td.EntityStart:return t.charCodeAt(e)===Ju.NUM?(this.state=td.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=td.NamedEntity,this.stateNamedEntity(t,e));case td.NumericStart:return this.stateNumericStart(t,e);case td.NumericDecimal:return this.stateNumericDecimal(t,e);case td.NumericHex:return this.stateNumericHex(t,e);case td.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===Ju.LOWER_X?(this.state=td.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=td.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,n,s){if(e!==n){const i=n-e;this.result=this.result*Math.pow(s,i)+parseInt(t.substr(e,i),s),this.consumed+=i}}stateNumericHex(t,e){const n=e;for(;e<t.length;){const i=t.charCodeAt(e);if(!(id(i)||(s=i,s>=Ju.UPPER_A&&s<=Ju.UPPER_F||s>=Ju.LOWER_A&&s<=Ju.LOWER_F)))return this.addToNumericResult(t,n,e,16),this.emitNumericEntity(i,3);e+=1}var s;return this.addToNumericResult(t,n,e,16),-1}stateNumericDecimal(t,e){const n=e;for(;e<t.length;){const s=t.charCodeAt(e);if(!id(s))return this.addToNumericResult(t,n,e,10),this.emitNumericEntity(s,2);e+=1}return this.addToNumericResult(t,n,e,10),-1}emitNumericEntity(t,e){var n;if(this.consumed<=e)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ju.SEMI)this.consumed+=1;else if(this.decodeMode===nd.Strict)return 0;return this.emitCodePoint(function(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=Gu.get(t))&&void 0!==e?e:t}(this.result),this.consumed),this.errors&&(t!==Ju.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:n}=this;let s=n[this.treeIndex],i=(s&Xu.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const o=t.charCodeAt(e);if(this.treeIndex=cd(n,s,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return 0===this.result||this.decodeMode===nd.Attribute&&(0===i||od(o))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],i=(s&Xu.VALUE_LENGTH)>>14,0!==i){if(o===Ju.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==nd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:n}=this,s=(n[e]&Xu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,s,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,n){const{decodeTree:s}=this;return this.emitCodePoint(1===e?s[t]&~Xu.VALUE_LENGTH:s[t+1],n),3===e&&this.emitCodePoint(s[t+2],n),n}end(){var t;switch(this.state){case td.NamedEntity:return 0===this.result||this.decodeMode===nd.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case td.NumericDecimal:return this.emitNumericEntity(0,2);case td.NumericHex:return this.emitNumericEntity(0,3);case td.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case td.EntityStart:return 0}}}function ad(t){let e="";const n=new rd(t,(t=>e+=Ku(t)));return function(t,s){let i=0,o=0;for(;(o=t.indexOf("&",o))>=0;){e+=t.slice(i,o),n.startEntity(s);const r=n.write(t,o+1);if(r<0){i=o+n.end();break}i=o+r,o=0===r?i+1:i}const r=e+t.slice(i);return e="",r}}function cd(t,e,n,s){const i=(e&Xu.BRANCH_LENGTH)>>7,o=e&Xu.JUMP_TABLE;if(0===i)return 0!==o&&s===o?n:-1;if(o){const e=s-o;return e<0||e>=i?-1:t[n+e]-1}let r=n,a=r+i-1;for(;r<=a;){const e=r+a>>>1,n=t[e];if(n<s)r=e+1;else{if(!(n>s))return t[e+i];a=e-1}}return-1}const ld=ad(Uu);function ud(t,e=nd.Legacy){return ld(t,e)}function dd(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}ad(Zu);const hd=Object.prototype.hasOwnProperty;function pd(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t}function md(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function fd(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(!!(65535&~t&&65534!=(65535&t))&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function gd(t){if(t>65535){const e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const kd=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,_d=new RegExp(kd.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),bd=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function yd(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(_d,(function(t,e,n){return e||function(t,e){if(35===e.charCodeAt(0)&&bd.test(e)){const n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return fd(n)?gd(n):t}const n=ud(t);return n!==t?n:t}(t,n)}))}const vd=/[&<>"]/,Cd=/[&<>"]/g,Dd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Ad(t){return Dd[t]}function wd(t){return vd.test(t)?t.replace(Cd,Ad):t}const Ed=/[.?*+^$[\]\\(){}|-]/g;function xd(t){switch(t){case 9:case 32:return!0}return!1}function Sd(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Fd(t){return Pu.test(t)||$u.test(t)}function Ld(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Td(t){return t=t.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const Md={mdurl:ju,ucmicro:Vu},zd=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:md,assign:pd,escapeHtml:wd,escapeRE:function(t){return t.replace(Ed,"\\$&")},fromCodePoint:gd,has:function(t,e){return hd.call(t,e)},isMdAsciiPunct:Ld,isPunctChar:Fd,isSpace:xd,isString:dd,isValidEntityCode:fd,isWhiteSpace:Sd,lib:Md,normalizeReference:Td,unescapeAll:yd,unescapeMd:function(t){return t.indexOf("\\")<0?t:t.replace(kd,"$1")}},Symbol.toStringTag,{value:"Module"}));const Bd=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(t,e,n){let s,i=e;const o={ok:!1,pos:0,str:""};if(60===t.charCodeAt(i)){for(i++;i<n;){if(s=t.charCodeAt(i),10===s)return o;if(60===s)return o;if(62===s)return o.pos=i+1,o.str=yd(t.slice(e+1,i)),o.ok=!0,o;92===s&&i+1<n?i+=2:i++}return o}let r=0;for(;i<n&&(s=t.charCodeAt(i),32!==s)&&!(s<32||127===s);)if(92===s&&i+1<n){if(32===t.charCodeAt(i+1))break;i+=2}else{if(40===s&&(r++,r>32))return o;if(41===s){if(0===r)break;r--}i++}return e===i||0!==r||(o.str=yd(t.slice(e,i)),o.pos=i,o.ok=!0),o},parseLinkLabel:function(t,e,n){let s,i,o,r;const a=t.posMax,c=t.pos;for(t.pos=e+1,s=1;t.pos<a;){if(o=t.src.charCodeAt(t.pos),93===o&&(s--,0===s)){i=!0;break}if(r=t.pos,t.md.inline.skipToken(t),91===o)if(r===t.pos-1)s++;else if(n)return t.pos=c,-1}let l=-1;return i&&(l=t.pos),t.pos=c,l},parseLinkTitle:function(t,e,n,s){let i,o=e;const r={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)r.str=s.str,r.marker=s.marker;else{if(o>=n)return r;let s=t.charCodeAt(o);if(34!==s&&39!==s&&40!==s)return r;e++,o++,40===s&&(s=41),r.marker=s}for(;o<n;){if(i=t.charCodeAt(o),i===r.marker)return r.pos=o+1,r.str+=yd(t.slice(e,o)),r.ok=!0,r;if(40===i&&41===r.marker)return r;92===i&&o+1<n&&o++,o++}return r.can_continue=!0,r.str+=yd(t.slice(e,o)),r}},Symbol.toStringTag,{value:"Module"})),Id={};function Od(){this.rules=pd({},Id)}function Nd(){this.__rules__=[],this.__cache__=null}function jd(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function Hd(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}Id.code_inline=function(t,e,n,s,i){const o=t[e];return"<code"+i.renderAttrs(o)+">"+wd(o.content)+"</code>"},Id.code_block=function(t,e,n,s,i){const o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+wd(t[e].content)+"</code></pre>\n"},Id.fence=function(t,e,n,s,i){const o=t[e],r=o.info?yd(o.info).trim():"";let a,c="",l="";if(r){const t=r.split(/(\s+)/g);c=t[0],l=t.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,c,l)||wd(o.content),0===a.indexOf("<pre"))return a+"\n";if(r){const t=o.attrIndex("class"),e=o.attrs?o.attrs.slice():[];t<0?e.push(["class",n.langPrefix+c]):(e[t]=e[t].slice(),e[t][1]+=" "+n.langPrefix+c);const s={attrs:e};return`<pre><code${i.renderAttrs(s)}>${a}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${a}</code></pre>\n`},Id.image=function(t,e,n,s,i){const o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,s),i.renderToken(t,e,n)},Id.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},Id.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},Id.text=function(t,e){return wd(t[e].content)},Id.html_block=function(t,e){return t[e].content},Id.html_inline=function(t,e){return t[e].content},Od.prototype.renderAttrs=function(t){let e,n,s;if(!t.attrs)return"";for(s="",e=0,n=t.attrs.length;e<n;e++)s+=" "+wd(t.attrs[e][0])+'="'+wd(t.attrs[e][1])+'"';return s},Od.prototype.renderToken=function(t,e,n){const s=t[e];let i="";if(s.hidden)return"";s.block&&-1!==s.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /");let o=!1;if(s.block&&(o=!0,1===s.nesting&&e+1<t.length)){const n=t[e+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===s.tag)&&(o=!1)}return i+=o?">\n":">",i},Od.prototype.renderInline=function(t,e,n){let s="";const i=this.rules;for(let o=0,r=t.length;o<r;o++){const r=t[o].type;void 0!==i[r]?s+=i[r](t,o,e,n,this):s+=this.renderToken(t,o,e)}return s},Od.prototype.renderInlineAsText=function(t,e,n){let s="";for(let i=0,o=t.length;i<o;i++)switch(t[i].type){case"text":case"html_inline":case"html_block":s+=t[i].content;break;case"image":s+=this.renderInlineAsText(t[i].children,e,n);break;case"softbreak":case"hardbreak":s+="\n"}return s},Od.prototype.render=function(t,e,n){let s="";const i=this.rules;for(let o=0,r=t.length;o<r;o++){const r=t[o].type;"inline"===r?s+=this.renderInline(t[o].children,e,n):void 0!==i[r]?s+=i[r](t,o,e,n,this):s+=this.renderToken(t,o,e,n)}return s},Nd.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},Nd.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},Nd.prototype.at=function(t,e,n){const s=this.__find__(t),i=n||{};if(-1===s)throw new Error("Parser rule not found: "+t);this.__rules__[s].fn=e,this.__rules__[s].alt=i.alt||[],this.__cache__=null},Nd.prototype.before=function(t,e,n,s){const i=this.__find__(t),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Nd.prototype.after=function(t,e,n,s){const i=this.__find__(t),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Nd.prototype.push=function(t,e,n){const s=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null},Nd.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const s=this.__find__(t);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[s].enabled=!0,n.push(t)}),this),this.__cache__=null,n},Nd.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},Nd.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const s=this.__find__(t);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[s].enabled=!1,n.push(t)}),this),this.__cache__=null,n},Nd.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},jd.prototype.attrIndex=function(t){if(!this.attrs)return-1;const e=this.attrs;for(let n=0,s=e.length;n<s;n++)if(e[n][0]===t)return n;return-1},jd.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},jd.prototype.attrSet=function(t,e){const n=this.attrIndex(t),s=[t,e];n<0?this.attrPush(s):this.attrs[n]=s},jd.prototype.attrGet=function(t){const e=this.attrIndex(t);let n=null;return e>=0&&(n=this.attrs[e][1]),n},jd.prototype.attrJoin=function(t,e){const n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},Hd.prototype.Token=jd;const Rd=/\r\n?|\n/g,Pd=/\0/g;function $d(t){return/^<\/a\s*>/i.test(t)}const qd=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Vd=/\((c|tm|r)\)/i,Ud=/\((c|tm|r)\)/gi,Zd={c:"",r:"",tm:""};function Wd(t,e){return Zd[e.toLowerCase()]}function Gd(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];"text"!==s.type||e||(s.content=s.content.replace(Ud,Wd)),"link_open"===s.type&&"auto"===s.info&&e--,"link_close"===s.type&&"auto"===s.info&&e++}}function Kd(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];"text"!==s.type||e||qd.test(s.content)&&(s.content=s.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===s.type&&"auto"===s.info&&e--,"link_close"===s.type&&"auto"===s.info&&e++}}const Jd=/['"]/,Qd=/['"]/g,Xd="";function Yd(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function th(t,e){let n;const s=[];for(let i=0;i<t.length;i++){const o=t[i],r=t[i].level;for(n=s.length-1;n>=0&&!(s[n].level<=r);n--);if(s.length=n+1,"text"!==o.type)continue;let a=o.content,c=0,l=a.length;t:for(;c<l;){Qd.lastIndex=c;const u=Qd.exec(a);if(!u)break;let d=!0,h=!0;c=u.index+1;const p="'"===u[0];let m=32;if(u.index-1>=0)m=a.charCodeAt(u.index-1);else for(n=i-1;n>=0&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n--)if(t[n].content){m=t[n].content.charCodeAt(t[n].content.length-1);break}let f=32;if(c<l)f=a.charCodeAt(c);else for(n=i+1;n<t.length&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n++)if(t[n].content){f=t[n].content.charCodeAt(0);break}const g=Ld(m)||Fd(String.fromCharCode(m)),k=Ld(f)||Fd(String.fromCharCode(f)),_=Sd(m),b=Sd(f);if(b?d=!1:k&&(_||g||(d=!1)),_?h=!1:g&&(b||k||(h=!1)),34===f&&'"'===u[0]&&m>=48&&m<=57&&(h=d=!1),d&&h&&(d=g,h=k),d||h){if(h)for(n=s.length-1;n>=0;n--){let d=s[n];if(s[n].level<r)break;if(d.single===p&&s[n].level===r){let r,h;d=s[n],p?(r=e.md.options.quotes[2],h=e.md.options.quotes[3]):(r=e.md.options.quotes[0],h=e.md.options.quotes[1]),o.content=Yd(o.content,u.index,h),t[d.token].content=Yd(t[d.token].content,d.pos,r),c+=h.length-1,d.token===i&&(c+=r.length-1),a=o.content,l=a.length,s.length=n;continue t}}d?s.push({token:i,pos:u.index,single:p,level:r}):h&&p&&(o.content=Yd(o.content,u.index,Xd))}else p&&(o.content=Yd(o.content,u.index,Xd))}}}const eh=[["normalize",function(t){let e;e=t.src.replace(Rd,"\n"),e=e.replace(Pd,""),t.src=e}],["block",function(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens;for(let n=0,s=e.length;n<s;n++){const s=e[n];"inline"===s.type&&t.md.inline.parse(s.content,t.md,t.env,s.children)}}],["linkify",function(t){const e=t.tokens;var n;if(t.md.options.linkify)for(let s=0,i=e.length;s<i;s++){if("inline"!==e[s].type||!t.md.linkify.pretest(e[s].content))continue;let i=e[s].children,o=0;for(let r=i.length-1;r>=0;r--){const a=i[r];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,$d(a.content)&&o++),!(o>0)&&"text"===a.type&&t.md.linkify.test(a.content)){const n=a.content;let o=t.md.linkify.match(n);const c=[];let l=a.level,u=0;o.length>0&&0===o[0].index&&r>0&&"text_special"===i[r-1].type&&(o=o.slice(1));for(let e=0;e<o.length;e++){const s=o[e].url,i=t.md.normalizeLink(s);if(!t.md.validateLink(i))continue;let r=o[e].text;r=o[e].schema?"mailto:"!==o[e].schema||/^mailto:/i.test(r)?t.md.normalizeLinkText(r):t.md.normalizeLinkText("mailto:"+r).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+r).replace(/^http:\/\//,"");const a=o[e].index;if(a>u){const e=new t.Token("text","",0);e.content=n.slice(u,a),e.level=l,c.push(e)}const d=new t.Token("link_open","a",1);d.attrs=[["href",i]],d.level=l++,d.markup="linkify",d.info="auto",c.push(d);const h=new t.Token("text","",0);h.content=r,h.level=l,c.push(h);const p=new t.Token("link_close","a",-1);p.level=--l,p.markup="linkify",p.info="auto",c.push(p),u=o[e].lastIndex}if(u<n.length){const e=new t.Token("text","",0);e.content=n.slice(u),e.level=l,c.push(e)}e[s].children=i=md(i,r,c)}}else for(r--;i[r].level!==a.level&&"link_open"!==i[r].type;)r--}}}],["replacements",function(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(Vd.test(t.tokens[e].content)&&Gd(t.tokens[e].children),qd.test(t.tokens[e].content)&&Kd(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&Jd.test(t.tokens[e].content)&&th(t.tokens[e].children,t)}],["text_join",function(t){let e,n;const s=t.tokens,i=s.length;for(let o=0;o<i;o++){if("inline"!==s[o].type)continue;const t=s[o].children,i=t.length;for(e=0;e<i;e++)"text_special"===t[e].type&&(t[e].type="text");for(e=n=0;e<i;e++)"text"===t[e].type&&e+1<i&&"text"===t[e+1].type?t[e+1].content=t[e].content+t[e+1].content:(e!==n&&(t[n]=t[e]),n++);e!==n&&(t.length=n)}}]];function nh(){this.ruler=new Nd;for(let t=0;t<eh.length;t++)this.ruler.push(eh[t][0],eh[t][1])}function sh(t,e,n,s){this.src=t,this.md=e,this.env=n,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,r=0,a=0,c=0,l=i.length,u=!1;r<l;r++){const t=i.charCodeAt(r);if(!u){if(xd(t)){a++,9===t?c+=4-c%4:c++;continue}u=!0}10!==t&&r!==l-1||(10!==t&&r++,this.bMarks.push(o),this.eMarks.push(r),this.tShift.push(a),this.sCount.push(c),this.bsCount.push(0),u=!1,a=0,c=0,o=r+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}nh.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,s=e.length;n<s;n++)e[n](t)},nh.prototype.State=Hd,sh.prototype.push=function(t,e,n){const s=new jd(t,e,n);return s.block=!0,n<0&&this.level--,s.level=this.level,n>0&&this.level++,this.tokens.push(s),s},sh.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},sh.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},sh.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e;t++){if(!xd(this.src.charCodeAt(t)))break}return t},sh.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!xd(this.src.charCodeAt(--t)))return t+1;return t},sh.prototype.skipChars=function(t,e){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},sh.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},sh.prototype.getLines=function(t,e,n,s){if(t>=e)return"";const i=new Array(e-t);for(let o=0,r=t;r<e;r++,o++){let t=0;const a=this.bMarks[r];let c,l=a;for(c=r+1<e||s?this.eMarks[r]+1:this.eMarks[r];l<c&&t<n;){const e=this.src.charCodeAt(l);if(xd(e))9===e?t+=4-(t+this.bsCount[r])%4:t++;else{if(!(l-a<this.tShift[r]))break;t++}l++}i[o]=t>n?new Array(t-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return i.join("")},sh.prototype.Token=jd;function ih(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];return t.src.slice(n,s)}function oh(t){const e=[],n=t.length;let s=0,i=t.charCodeAt(s),o=!1,r=0,a="";for(;s<n;)124===i&&(o?(a+=t.substring(r,s-1),r=s):(e.push(a+t.substring(r,s)),a="",r=s+1)),o=92===i,s++,i=t.charCodeAt(s);return e.push(a+t.substring(r)),e}function rh(t,e){const n=t.eMarks[e];let s=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(s++);if(42!==i&&45!==i&&43!==i)return-1;if(s<n){if(!xd(t.src.charCodeAt(s)))return-1}return s}function ah(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];let i=n;if(i+1>=s)return-1;let o=t.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=s)return-1;if(o=t.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-n>=10)return-1}return i<s&&(o=t.src.charCodeAt(i),!xd(o))?-1:i}const ch="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",lh="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",uh=new RegExp("^(?:"+ch+"|"+lh+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),dh=new RegExp("^(?:"+ch+"|"+lh+")"),hh=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(dh.source+"\\s*$"),/^$/,!1]];const ph=[["table",function(t,e,n,s){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent)return!1;if(t.sCount[i]-t.blkIndent>=4)return!1;let o=t.bMarks[i]+t.tShift[i];if(o>=t.eMarks[i])return!1;const r=t.src.charCodeAt(o++);if(124!==r&&45!==r&&58!==r)return!1;if(o>=t.eMarks[i])return!1;const a=t.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!xd(a))return!1;if(45===r&&xd(a))return!1;for(;o<t.eMarks[i];){const e=t.src.charCodeAt(o);if(124!==e&&45!==e&&58!==e&&!xd(e))return!1;o++}let c=ih(t,e+1),l=c.split("|");const u=[];for(let k=0;k<l.length;k++){const t=l[k].trim();if(!t){if(0===k||k===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?u.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?u.push("left"):u.push("")}if(c=ih(t,e).trim(),-1===c.indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;l=oh(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop();const d=l.length;if(0===d||d!==u.length)return!1;if(s)return!0;const h=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),m=[e,0];t.push("table_open","table",1).map=m,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1];for(let k=0;k<l.length;k++){const e=t.push("th_open","th",1);u[k]&&(e.attrs=[["style","text-align:"+u[k]]]);const n=t.push("inline","",0);n.content=l[k].trim(),n.children=[],t.push("th_close","th",-1)}let f;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let g=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let s=!1;for(let e=0,o=p.length;e<o;e++)if(p[e](t,i,n,!0)){s=!0;break}if(s)break;if(c=ih(t,i).trim(),!c)break;if(t.sCount[i]-t.blkIndent>=4)break;if(l=oh(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop(),g+=d-l.length,g>65536)break;if(i===e+2){t.push("tbody_open","tbody",1).map=f=[e+2,0]}t.push("tr_open","tr",1).map=[i,i+1];for(let e=0;e<d;e++){const n=t.push("td_open","td",1);u[e]&&(n.attrs=[["style","text-align:"+u[e]]]);const s=t.push("inline","",0);s.content=l[e]?l[e].trim():"",s.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return f&&(t.push("tbody_close","tbody",-1),f[1]=i),t.push("table_close","table",-1),m[1]=i,t.parentType=h,t.line=i,!0},["paragraph","reference"]],["code",function(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let s=e+1,i=s;for(;s<n;)if(t.isEmpty(s))s++;else{if(!(t.sCount[s]-t.blkIndent>=4))break;s++,i=s}t.line=i;const o=t.push("code_block","code",0);return o.content=t.getLines(e,i,4+t.blkIndent,!1)+"\n",o.map=[e,t.line],!0}],["fence",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(i+3>o)return!1;const r=t.src.charCodeAt(i);if(126!==r&&96!==r)return!1;let a=i;i=t.skipChars(i,r);let c=i-a;if(c<3)return!1;const l=t.src.slice(a,i),u=t.src.slice(i,o);if(96===r&&u.indexOf(String.fromCharCode(r))>=0)return!1;if(s)return!0;let d=e,h=!1;for(;(d++,!(d>=n))&&(i=a=t.bMarks[d]+t.tShift[d],o=t.eMarks[d],!(i<o&&t.sCount[d]<t.blkIndent));)if(t.src.charCodeAt(i)===r&&!(t.sCount[d]-t.blkIndent>=4||(i=t.skipChars(i,r),i-a<c||(i=t.skipSpaces(i),i<o)))){h=!0;break}c=t.sCount[e],t.line=d+(h?1:0);const p=t.push("fence","code",0);return p.info=u,p.content=t.getLines(e+1,d,c,!0),p.markup=l,p.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];const r=t.lineMax;if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(i))return!1;if(s)return!0;const a=[],c=[],l=[],u=[],d=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let p,m=!1;for(p=e;p<n;p++){const e=t.sCount[p]<t.blkIndent;if(i=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],i>=o)break;if(62===t.src.charCodeAt(i++)&&!e){let e,n,s=t.sCount[p]+1;32===t.src.charCodeAt(i)?(i++,s++,n=!1,e=!0):9===t.src.charCodeAt(i)?(e=!0,(t.bsCount[p]+s)%4==3?(i++,s++,n=!1):n=!0):e=!1;let r=s;for(a.push(t.bMarks[p]),t.bMarks[p]=i;i<o;){const e=t.src.charCodeAt(i);if(!xd(e))break;9===e?r+=4-(r+t.bsCount[p]+(n?1:0))%4:r++,i++}m=i>=o,c.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(e?1:0),l.push(t.sCount[p]),t.sCount[p]=r-s,u.push(t.tShift[p]),t.tShift[p]=i-t.bMarks[p];continue}if(m)break;let s=!1;for(let i=0,o=d.length;i<o;i++)if(d[i](t,p,n,!0)){s=!0;break}if(s){t.lineMax=p,0!==t.blkIndent&&(a.push(t.bMarks[p]),c.push(t.bsCount[p]),u.push(t.tShift[p]),l.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}a.push(t.bMarks[p]),c.push(t.bsCount[p]),u.push(t.tShift[p]),l.push(t.sCount[p]),t.sCount[p]=-1}const f=t.blkIndent;t.blkIndent=0;const g=t.push("blockquote_open","blockquote",1);g.markup=">";const k=[e,0];g.map=k,t.md.block.tokenize(t,e,p),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=r,t.parentType=h,k[1]=t.line;for(let _=0;_<u.length;_++)t.bMarks[_+e]=a[_],t.tShift[_+e]=u[_],t.sCount[_+e]=l[_],t.bsCount[_+e]=c[_];return t.blkIndent=f,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,n,s){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e];const r=t.src.charCodeAt(o++);if(42!==r&&45!==r&&95!==r)return!1;let a=1;for(;o<i;){const e=t.src.charCodeAt(o++);if(e!==r&&!xd(e))return!1;e===r&&a++}if(a<3)return!1;if(s)return!0;t.line=e+1;const c=t.push("hr","hr",0);return c.map=[e,t.line],c.markup=Array(a+1).join(String.fromCharCode(r)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,n,s){let i,o,r,a,c=e,l=!0;if(t.sCount[c]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[c]-t.listIndent>=4&&t.sCount[c]<t.blkIndent)return!1;let u,d,h,p=!1;if(s&&"paragraph"===t.parentType&&t.sCount[c]>=t.blkIndent&&(p=!0),(h=ah(t,c))>=0){if(u=!0,r=t.bMarks[c]+t.tShift[c],d=Number(t.src.slice(r,h-1)),p&&1!==d)return!1}else{if(!((h=rh(t,c))>=0))return!1;u=!1}if(p&&t.skipSpaces(h)>=t.eMarks[c])return!1;if(s)return!0;const m=t.src.charCodeAt(h-1),f=t.tokens.length;u?(a=t.push("ordered_list_open","ol",1),1!==d&&(a.attrs=[["start",d]])):a=t.push("bullet_list_open","ul",1);const g=[c,0];a.map=g,a.markup=String.fromCharCode(m);let k=!1;const _=t.md.block.ruler.getRules("list"),b=t.parentType;for(t.parentType="list";c<n;){o=h,i=t.eMarks[c];const e=t.sCount[c]+h-(t.bMarks[c]+t.tShift[c]);let s=e;for(;o<i;){const e=t.src.charCodeAt(o);if(9===e)s+=4-(s+t.bsCount[c])%4;else{if(32!==e)break;s++}o++}const d=o;let p;p=d>=i?1:s-e,p>4&&(p=1);const f=e+p;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const g=[c,0];a.map=g,u&&(a.info=t.src.slice(r,h-1));const b=t.tight,y=t.tShift[c],v=t.sCount[c],C=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=f,t.tight=!0,t.tShift[c]=d-t.bMarks[c],t.sCount[c]=s,d>=i&&t.isEmpty(c+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,c,n,!0),t.tight&&!k||(l=!1),k=t.line-c>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=C,t.tShift[c]=y,t.sCount[c]=v,t.tight=b,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),c=t.line,g[1]=c,c>=n)break;if(t.sCount[c]<t.blkIndent)break;if(t.sCount[c]-t.blkIndent>=4)break;let D=!1;for(let i=0,o=_.length;i<o;i++)if(_[i](t,c,n,!0)){D=!0;break}if(D)break;if(u){if(h=ah(t,c),h<0)break;r=t.bMarks[c]+t.tShift[c]}else if(h=rh(t,c),h<0)break;if(m!==t.src.charCodeAt(h-1))break}return a=u?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),g[1]=c,t.line=c,t.parentType=b,l&&function(t,e){const n=t.level+2;for(let s=e+2,i=t.tokens.length-2;s<i;s++)t.tokens[s].level===n&&"paragraph_open"===t.tokens[s].type&&(t.tokens[s+2].hidden=!0,t.tokens[s].hidden=!0,s+=2)}(t,f),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],r=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(i))return!1;function a(e){const n=t.lineMax;if(e>=n||t.isEmpty(e))return null;let s=!1;if(t.sCount[e]-t.blkIndent>3&&(s=!0),t.sCount[e]<0&&(s=!0),!s){const s=t.md.block.ruler.getRules("reference"),i=t.parentType;t.parentType="reference";let o=!1;for(let r=0,a=s.length;r<a;r++)if(s[r](t,e,n,!0)){o=!0;break}if(t.parentType=i,o)return null}const i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return t.src.slice(i,o+1)}let c=t.src.slice(i,o+1);o=c.length;let l=-1;for(i=1;i<o;i++){const t=c.charCodeAt(i);if(91===t)return!1;if(93===t){l=i;break}if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(92===t&&(i++,i<o&&10===c.charCodeAt(i))){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}}if(l<0||58!==c.charCodeAt(l+1))return!1;for(i=l+2;i<o;i++){const t=c.charCodeAt(i);if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(!xd(t))break}const u=t.md.helpers.parseLinkDestination(c,i,o);if(!u.ok)return!1;const d=t.md.normalizeLink(u.str);if(!t.md.validateLink(d))return!1;i=u.pos;const h=i,p=r,m=i;for(;i<o;i++){const t=c.charCodeAt(i);if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(!xd(t))break}let f,g=t.md.helpers.parseLinkTitle(c,i,o);for(;g.can_continue;){const e=a(r);if(null===e)break;c+=e,i=o,o=c.length,r++,g=t.md.helpers.parseLinkTitle(c,i,o,g)}for(i<o&&m!==i&&g.ok?(f=g.str,i=g.pos):(f="",i=h,r=p);i<o;){if(!xd(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i)&&f)for(f="",i=h,r=p;i<o;){if(!xd(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i))return!1;const k=Td(c.slice(1,l));return!!k&&(s||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[k]&&(t.env.references[k]={title:f,href:d}),t.line=r),!0)}],["html_block",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(i))return!1;let r=t.src.slice(i,o),a=0;for(;a<hh.length&&!hh[a][0].test(r);a++);if(a===hh.length)return!1;if(s)return hh[a][2];let c=e+1;if(!hh[a][1].test(r))for(;c<n&&!(t.sCount[c]<t.blkIndent);c++)if(i=t.bMarks[c]+t.tShift[c],o=t.eMarks[c],r=t.src.slice(i,o),hh[a][1].test(r)){0!==r.length&&c++;break}t.line=c;const l=t.push("html_block","",0);return l.map=[e,c],l.content=t.getLines(e,c,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let r=t.src.charCodeAt(i);if(35!==r||i>=o)return!1;let a=1;for(r=t.src.charCodeAt(++i);35===r&&i<o&&a<=6;)a++,r=t.src.charCodeAt(++i);if(a>6||i<o&&!xd(r))return!1;if(s)return!0;o=t.skipSpacesBack(o,i);const c=t.skipCharsBack(o,35,i);c>i&&xd(t.src.charCodeAt(c-1))&&(o=c),t.line=e+1;const l=t.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[e,t.line];const u=t.push("inline","",0);return u.content=t.src.slice(i,o).trim(),u.map=[e,t.line],u.children=[],t.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,n){const s=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let o,r=0,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let e=t.bMarks[a]+t.tShift[a];const n=t.eMarks[a];if(e<n&&(o=t.src.charCodeAt(e),(45===o||61===o)&&(e=t.skipChars(e,o),e=t.skipSpaces(e),e>=n))){r=61===o?1:2;break}}if(t.sCount[a]<0)continue;let e=!1;for(let i=0,o=s.length;i<o;i++)if(s[i](t,a,n,!0)){e=!0;break}if(e)break}if(!r)return!1;const c=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const l=t.push("heading_open","h"+String(r),1);l.markup=String.fromCharCode(o),l.map=[e,t.line];const u=t.push("inline","",0);return u.content=c,u.map=[e,t.line-1],u.children=[],t.push("heading_close","h"+String(r),-1).markup=String.fromCharCode(o),t.parentType=i,!0}],["paragraph",function(t,e,n){const s=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let o=e+1;for(t.parentType="paragraph";o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]<0)continue;let e=!1;for(let i=0,r=s.length;i<r;i++)if(s[i](t,o,n,!0)){e=!0;break}if(e)break}const r=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o,t.push("paragraph_open","p",1).map=[e,t.line];const a=t.push("inline","",0);return a.content=r,a.map=[e,t.line],a.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}]];function mh(){this.ruler=new Nd;for(let t=0;t<ph.length;t++)this.ruler.push(ph[t][0],ph[t][1],{alt:(ph[t][2]||[]).slice()})}function fh(t,e,n,s){this.src=t,this.env=n,this.md=e,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function gh(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}mh.prototype.tokenize=function(t,e,n){const s=this.ruler.getRules(""),i=s.length,o=t.md.options.maxNesting;let r=e,a=!1;for(;r<n&&(t.line=r=t.skipEmptyLines(r),!(r>=n))&&!(t.sCount[r]<t.blkIndent);){if(t.level>=o){t.line=n;break}const e=t.line;let c=!1;for(let o=0;o<i;o++)if(c=s[o](t,r,n,!1),c){if(e>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),r=t.line,r<n&&t.isEmpty(r)&&(a=!0,r++,t.line=r)}},mh.prototype.parse=function(t,e,n,s){if(!t)return;const i=new this.State(t,e,n,s);this.tokenize(i,i.line,i.lineMax)},mh.prototype.State=sh,fh.prototype.pushPending=function(){const t=new jd("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},fh.prototype.push=function(t,e,n){this.pending&&this.pushPending();const s=new jd(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(i),s},fh.prototype.scanDelims=function(t,e){const n=this.posMax,s=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<n&&this.src.charCodeAt(o)===s;)o++;const r=o-t,a=o<n?this.src.charCodeAt(o):32,c=Ld(i)||Fd(String.fromCharCode(i)),l=Ld(a)||Fd(String.fromCharCode(a)),u=Sd(i),d=Sd(a),h=!d&&(!l||u||c),p=!u&&(!c||d||l);return{can_open:h&&(e||!p||c),can_close:p&&(e||!h||l),length:r}},fh.prototype.Token=jd;const kh=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const _h=[];for(let m=0;m<256;m++)_h.push(0);function bh(t,e){let n;const s=[],i=e.length;for(let o=0;o<i;o++){const i=e[o];if(126!==i.marker)continue;if(-1===i.end)continue;const r=e[i.end];n=t.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[r.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===t.tokens[r.token-1].type&&"~"===t.tokens[r.token-1].content&&s.push(r.token-1)}for(;s.length;){const e=s.pop();let i=e+1;for(;i<t.tokens.length&&"s_close"===t.tokens[i].type;)i++;i--,e!==i&&(n=t.tokens[i],t.tokens[i]=t.tokens[e],t.tokens[e]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){_h[t.charCodeAt(0)]=1}));const yh={tokenize:function(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e)return!1;if(126!==s)return!1;const i=t.scanDelims(t.pos,!0);let o=i.length;const r=String.fromCharCode(s);if(o<2)return!1;let a;o%2&&(a=t.push("text","",0),a.content=r,o--);for(let c=0;c<o;c+=2)a=t.push("text","",0),a.content=r+r,t.delimiters.push({marker:s,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;bh(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&bh(t,e[s].delimiters)}};function vh(t,e){for(let n=e.length-1;n>=0;n--){const s=e[n];if(95!==s.marker&&42!==s.marker)continue;if(-1===s.end)continue;const i=e[s.end],o=n>0&&e[n-1].end===s.end+1&&e[n-1].marker===s.marker&&e[n-1].token===s.token-1&&e[s.end+1].token===i.token+1,r=String.fromCharCode(s.marker),a=t.tokens[s.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?r+r:r,a.content="";const c=t.tokens[i.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?r+r:r,c.content="",o&&(t.tokens[e[n-1].token].content="",t.tokens[e[s.end+1].token].content="",n--)}}const Ch={tokenize:function(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e)return!1;if(95!==s&&42!==s)return!1;const i=t.scanDelims(t.pos,42===s);for(let o=0;o<i.length;o++){t.push("text","",0).content=String.fromCharCode(s),t.delimiters.push({marker:s,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;vh(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&vh(t,e[s].delimiters)}};const Dh=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Ah=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const wh=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Eh=/^&([a-z][a-z0-9]{1,31});/i;function xh(t){const e={},n=t.length;if(!n)return;let s=0,i=-2;const o=[];for(let r=0;r<n;r++){const n=t[r];if(o.push(0),t[s].marker===n.marker&&i===n.token-1||(s=r),i=n.token,n.length=n.length||0,!n.close)continue;e.hasOwnProperty(n.marker)||(e[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=e[n.marker][(n.open?3:0)+n.length%3];let c=s-o[s]-1,l=c;for(;c>a;c-=o[c]+1){const e=t[c];if(e.marker===n.marker&&(e.open&&e.end<0)){let s=!1;if((e.close||n.open)&&(e.length+n.length)%3==0&&(e.length%3==0&&n.length%3==0||(s=!0)),!s){const s=c>0&&!t[c-1].open?o[c-1]+1:0;o[r]=r-c+s,o[c]=s,n.open=!1,e.end=r,e.close=!1,l=-1,i=-2;break}}}-1!==l&&(e[n.marker][(n.open?3:0)+(n.length||0)%3]=l)}}const Sh=[["text",function(t,e){let n=t.pos;for(;n<t.posMax&&!gh(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const n=t.pos;if(n+3>t.posMax)return!1;if(58!==t.src.charCodeAt(n))return!1;if(47!==t.src.charCodeAt(n+1))return!1;if(47!==t.src.charCodeAt(n+2))return!1;const s=t.pending.match(kh);if(!s)return!1;const i=s[1],o=t.md.linkify.matchAtStart(t.src.slice(n-i.length));if(!o)return!1;let r=o.url;if(r.length<=i.length)return!1;r=r.replace(/\*+$/,"");const a=t.md.normalizeLink(r);if(!t.md.validateLink(a))return!1;if(!e){t.pending=t.pending.slice(0,-i.length);const e=t.push("link_open","a",1);e.attrs=[["href",a]],e.markup="linkify",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(r);const n=t.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return t.pos+=r.length-i.length,!0}],["newline",function(t,e){let n=t.pos;if(10!==t.src.charCodeAt(n))return!1;const s=t.pending.length-1,i=t.posMax;if(!e)if(s>=0&&32===t.pending.charCodeAt(s))if(s>=1&&32===t.pending.charCodeAt(s-1)){let e=s-1;for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--;t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&xd(t.src.charCodeAt(n));)n++;return t.pos=n,!0}],["escape",function(t,e){let n=t.pos;const s=t.posMax;if(92!==t.src.charCodeAt(n))return!1;if(n++,n>=s)return!1;let i=t.src.charCodeAt(n);if(10===i){for(e||t.push("hardbreak","br",0),n++;n<s&&(i=t.src.charCodeAt(n),xd(i));)n++;return t.pos=n,!0}let o=t.src[n];if(i>=55296&&i<=56319&&n+1<s){const e=t.src.charCodeAt(n+1);e>=56320&&e<=57343&&(o+=t.src[n+1],n++)}const r="\\"+o;if(!e){const e=t.push("text_special","",0);i<256&&0!==_h[i]?e.content=o:e.content=r,e.markup=r,e.info="escape"}return t.pos=n+1,!0}],["backticks",function(t,e){let n=t.pos;if(96!==t.src.charCodeAt(n))return!1;const s=n;n++;const i=t.posMax;for(;n<i&&96===t.src.charCodeAt(n);)n++;const o=t.src.slice(s,n),r=o.length;if(t.backticksScanned&&(t.backticks[r]||0)<=s)return e||(t.pending+=o),t.pos+=r,!0;let a,c=n;for(;-1!==(a=t.src.indexOf("`",c));){for(c=a+1;c<i&&96===t.src.charCodeAt(c);)c++;const s=c-a;if(s===r){if(!e){const e=t.push("code_inline","code",0);e.markup=o,e.content=t.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=c,!0}t.backticks[s]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=r,!0}],["strikethrough",yh.tokenize],["emphasis",Ch.tokenize],["link",function(t,e){let n,s,i,o,r="",a="",c=t.pos,l=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const u=t.pos,d=t.posMax,h=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let m=p+1;if(m<d&&40===t.src.charCodeAt(m)){for(l=!1,m++;m<d&&(n=t.src.charCodeAt(m),xd(n)||10===n);m++);if(m>=d)return!1;if(c=m,i=t.md.helpers.parseLinkDestination(t.src,m,t.posMax),i.ok){for(r=t.md.normalizeLink(i.str),t.md.validateLink(r)?m=i.pos:r="",c=m;m<d&&(n=t.src.charCodeAt(m),xd(n)||10===n);m++);if(i=t.md.helpers.parseLinkTitle(t.src,m,t.posMax),m<d&&c!==m&&i.ok)for(a=i.str,m=i.pos;m<d&&(n=t.src.charCodeAt(m),xd(n)||10===n);m++);}(m>=d||41!==t.src.charCodeAt(m))&&(l=!0),m++}if(l){if(void 0===t.env.references)return!1;if(m<d&&91===t.src.charCodeAt(m)?(c=m+1,m=t.md.helpers.parseLinkLabel(t,m),m>=0?s=t.src.slice(c,m++):m=p+1):m=p+1,s||(s=t.src.slice(h,p)),o=t.env.references[Td(s)],!o)return t.pos=u,!1;r=o.href,a=o.title}if(!e){t.pos=h,t.posMax=p;const e=[["href",r]];t.push("link_open","a",1).attrs=e,a&&e.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=m,t.posMax=d,!0}],["image",function(t,e){let n,s,i,o,r,a,c,l,u="";const d=t.pos,h=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const p=t.pos+2,m=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(m<0)return!1;if(o=m+1,o<h&&40===t.src.charCodeAt(o)){for(o++;o<h&&(n=t.src.charCodeAt(o),xd(n)||10===n);o++);if(o>=h)return!1;for(l=o,a=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),a.ok&&(u=t.md.normalizeLink(a.str),t.md.validateLink(u)?o=a.pos:u=""),l=o;o<h&&(n=t.src.charCodeAt(o),xd(n)||10===n);o++);if(a=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<h&&l!==o&&a.ok)for(c=a.str,o=a.pos;o<h&&(n=t.src.charCodeAt(o),xd(n)||10===n);o++);else c="";if(o>=h||41!==t.src.charCodeAt(o))return t.pos=d,!1;o++}else{if(void 0===t.env.references)return!1;if(o<h&&91===t.src.charCodeAt(o)?(l=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?i=t.src.slice(l,o++):o=m+1):o=m+1,i||(i=t.src.slice(p,m)),r=t.env.references[Td(i)],!r)return t.pos=d,!1;u=r.href,c=r.title}if(!e){s=t.src.slice(p,m);const e=[];t.md.inline.parse(s,t.md,t.env,e);const n=t.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=e,n.content=s,c&&i.push(["title",c])}return t.pos=o,t.posMax=h,!0}],["autolink",function(t,e){let n=t.pos;if(60!==t.src.charCodeAt(n))return!1;const s=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const e=t.src.charCodeAt(n);if(60===e)return!1;if(62===e)break}const o=t.src.slice(s+1,n);if(Ah.test(o)){const n=t.md.normalizeLink(o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const s=t.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return t.pos+=o.length+2,!0}if(Dh.test(o)){const n=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const s=t.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1;const n=t.posMax,s=t.pos;if(60!==t.src.charCodeAt(s)||s+2>=n)return!1;const i=t.src.charCodeAt(s+1);if(33!==i&&63!==i&&47!==i&&!function(t){const e=32|t;return e>=97&&e<=122}(i))return!1;const o=t.src.slice(s).match(uh);if(!o)return!1;if(!e){const e=t.push("html_inline","",0);e.content=o[0],r=e.content,/^<a[>\s]/i.test(r)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var r;return t.pos+=o[0].length,!0}],["entity",function(t,e){const n=t.pos,s=t.posMax;if(38!==t.src.charCodeAt(n))return!1;if(n+1>=s)return!1;if(35===t.src.charCodeAt(n+1)){const s=t.src.slice(n).match(wh);if(s){if(!e){const e="x"===s[1][0].toLowerCase()?parseInt(s[1].slice(1),16):parseInt(s[1],10),n=t.push("text_special","",0);n.content=fd(e)?gd(e):gd(65533),n.markup=s[0],n.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(Eh);if(s){const n=ud(s[0]);if(n!==s[0]){if(!e){const e=t.push("text_special","",0);e.content=n,e.markup=s[0],e.info="entity"}return t.pos+=s[0].length,!0}}}return!1}]],Fh=[["balance_pairs",function(t){const e=t.tokens_meta,n=t.tokens_meta.length;xh(t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&xh(e[s].delimiters)}],["strikethrough",yh.postProcess],["emphasis",Ch.postProcess],["fragments_join",function(t){let e,n,s=0;const i=t.tokens,o=t.tokens.length;for(e=n=0;e<o;e++)i[e].nesting<0&&s--,i[e].level=s,i[e].nesting>0&&s++,"text"===i[e].type&&e+1<o&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}]];function Lh(){this.ruler=new Nd;for(let t=0;t<Sh.length;t++)this.ruler.push(Sh[t][0],Sh[t][1]);this.ruler2=new Nd;for(let t=0;t<Fh.length;t++)this.ruler2.push(Fh[t][0],Fh[t][1])}function Th(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function Mh(t){return Object.prototype.toString.call(t)}function zh(t){return"[object Function]"===Mh(t)}function Bh(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}Lh.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),s=n.length,i=t.md.options.maxNesting,o=t.cache;if(void 0!==o[e])return void(t.pos=o[e]);let r=!1;if(t.level<i){for(let a=0;a<s;a++)if(t.level++,r=n[a](t,!0),t.level--,r){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;r||t.pos++,o[e]=t.pos},Lh.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,s=t.posMax,i=t.md.options.maxNesting;for(;t.pos<s;){const o=t.pos;let r=!1;if(t.level<i)for(let s=0;s<n;s++)if(r=e[s](t,!1),r){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(r){if(t.pos>=s)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},Lh.prototype.parse=function(t,e,n,s){const i=new this.State(t,e,n,s);this.tokenize(i);const o=this.ruler2.getRules(""),r=o.length;for(let a=0;a<r;a++)o[a](i)},Lh.prototype.State=fh;const Ih={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const Oh={"http:":{validate:function(t,e,n){const s=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(s)?s.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const s=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(s)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:s.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const s=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(s)?s.match(n.re.mailto)[0].length:0}}},Nh="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",jh="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Hh(t){const e=t.re=function(t){const e={};t=t||{},e.src_Any=Hu.source,e.src_Cc=Ru.source,e.src_Z=qu.source,e.src_P=Pu.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?![><]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),n=t.__tlds__.slice();function s(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push(Nh),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");const i=[];function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){const n=t.__schemas__[e];if(null===n)return;const s={validate:null,link:null};if(t.__compiled__[e]=s,"[object Object]"===Mh(n))return!function(t){return"[object RegExp]"===Mh(t)}(n.validate)?zh(n.validate)?s.validate=n.validate:o(e,n):s.validate=function(t){return function(e,n){const s=e.slice(n);return t.test(s)?s.match(t)[0].length:0}}(n.validate),void(zh(n.normalize)?s.normalize=n.normalize:n.normalize?o(e,n):s.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===Mh(t)}(n)?o(e,n):i.push(e)})),i.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};const r=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(Bh).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function Rh(t,e){const n=t.__index__,s=t.__last_index__,i=t.__text_cache__.slice(n,s);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=s+e,this.raw=i,this.text=i,this.url=i}function Ph(t,e){const n=new Rh(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function $h(t,e){if(!(this instanceof $h))return new $h(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||Ih.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=Th({},Ih,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Th({},Oh,t),this.__compiled__={},this.__tlds__=jh,this.__tlds_replaced__=!1,this.re={},Hh(this)}$h.prototype.add=function(t,e){return this.__schemas__[t]=e,Hh(this),this},$h.prototype.set=function(t){return this.__opts__=Th(this.__opts__,t),this},$h.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let e,n,s,i,o,r,a,c,l;if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(i=this.testSchemaAt(t,e[2],a.lastIndex),i){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=t.indexOf("@"),l>=0&&null!==(s=t.match(this.re.email_fuzzy))&&(o=s.index+s[1].length,r=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=r))),this.__index__>=0},$h.prototype.pretest=function(t){return this.re.pretest.test(t)},$h.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},$h.prototype.match=function(t){const e=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(e.push(Ph(this,n)),n=this.__last_index__);let s=n?t.slice(n):t;for(;this.test(s);)e.push(Ph(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return e.length?e:null},$h.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const e=this.re.schema_at_start.exec(t);if(!e)return null;const n=this.testSchemaAt(t,e[2],e[0].length);return n?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+n,Ph(this,0)):null},$h.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),Hh(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Hh(this),this)},$h.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},$h.prototype.onCompile=function(){};const qh=2147483647,Vh=36,Uh=/^xn--/,Zh=/[^\0-\x7F]/,Wh=/[\x2E\u3002\uFF0E\uFF61]/g,Gh={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Kh=Math.floor,Jh=String.fromCharCode;function Qh(t){throw new RangeError(Gh[t])}function Xh(t,e){const n=t.split("@");let s="";n.length>1&&(s=n[0]+"@",t=n[1]);const i=function(t,e){const n=[];let s=t.length;for(;s--;)n[s]=e(t[s]);return n}((t=t.replace(Wh,".")).split("."),e).join(".");return s+i}function Yh(t){const e=[];let n=0;const s=t.length;for(;n<s;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){const s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}const tp=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},ep=function(t,e,n){let s=0;for(t=n?Kh(t/700):t>>1,t+=Kh(t/e);t>455;s+=Vh)t=Kh(t/35);return Kh(s+36*t/(t+38))},np=function(t){const e=[],n=t.length;let s=0,i=128,o=72,r=t.lastIndexOf("-");r<0&&(r=0);for(let c=0;c<r;++c)t.charCodeAt(c)>=128&&Qh("not-basic"),e.push(t.charCodeAt(c));for(let c=r>0?r+1:0;c<n;){const r=s;for(let e=1,i=Vh;;i+=Vh){c>=n&&Qh("invalid-input");const r=(a=t.charCodeAt(c++))>=48&&a<58?a-48+26:a>=65&&a<91?a-65:a>=97&&a<123?a-97:Vh;r>=Vh&&Qh("invalid-input"),r>Kh((qh-s)/e)&&Qh("overflow"),s+=r*e;const l=i<=o?1:i>=o+26?26:i-o;if(r<l)break;const u=Vh-l;e>Kh(qh/u)&&Qh("overflow"),e*=u}const l=e.length+1;o=ep(s-r,l,0==r),Kh(s/l)>qh-i&&Qh("overflow"),i+=Kh(s/l),s%=l,e.splice(s++,0,i)}var a;return String.fromCodePoint(...e)},sp=function(t){const e=[],n=(t=Yh(t)).length;let s=128,i=0,o=72;for(const c of t)c<128&&e.push(Jh(c));const r=e.length;let a=r;for(r&&e.push("-");a<n;){let n=qh;for(const e of t)e>=s&&e<n&&(n=e);const c=a+1;n-s>Kh((qh-i)/c)&&Qh("overflow"),i+=(n-s)*c,s=n;for(const l of t)if(l<s&&++i>qh&&Qh("overflow"),l===s){let t=i;for(let n=Vh;;n+=Vh){const s=n<=o?1:n>=o+26?26:n-o;if(t<s)break;const i=t-s,r=Vh-s;e.push(Jh(tp(s+i%r,0))),t=Kh(i/r)}e.push(Jh(tp(t,0))),o=ep(i,c,a===r),i=0,++a}++i,++s}return e.join("")},ip={version:"2.3.1",ucs2:{decode:Yh,encode:t=>String.fromCodePoint(...t)},decode:np,encode:sp,toASCII:function(t){return Xh(t,(function(t){return Zh.test(t)?"xn--"+sp(t):t}))},toUnicode:function(t){return Xh(t,(function(t){return Uh.test(t)?np(t.slice(4).toLowerCase()):t}))}},op={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},rp=/^(vbscript|javascript|file|data):/,ap=/^data:image\/(gif|png|jpeg|webp);/;function cp(t){const e=t.trim().toLowerCase();return!rp.test(e)||ap.test(e)}const lp=["http:","https:","mailto:"];function up(t){const e=Nu(t,!0);if(e.hostname&&(!e.protocol||lp.indexOf(e.protocol)>=0))try{e.hostname=ip.toASCII(e.hostname)}catch(n){}return Du(Au(e))}function dp(t){const e=Nu(t,!0);if(e.hostname&&(!e.protocol||lp.indexOf(e.protocol)>=0))try{e.hostname=ip.toUnicode(e.hostname)}catch(n){}return vu(Au(e),vu.defaultChars+"%")}function hp(t,e){if(!(this instanceof hp))return new hp(t,e);e||dd(t)||(e=t||{},t="default"),this.inline=new Lh,this.block=new mh,this.core=new nh,this.renderer=new Od,this.linkify=new $h,this.validateLink=cp,this.normalizeLink=up,this.normalizeLinkText=dp,this.utils=zd,this.helpers=pd({},Bd),this.options={},this.configure(t),e&&this.set(e)}hp.prototype.set=function(t){return pd(this.options,t),this},hp.prototype.configure=function(t){const e=this;if(dd(t)){const e=t;if(!(t=op[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)})),this},hp.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));const s=t.filter((function(t){return n.indexOf(t)<0}));if(s.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this},hp.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));const s=t.filter((function(t){return n.indexOf(t)<0}));if(s.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this},hp.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},hp.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},hp.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},hp.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},hp.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const pp=new Z({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:t=>["h"+t.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>({params:t.getAttribute("data-params")||""})}],toDOM:t=>["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")})}],toDOM:t=>["ol",{start:1==t.attrs.order?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>({tight:t.hasAttribute("data-tight")})}],toDOM:t=>["ul",{"data-tight":t.attrs.tight?"true":null},0]},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")})}],toDOM:t=>["img",t.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:t=>"em"==t.type.name}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!=t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>"strong"==t.type.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>({href:t.getAttribute("href"),title:t.getAttribute("title")})}],toDOM:t=>["a",t.attrs]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}});class mp{constructor(t,e){this.schema=t,this.tokenHandlers=e,this.stack=[{type:t.topNodeType,attrs:null,content:[],marks:W.none}]}top(){return this.stack[this.stack.length-1]}push(t){this.stack.length&&this.top().content.push(t)}addText(t){if(!t)return;let e,n=this.top(),s=n.content,i=s[s.length-1],o=this.schema.text(t,n.marks);i&&(e=function(t,e){if(t.isText&&e.isText&&W.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}(i,o))?s[s.length-1]=e:s.push(o)}openMark(t){let e=this.top();e.marks=t.addToSet(e.marks)}closeMark(t){let e=this.top();e.marks=t.removeFromSet(e.marks)}parseTokens(t){for(let e=0;e<t.length;e++){let n=t[e],s=this.tokenHandlers[n.type];if(!s)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");s(this,n,t,e)}}addNode(t,e,n){let s=this.top(),i=t.createAndFill(e,n,s?s.marks:[]);return i?(this.push(i),i):null}openNode(t,e){this.stack.push({type:t,attrs:e,content:[],marks:W.none})}closeNode(){let t=this.stack.pop();return this.addNode(t.type,t.attrs,t.content)}}function fp(t,e,n,s){return t.getAttrs?t.getAttrs(e,n,s):t.attrs instanceof Function?t.attrs(e):t.attrs}function gp(t,e){return t.noCloseToken||"code_inline"==e||"code_block"==e||"fence"==e}function kp(t){return"\n"==t[t.length-1]?t.slice(0,t.length-1):t}function _p(){}function bp(t,e){for(;++e<t.length;)if("list_item_open"!=t[e].type)return t[e].hidden;return!1}new class{constructor(t,e,n){this.schema=t,this.tokenizer=e,this.tokens=n,this.tokenHandlers=function(t,e){let n=Object.create(null);for(let s in e){let i=e[s];if(i.block){let e=t.nodeType(i.block);gp(i,s)?n[s]=(t,n,s,o)=>{t.openNode(e,fp(i,n,s,o)),t.addText(kp(n.content)),t.closeNode()}:(n[s+"_open"]=(t,n,s,o)=>t.openNode(e,fp(i,n,s,o)),n[s+"_close"]=t=>t.closeNode())}else if(i.node){let e=t.nodeType(i.node);n[s]=(t,n,s,o)=>t.addNode(e,fp(i,n,s,o))}else if(i.mark){let e=t.marks[i.mark];gp(i,s)?n[s]=(t,n,s,o)=>{t.openMark(e.create(fp(i,n,s,o))),t.addText(kp(n.content)),t.closeMark(e)}:(n[s+"_open"]=(t,n,s,o)=>t.openMark(e.create(fp(i,n,s,o))),n[s+"_close"]=t=>t.closeMark(e))}else{if(!i.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(i));gp(i,s)?n[s]=_p:(n[s+"_open"]=_p,n[s+"_close"]=_p)}}return n.text=(t,e)=>t.addText(e.content),n.inline=(t,e)=>t.parseTokens(e.children),n.softbreak=n.softbreak||(t=>t.addText(" ")),n}(t,n)}parse(t,e={}){let n,s=new mp(this.schema,this.tokenHandlers);s.parseTokens(this.tokenizer.parse(t,e));do{n=s.closeNode()}while(s.stack.length);return n||this.schema.topNodeType.createAndFill()}}(pp,hp("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(t,e,n)=>({tight:bp(e,n)})},ordered_list:{block:"ordered_list",getAttrs:(t,e,n)=>({order:+t.attrGet("start")||1,tight:bp(e,n)})},heading:{block:"heading",getAttrs:t=>({level:+t.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:t=>({params:t.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:t=>({href:t.attrGet("href"),title:t.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const yp=new class{constructor(t,e,n={}){this.nodes=t,this.marks=e,this.options=n}serialize(t,e={}){e=Object.assign({},this.options,e);let n=new Cp(this.nodes,this.marks,e);return n.renderContent(t),n.out}}({blockquote(t,e){t.wrapBlock("> ",null,e,(()=>t.renderContent(e)))},code_block(t,e){const n=e.textContent.match(/`{3,}/gm),s=n?n.sort().slice(-1)[0]+"`":"```";t.write(s+(e.attrs.params||"")+"\n"),t.text(e.textContent,!1),t.write("\n"),t.write(s),t.closeBlock(e)},heading(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e,!1),t.closeBlock(e)},horizontal_rule(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list(t,e){t.renderList(e,"  ",(()=>(e.attrs.bullet||"*")+" "))},ordered_list(t,e){let n=e.attrs.order||1,s=String(n+e.childCount-1).length,i=t.repeat(" ",s+2);t.renderList(e,i,(e=>{let i=String(n+e);return t.repeat(" ",s-i.length)+i+". "}))},list_item(t,e){t.renderContent(e)},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},image(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(t,e,n,s){for(let i=s+1;i<n.childCount;i++)if(n.child(i).type!=e.type)return void t.write("\\\n")},text(t,e){t.text(e.text,!t.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(t,e,n,s)=>(t.inAutolink=function(t,e,n){if(t.attrs.title||!/^\w+:/.test(t.attrs.href))return!1;let s=e.child(n);return!(!s.isText||s.text!=t.attrs.href||s.marks[s.marks.length-1]!=t)&&(n==e.childCount-1||!t.isInSet(e.child(n+1).marks))}(e,n,s),t.inAutolink?"<":"["),close(t,e,n,s){let{inAutolink:i}=t;return t.inAutolink=void 0,i?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open:(t,e,n,s)=>vp(n.child(s),-1),close:(t,e,n,s)=>vp(n.child(s-1),1),escape:!1}});function vp(t,e){let n,s=/`+/g,i=0;if(t.isText)for(;n=s.exec(t.text);)i=Math.max(i,n[0].length);let o=i>0&&e>0?" `":"`";for(let r=0;r<i;r++)o+="`";return i>0&&e<0&&(o+=" "),o}let Cp=class{constructor(t,e,n){this.nodes=t,this.marks=e,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1),void 0===this.options.hardBreakNodeName&&(this.options.hardBreakNodeName="hard_break")}flushClose(t=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),t>1){let e=this.delim,n=/\s+$/.exec(e);n&&(e=e.slice(0,e.length-n[0].length));for(let s=1;s<t;s++)this.out+=e+"\n"}this.closed=null}}wrapBlock(t,e,n,s){let i=this.delim;this.write(null!=e?e:t),this.delim+=t,s(),this.delim=i,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)}closeBlock(t){this.closed=t}text(t,e=!0){let n=t.split("\n");for(let s=0;s<n.length;s++)this.write(),!e&&"["==n[s][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=e?this.esc(n[s],this.atBlockStart):n[s],s!=n.length-1&&(this.out+="\n")}render(t,e,n){if(!this.nodes[t.type.name])throw new Error("Token type `"+t.type.name+"` not supported by Markdown renderer");this.nodes[t.type.name](this,t,e,n)}renderContent(t){t.forEach(((e,n,s)=>this.render(e,t,s)))}renderInline(t,e=!0){this.atBlockStart=e;let n=[],s="",i=(e,i,o)=>{let r=e?e.marks:[];e&&e.type.name===this.options.hardBreakNodeName&&(r=r.filter((e=>{if(o+1==t.childCount)return!1;let n=t.child(o+1);return e.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));let a=s;if(s="",e&&e.isText&&r.some((t=>{let e=this.marks[t.type.name];return e&&e.expelEnclosingWhitespace&&!t.isInSet(n)}))){let[t,s,i]=/^(\s*)(.*)$/m.exec(e.text);s&&(a+=s,(e=i?e.withText(i):null)||(r=n))}if(e&&e.isText&&r.some((e=>{let n=this.marks[e.type.name];return n&&n.expelEnclosingWhitespace&&(o==t.childCount-1||!e.isInSet(t.child(o+1).marks))}))){let[t,i,o]=/^(.*?)(\s*)$/m.exec(e.text);o&&(s=o,(e=i?e.withText(i):null)||(r=n))}let c=r.length?r[r.length-1]:null,l=c&&!1===this.marks[c.type.name].escape,u=r.length-(l?1:0);t:for(let t=0;t<u;t++){let e=r[t];if(!this.marks[e.type.name].mixable)break;for(let s=0;s<n.length;s++){let i=n[s];if(!this.marks[i.type.name].mixable)break;if(e.eq(i)){t>s?r=r.slice(0,s).concat(e).concat(r.slice(s,t)).concat(r.slice(t+1,u)):s>t&&(r=r.slice(0,t).concat(r.slice(t+1,s)).concat(e).concat(r.slice(s,u)));continue t}}}let d=0;for(;d<Math.min(n.length,u)&&r[d].eq(n[d]);)++d;for(;d<n.length;)this.text(this.markString(n.pop(),!1,t,o),!1);if(a&&this.text(a),e){for(;n.length<u;){let e=r[n.length];n.push(e),this.text(this.markString(e,!0,t,o),!1),this.atBlockStart=!1}l&&e.isText?this.text(this.markString(c,!0,t,o)+e.text+this.markString(c,!1,t,o+1),!1):this.render(e,t,o),this.atBlockStart=!1}(null==e?void 0:e.isText)&&e.nodeSize>0&&(this.atBlockStart=!1)};t.forEach(i),i(null,0,t.childCount),this.atBlockStart=!1}renderList(t,e,n){this.closed&&this.closed.type==t.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let s=void 0!==t.attrs.tight?t.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=s,t.forEach(((i,o,r)=>{r&&s&&this.flushClose(1),this.wrapBlock(e,n(r),t,(()=>this.render(i,t,r)))})),this.inTightList=i}esc(t,e=!1){return t=t.replace(/[`*\\~\[\]_]/g,((e,n)=>"_"==e&&n>0&&n+1<t.length&&t[n-1].match(/\w/)&&t[n+1].match(/\w/)?e:"\\"+e)),e&&(t=t.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(t=t.replace(this.options.escapeExtraCharacters,"\\$&")),t}quote(t){let e=-1==t.indexOf('"')?'""':-1==t.indexOf("'")?"''":"()";return e[0]+t+e[1]}repeat(t,e){let n="";for(let s=0;s<e;s++)n+=t;return n}markString(t,e,n,s){let i=this.marks[t.type.name],o=e?i.open:i.close;return"string"==typeof o?o:o(this,t,n,s)}getEnclosingWhitespace(t){return{leading:(t.match(/^(\s+)/)||[void 0])[0],trailing:(t.match(/(\s+)$/)||[void 0])[0]}}};const Dp={};function Ap(t,e){"string"!=typeof e&&(e=Ap.defaultChars);const n=function(t){let e=Dp[t];if(e)return e;e=Dp[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);e.push(t)}for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);e[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return e}(e);return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e="";for(let s=0,i=t.length;s<i;s+=3){const o=parseInt(t.slice(s+1,s+3),16);if(o<128)e+=n[o];else{if(192==(224&o)&&s+3<i){const n=parseInt(t.slice(s+4,s+6),16);if(128==(192&n)){const t=o<<6&1984|63&n;e+=t<128?"":String.fromCharCode(t),s+=3;continue}}if(224==(240&o)&&s+6<i){const n=parseInt(t.slice(s+4,s+6),16),i=parseInt(t.slice(s+7,s+9),16);if(128==(192&n)&&128==(192&i)){const t=o<<12&61440|n<<6&4032|63&i;e+=t<2048||t>=55296&&t<=57343?"":String.fromCharCode(t),s+=6;continue}}if(240==(248&o)&&s+9<i){const n=parseInt(t.slice(s+4,s+6),16),i=parseInt(t.slice(s+7,s+9),16),r=parseInt(t.slice(s+10,s+12),16);if(128==(192&n)&&128==(192&i)&&128==(192&r)){let t=o<<18&1835008|n<<12&258048|i<<6&4032|63&r;t<65536||t>1114111?e+="":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),s+=9;continue}}e+=""}}return e}))}Ap.defaultChars=";/?:@&=+$,#",Ap.componentChars="";const wp={};function Ep(t,e,n){"string"!=typeof e&&(n=e,e=Ep.defaultChars),void 0===n&&(n=!0);const s=function(t){let e=wp[t];if(e)return e;e=wp[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);/^[0-9a-z]$/i.test(t)?e.push(t):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}(e);let i="";for(let o=0,r=t.length;o<r;o++){const e=t.charCodeAt(o);if(n&&37===e&&o+2<r&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))i+=t.slice(o,o+3),o+=2;else if(e<128)i+=s[e];else if(e>=55296&&e<=57343){if(e>=55296&&e<=56319&&o+1<r){const e=t.charCodeAt(o+1);if(e>=56320&&e<=57343){i+=encodeURIComponent(t[o]+t[o+1]),o++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(t[o])}return i}function xp(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Sp(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}Ep.defaultChars=";/?:@&=+$,-_.!~*'()#",Ep.componentChars="-_.!~*'()";const Fp=/^([a-z0-9.+-]+:)/i,Lp=/:[0-9]*$/,Tp=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Mp=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),zp=["'"].concat(Mp),Bp=["%","/","?",";","#"].concat(zp),Ip=["/","?","#"],Op=/^[+a-z0-9A-Z_-]{0,63}$/,Np=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,jp={javascript:!0,"javascript:":!0},Hp={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Rp(t,e){if(t&&t instanceof Sp)return t;const n=new Sp;return n.parse(t,e),n}Sp.prototype.parse=function(t,e){let n,s,i,o=t;if(o=o.trim(),!e&&1===t.split("#").length){const t=Tp.exec(o);if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let r=Fp.exec(o);if(r&&(r=r[0],n=r.toLowerCase(),this.protocol=r,o=o.substr(r.length)),(e||r||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||r&&jp[r]||(o=o.substr(2),this.slashes=!0)),!jp[r]&&(i||r&&!Hp[r])){let t,e,n=-1;for(let a=0;a<Ip.length;a++)s=o.indexOf(Ip[a]),-1!==s&&(-1===n||s<n)&&(n=s);e=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==e&&(t=o.slice(0,e),o=o.slice(e+1),this.auth=t),n=-1;for(let a=0;a<Bp.length;a++)s=o.indexOf(Bp[a]),-1!==s&&(-1===n||s<n)&&(n=s);-1===n&&(n=o.length),":"===o[n-1]&&n--;const i=o.slice(0,n);o=o.slice(n),this.parseHost(i),this.hostname=this.hostname||"";const r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r){const t=this.hostname.split(/\./);for(let e=0,n=t.length;e<n;e++){const n=t[e];if(n&&!n.match(Op)){let s="";for(let t=0,e=n.length;t<e;t++)n.charCodeAt(t)>127?s+="x":s+=n[t];if(!s.match(Op)){const s=t.slice(0,e),i=t.slice(e+1),r=n.match(Np);r&&(s.push(r[1]),i.unshift(r[2])),i.length&&(o=i.join(".")+o),this.hostname=s.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const c=o.indexOf("?");return-1!==c&&(this.search=o.substr(c),o=o.slice(0,c)),o&&(this.pathname=o),Hp[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Sp.prototype.parseHost=function(t){let e=Lp.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Pp=Object.freeze(Object.defineProperty({__proto__:null,decode:Ap,encode:Ep,format:xp,parse:Rp},Symbol.toStringTag,{value:"Module"})),$p=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,qp=/[\0-\x1F\x7F-\x9F]/,Vp=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Up=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Zp=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Wp=Object.freeze(Object.defineProperty({__proto__:null,Any:$p,Cc:qp,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:Vp,S:Up,Z:Zp},Symbol.toStringTag,{value:"Module"}));function Gp(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}const Kp=Object.prototype.hasOwnProperty;function Jp(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t}function Qp(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function Xp(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(!!(65535&~t&&65534!=(65535&t))&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function Yp(t){if(t>65535){const e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const tm=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,em=new RegExp(tm.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),nm=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function sm(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(em,(function(t,e,n){return e||function(t,e){if(35===e.charCodeAt(0)&&nm.test(e)){const n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Xp(n)?Yp(n):t}const n=ud(t);return n!==t?n:t}(t,n)}))}const im=/[&<>"]/,om=/[&<>"]/g,rm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function am(t){return rm[t]}function cm(t){return im.test(t)?t.replace(om,am):t}const lm=/[.?*+^$[\]\\(){}|-]/g;function um(t){switch(t){case 9:case 32:return!0}return!1}function dm(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function hm(t){return Vp.test(t)||Up.test(t)}function pm(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function mm(t){return t=t.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const fm={mdurl:Pp,ucmicro:Wp},gm=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Qp,assign:Jp,escapeHtml:cm,escapeRE:function(t){return t.replace(lm,"\\$&")},fromCodePoint:Yp,has:function(t,e){return Kp.call(t,e)},isMdAsciiPunct:pm,isPunctChar:hm,isSpace:um,isString:Gp,isValidEntityCode:Xp,isWhiteSpace:dm,lib:fm,normalizeReference:mm,unescapeAll:sm,unescapeMd:function(t){return t.indexOf("\\")<0?t:t.replace(tm,"$1")}},Symbol.toStringTag,{value:"Module"}));const km=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(t,e,n){let s,i=e;const o={ok:!1,pos:0,str:""};if(60===t.charCodeAt(i)){for(i++;i<n;){if(s=t.charCodeAt(i),10===s)return o;if(60===s)return o;if(62===s)return o.pos=i+1,o.str=sm(t.slice(e+1,i)),o.ok=!0,o;92===s&&i+1<n?i+=2:i++}return o}let r=0;for(;i<n&&(s=t.charCodeAt(i),32!==s)&&!(s<32||127===s);)if(92===s&&i+1<n){if(32===t.charCodeAt(i+1))break;i+=2}else{if(40===s&&(r++,r>32))return o;if(41===s){if(0===r)break;r--}i++}return e===i||0!==r||(o.str=sm(t.slice(e,i)),o.pos=i,o.ok=!0),o},parseLinkLabel:function(t,e,n){let s,i,o,r;const a=t.posMax,c=t.pos;for(t.pos=e+1,s=1;t.pos<a;){if(o=t.src.charCodeAt(t.pos),93===o&&(s--,0===s)){i=!0;break}if(r=t.pos,t.md.inline.skipToken(t),91===o)if(r===t.pos-1)s++;else if(n)return t.pos=c,-1}let l=-1;return i&&(l=t.pos),t.pos=c,l},parseLinkTitle:function(t,e,n,s){let i,o=e;const r={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)r.str=s.str,r.marker=s.marker;else{if(o>=n)return r;let s=t.charCodeAt(o);if(34!==s&&39!==s&&40!==s)return r;e++,o++,40===s&&(s=41),r.marker=s}for(;o<n;){if(i=t.charCodeAt(o),i===r.marker)return r.pos=o+1,r.str+=sm(t.slice(e,o)),r.ok=!0,r;if(40===i&&41===r.marker)return r;92===i&&o+1<n&&o++,o++}return r.can_continue=!0,r.str+=sm(t.slice(e,o)),r}},Symbol.toStringTag,{value:"Module"})),_m={};function bm(){this.rules=Jp({},_m)}function ym(){this.__rules__=[],this.__cache__=null}function vm(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function Cm(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}_m.code_inline=function(t,e,n,s,i){const o=t[e];return"<code"+i.renderAttrs(o)+">"+cm(o.content)+"</code>"},_m.code_block=function(t,e,n,s,i){const o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+cm(t[e].content)+"</code></pre>\n"},_m.fence=function(t,e,n,s,i){const o=t[e],r=o.info?sm(o.info).trim():"";let a,c="",l="";if(r){const t=r.split(/(\s+)/g);c=t[0],l=t.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,c,l)||cm(o.content),0===a.indexOf("<pre"))return a+"\n";if(r){const t=o.attrIndex("class"),e=o.attrs?o.attrs.slice():[];t<0?e.push(["class",n.langPrefix+c]):(e[t]=e[t].slice(),e[t][1]+=" "+n.langPrefix+c);const s={attrs:e};return`<pre><code${i.renderAttrs(s)}>${a}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${a}</code></pre>\n`},_m.image=function(t,e,n,s,i){const o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,s),i.renderToken(t,e,n)},_m.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},_m.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},_m.text=function(t,e){return cm(t[e].content)},_m.html_block=function(t,e){return t[e].content},_m.html_inline=function(t,e){return t[e].content},bm.prototype.renderAttrs=function(t){let e,n,s;if(!t.attrs)return"";for(s="",e=0,n=t.attrs.length;e<n;e++)s+=" "+cm(t.attrs[e][0])+'="'+cm(t.attrs[e][1])+'"';return s},bm.prototype.renderToken=function(t,e,n){const s=t[e];let i="";if(s.hidden)return"";s.block&&-1!==s.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /");let o=!1;if(s.block&&(o=!0,1===s.nesting&&e+1<t.length)){const n=t[e+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===s.tag)&&(o=!1)}return i+=o?">\n":">",i},bm.prototype.renderInline=function(t,e,n){let s="";const i=this.rules;for(let o=0,r=t.length;o<r;o++){const r=t[o].type;void 0!==i[r]?s+=i[r](t,o,e,n,this):s+=this.renderToken(t,o,e)}return s},bm.prototype.renderInlineAsText=function(t,e,n){let s="";for(let i=0,o=t.length;i<o;i++)switch(t[i].type){case"text":case"html_inline":case"html_block":s+=t[i].content;break;case"image":s+=this.renderInlineAsText(t[i].children,e,n);break;case"softbreak":case"hardbreak":s+="\n"}return s},bm.prototype.render=function(t,e,n){let s="";const i=this.rules;for(let o=0,r=t.length;o<r;o++){const r=t[o].type;"inline"===r?s+=this.renderInline(t[o].children,e,n):void 0!==i[r]?s+=i[r](t,o,e,n,this):s+=this.renderToken(t,o,e,n)}return s},ym.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},ym.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},ym.prototype.at=function(t,e,n){const s=this.__find__(t),i=n||{};if(-1===s)throw new Error("Parser rule not found: "+t);this.__rules__[s].fn=e,this.__rules__[s].alt=i.alt||[],this.__cache__=null},ym.prototype.before=function(t,e,n,s){const i=this.__find__(t),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},ym.prototype.after=function(t,e,n,s){const i=this.__find__(t),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},ym.prototype.push=function(t,e,n){const s=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null},ym.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const s=this.__find__(t);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[s].enabled=!0,n.push(t)}),this),this.__cache__=null,n},ym.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},ym.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const s=this.__find__(t);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[s].enabled=!1,n.push(t)}),this),this.__cache__=null,n},ym.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},vm.prototype.attrIndex=function(t){if(!this.attrs)return-1;const e=this.attrs;for(let n=0,s=e.length;n<s;n++)if(e[n][0]===t)return n;return-1},vm.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},vm.prototype.attrSet=function(t,e){const n=this.attrIndex(t),s=[t,e];n<0?this.attrPush(s):this.attrs[n]=s},vm.prototype.attrGet=function(t){const e=this.attrIndex(t);let n=null;return e>=0&&(n=this.attrs[e][1]),n},vm.prototype.attrJoin=function(t,e){const n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},Cm.prototype.Token=vm;const Dm=/\r\n?|\n/g,Am=/\0/g;function wm(t){return/^<\/a\s*>/i.test(t)}const Em=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,xm=/\((c|tm|r)\)/i,Sm=/\((c|tm|r)\)/gi,Fm={c:"",r:"",tm:""};function Lm(t,e){return Fm[e.toLowerCase()]}function Tm(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];"text"!==s.type||e||(s.content=s.content.replace(Sm,Lm)),"link_open"===s.type&&"auto"===s.info&&e--,"link_close"===s.type&&"auto"===s.info&&e++}}function Mm(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];"text"!==s.type||e||Em.test(s.content)&&(s.content=s.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===s.type&&"auto"===s.info&&e--,"link_close"===s.type&&"auto"===s.info&&e++}}const zm=/['"]/,Bm=/['"]/g,Im="";function Om(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function Nm(t,e){let n;const s=[];for(let i=0;i<t.length;i++){const o=t[i],r=t[i].level;for(n=s.length-1;n>=0&&!(s[n].level<=r);n--);if(s.length=n+1,"text"!==o.type)continue;let a=o.content,c=0,l=a.length;t:for(;c<l;){Bm.lastIndex=c;const u=Bm.exec(a);if(!u)break;let d=!0,h=!0;c=u.index+1;const p="'"===u[0];let m=32;if(u.index-1>=0)m=a.charCodeAt(u.index-1);else for(n=i-1;n>=0&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n--)if(t[n].content){m=t[n].content.charCodeAt(t[n].content.length-1);break}let f=32;if(c<l)f=a.charCodeAt(c);else for(n=i+1;n<t.length&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n++)if(t[n].content){f=t[n].content.charCodeAt(0);break}const g=pm(m)||hm(String.fromCharCode(m)),k=pm(f)||hm(String.fromCharCode(f)),_=dm(m),b=dm(f);if(b?d=!1:k&&(_||g||(d=!1)),_?h=!1:g&&(b||k||(h=!1)),34===f&&'"'===u[0]&&m>=48&&m<=57&&(h=d=!1),d&&h&&(d=g,h=k),d||h){if(h)for(n=s.length-1;n>=0;n--){let d=s[n];if(s[n].level<r)break;if(d.single===p&&s[n].level===r){let r,h;d=s[n],p?(r=e.md.options.quotes[2],h=e.md.options.quotes[3]):(r=e.md.options.quotes[0],h=e.md.options.quotes[1]),o.content=Om(o.content,u.index,h),t[d.token].content=Om(t[d.token].content,d.pos,r),c+=h.length-1,d.token===i&&(c+=r.length-1),a=o.content,l=a.length,s.length=n;continue t}}d?s.push({token:i,pos:u.index,single:p,level:r}):h&&p&&(o.content=Om(o.content,u.index,Im))}else p&&(o.content=Om(o.content,u.index,Im))}}}const jm=[["normalize",function(t){let e;e=t.src.replace(Dm,"\n"),e=e.replace(Am,""),t.src=e}],["block",function(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens;for(let n=0,s=e.length;n<s;n++){const s=e[n];"inline"===s.type&&t.md.inline.parse(s.content,t.md,t.env,s.children)}}],["linkify",function(t){const e=t.tokens;var n;if(t.md.options.linkify)for(let s=0,i=e.length;s<i;s++){if("inline"!==e[s].type||!t.md.linkify.pretest(e[s].content))continue;let i=e[s].children,o=0;for(let r=i.length-1;r>=0;r--){const a=i[r];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,wm(a.content)&&o++),!(o>0)&&"text"===a.type&&t.md.linkify.test(a.content)){const n=a.content;let o=t.md.linkify.match(n);const c=[];let l=a.level,u=0;o.length>0&&0===o[0].index&&r>0&&"text_special"===i[r-1].type&&(o=o.slice(1));for(let e=0;e<o.length;e++){const s=o[e].url,i=t.md.normalizeLink(s);if(!t.md.validateLink(i))continue;let r=o[e].text;r=o[e].schema?"mailto:"!==o[e].schema||/^mailto:/i.test(r)?t.md.normalizeLinkText(r):t.md.normalizeLinkText("mailto:"+r).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+r).replace(/^http:\/\//,"");const a=o[e].index;if(a>u){const e=new t.Token("text","",0);e.content=n.slice(u,a),e.level=l,c.push(e)}const d=new t.Token("link_open","a",1);d.attrs=[["href",i]],d.level=l++,d.markup="linkify",d.info="auto",c.push(d);const h=new t.Token("text","",0);h.content=r,h.level=l,c.push(h);const p=new t.Token("link_close","a",-1);p.level=--l,p.markup="linkify",p.info="auto",c.push(p),u=o[e].lastIndex}if(u<n.length){const e=new t.Token("text","",0);e.content=n.slice(u),e.level=l,c.push(e)}e[s].children=i=Qp(i,r,c)}}else for(r--;i[r].level!==a.level&&"link_open"!==i[r].type;)r--}}}],["replacements",function(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(xm.test(t.tokens[e].content)&&Tm(t.tokens[e].children),Em.test(t.tokens[e].content)&&Mm(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&zm.test(t.tokens[e].content)&&Nm(t.tokens[e].children,t)}],["text_join",function(t){let e,n;const s=t.tokens,i=s.length;for(let o=0;o<i;o++){if("inline"!==s[o].type)continue;const t=s[o].children,i=t.length;for(e=0;e<i;e++)"text_special"===t[e].type&&(t[e].type="text");for(e=n=0;e<i;e++)"text"===t[e].type&&e+1<i&&"text"===t[e+1].type?t[e+1].content=t[e].content+t[e+1].content:(e!==n&&(t[n]=t[e]),n++);e!==n&&(t.length=n)}}]];function Hm(){this.ruler=new ym;for(let t=0;t<jm.length;t++)this.ruler.push(jm[t][0],jm[t][1])}function Rm(t,e,n,s){this.src=t,this.md=e,this.env=n,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,r=0,a=0,c=0,l=i.length,u=!1;r<l;r++){const t=i.charCodeAt(r);if(!u){if(um(t)){a++,9===t?c+=4-c%4:c++;continue}u=!0}10!==t&&r!==l-1||(10!==t&&r++,this.bMarks.push(o),this.eMarks.push(r),this.tShift.push(a),this.sCount.push(c),this.bsCount.push(0),u=!1,a=0,c=0,o=r+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Hm.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,s=e.length;n<s;n++)e[n](t)},Hm.prototype.State=Cm,Rm.prototype.push=function(t,e,n){const s=new vm(t,e,n);return s.block=!0,n<0&&this.level--,s.level=this.level,n>0&&this.level++,this.tokens.push(s),s},Rm.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},Rm.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},Rm.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e;t++){if(!um(this.src.charCodeAt(t)))break}return t},Rm.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!um(this.src.charCodeAt(--t)))return t+1;return t},Rm.prototype.skipChars=function(t,e){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},Rm.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},Rm.prototype.getLines=function(t,e,n,s){if(t>=e)return"";const i=new Array(e-t);for(let o=0,r=t;r<e;r++,o++){let t=0;const a=this.bMarks[r];let c,l=a;for(c=r+1<e||s?this.eMarks[r]+1:this.eMarks[r];l<c&&t<n;){const e=this.src.charCodeAt(l);if(um(e))9===e?t+=4-(t+this.bsCount[r])%4:t++;else{if(!(l-a<this.tShift[r]))break;t++}l++}i[o]=t>n?new Array(t-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return i.join("")},Rm.prototype.Token=vm;function Pm(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];return t.src.slice(n,s)}function $m(t){const e=[],n=t.length;let s=0,i=t.charCodeAt(s),o=!1,r=0,a="";for(;s<n;)124===i&&(o?(a+=t.substring(r,s-1),r=s):(e.push(a+t.substring(r,s)),a="",r=s+1)),o=92===i,s++,i=t.charCodeAt(s);return e.push(a+t.substring(r)),e}function qm(t,e){const n=t.eMarks[e];let s=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(s++);if(42!==i&&45!==i&&43!==i)return-1;if(s<n){if(!um(t.src.charCodeAt(s)))return-1}return s}function Vm(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];let i=n;if(i+1>=s)return-1;let o=t.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=s)return-1;if(o=t.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-n>=10)return-1}return i<s&&(o=t.src.charCodeAt(i),!um(o))?-1:i}const Um="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",Zm="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Wm=new RegExp("^(?:"+Um+"|"+Zm+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),Gm=new RegExp("^(?:"+Um+"|"+Zm+")"),Km=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Gm.source+"\\s*$"),/^$/,!1]];const Jm=[["table",function(t,e,n,s){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent)return!1;if(t.sCount[i]-t.blkIndent>=4)return!1;let o=t.bMarks[i]+t.tShift[i];if(o>=t.eMarks[i])return!1;const r=t.src.charCodeAt(o++);if(124!==r&&45!==r&&58!==r)return!1;if(o>=t.eMarks[i])return!1;const a=t.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!um(a))return!1;if(45===r&&um(a))return!1;for(;o<t.eMarks[i];){const e=t.src.charCodeAt(o);if(124!==e&&45!==e&&58!==e&&!um(e))return!1;o++}let c=Pm(t,e+1),l=c.split("|");const u=[];for(let k=0;k<l.length;k++){const t=l[k].trim();if(!t){if(0===k||k===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?u.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?u.push("left"):u.push("")}if(c=Pm(t,e).trim(),-1===c.indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;l=$m(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop();const d=l.length;if(0===d||d!==u.length)return!1;if(s)return!0;const h=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),m=[e,0];t.push("table_open","table",1).map=m,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1];for(let k=0;k<l.length;k++){const e=t.push("th_open","th",1);u[k]&&(e.attrs=[["style","text-align:"+u[k]]]);const n=t.push("inline","",0);n.content=l[k].trim(),n.children=[],t.push("th_close","th",-1)}let f;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let g=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let s=!1;for(let e=0,o=p.length;e<o;e++)if(p[e](t,i,n,!0)){s=!0;break}if(s)break;if(c=Pm(t,i).trim(),!c)break;if(t.sCount[i]-t.blkIndent>=4)break;if(l=$m(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop(),g+=d-l.length,g>65536)break;if(i===e+2){t.push("tbody_open","tbody",1).map=f=[e+2,0]}t.push("tr_open","tr",1).map=[i,i+1];for(let e=0;e<d;e++){const n=t.push("td_open","td",1);u[e]&&(n.attrs=[["style","text-align:"+u[e]]]);const s=t.push("inline","",0);s.content=l[e]?l[e].trim():"",s.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return f&&(t.push("tbody_close","tbody",-1),f[1]=i),t.push("table_close","table",-1),m[1]=i,t.parentType=h,t.line=i,!0},["paragraph","reference"]],["code",function(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let s=e+1,i=s;for(;s<n;)if(t.isEmpty(s))s++;else{if(!(t.sCount[s]-t.blkIndent>=4))break;s++,i=s}t.line=i;const o=t.push("code_block","code",0);return o.content=t.getLines(e,i,4+t.blkIndent,!1)+"\n",o.map=[e,t.line],!0}],["fence",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(i+3>o)return!1;const r=t.src.charCodeAt(i);if(126!==r&&96!==r)return!1;let a=i;i=t.skipChars(i,r);let c=i-a;if(c<3)return!1;const l=t.src.slice(a,i),u=t.src.slice(i,o);if(96===r&&u.indexOf(String.fromCharCode(r))>=0)return!1;if(s)return!0;let d=e,h=!1;for(;(d++,!(d>=n))&&(i=a=t.bMarks[d]+t.tShift[d],o=t.eMarks[d],!(i<o&&t.sCount[d]<t.blkIndent));)if(t.src.charCodeAt(i)===r&&!(t.sCount[d]-t.blkIndent>=4||(i=t.skipChars(i,r),i-a<c||(i=t.skipSpaces(i),i<o)))){h=!0;break}c=t.sCount[e],t.line=d+(h?1:0);const p=t.push("fence","code",0);return p.info=u,p.content=t.getLines(e+1,d,c,!0),p.markup=l,p.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];const r=t.lineMax;if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(i))return!1;if(s)return!0;const a=[],c=[],l=[],u=[],d=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let p,m=!1;for(p=e;p<n;p++){const e=t.sCount[p]<t.blkIndent;if(i=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],i>=o)break;if(62===t.src.charCodeAt(i++)&&!e){let e,n,s=t.sCount[p]+1;32===t.src.charCodeAt(i)?(i++,s++,n=!1,e=!0):9===t.src.charCodeAt(i)?(e=!0,(t.bsCount[p]+s)%4==3?(i++,s++,n=!1):n=!0):e=!1;let r=s;for(a.push(t.bMarks[p]),t.bMarks[p]=i;i<o;){const e=t.src.charCodeAt(i);if(!um(e))break;9===e?r+=4-(r+t.bsCount[p]+(n?1:0))%4:r++,i++}m=i>=o,c.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(e?1:0),l.push(t.sCount[p]),t.sCount[p]=r-s,u.push(t.tShift[p]),t.tShift[p]=i-t.bMarks[p];continue}if(m)break;let s=!1;for(let i=0,o=d.length;i<o;i++)if(d[i](t,p,n,!0)){s=!0;break}if(s){t.lineMax=p,0!==t.blkIndent&&(a.push(t.bMarks[p]),c.push(t.bsCount[p]),u.push(t.tShift[p]),l.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}a.push(t.bMarks[p]),c.push(t.bsCount[p]),u.push(t.tShift[p]),l.push(t.sCount[p]),t.sCount[p]=-1}const f=t.blkIndent;t.blkIndent=0;const g=t.push("blockquote_open","blockquote",1);g.markup=">";const k=[e,0];g.map=k,t.md.block.tokenize(t,e,p),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=r,t.parentType=h,k[1]=t.line;for(let _=0;_<u.length;_++)t.bMarks[_+e]=a[_],t.tShift[_+e]=u[_],t.sCount[_+e]=l[_],t.bsCount[_+e]=c[_];return t.blkIndent=f,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,n,s){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e];const r=t.src.charCodeAt(o++);if(42!==r&&45!==r&&95!==r)return!1;let a=1;for(;o<i;){const e=t.src.charCodeAt(o++);if(e!==r&&!um(e))return!1;e===r&&a++}if(a<3)return!1;if(s)return!0;t.line=e+1;const c=t.push("hr","hr",0);return c.map=[e,t.line],c.markup=Array(a+1).join(String.fromCharCode(r)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,n,s){let i,o,r,a,c=e,l=!0;if(t.sCount[c]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[c]-t.listIndent>=4&&t.sCount[c]<t.blkIndent)return!1;let u,d,h,p=!1;if(s&&"paragraph"===t.parentType&&t.sCount[c]>=t.blkIndent&&(p=!0),(h=Vm(t,c))>=0){if(u=!0,r=t.bMarks[c]+t.tShift[c],d=Number(t.src.slice(r,h-1)),p&&1!==d)return!1}else{if(!((h=qm(t,c))>=0))return!1;u=!1}if(p&&t.skipSpaces(h)>=t.eMarks[c])return!1;if(s)return!0;const m=t.src.charCodeAt(h-1),f=t.tokens.length;u?(a=t.push("ordered_list_open","ol",1),1!==d&&(a.attrs=[["start",d]])):a=t.push("bullet_list_open","ul",1);const g=[c,0];a.map=g,a.markup=String.fromCharCode(m);let k=!1;const _=t.md.block.ruler.getRules("list"),b=t.parentType;for(t.parentType="list";c<n;){o=h,i=t.eMarks[c];const e=t.sCount[c]+h-(t.bMarks[c]+t.tShift[c]);let s=e;for(;o<i;){const e=t.src.charCodeAt(o);if(9===e)s+=4-(s+t.bsCount[c])%4;else{if(32!==e)break;s++}o++}const d=o;let p;p=d>=i?1:s-e,p>4&&(p=1);const f=e+p;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const g=[c,0];a.map=g,u&&(a.info=t.src.slice(r,h-1));const b=t.tight,y=t.tShift[c],v=t.sCount[c],C=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=f,t.tight=!0,t.tShift[c]=d-t.bMarks[c],t.sCount[c]=s,d>=i&&t.isEmpty(c+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,c,n,!0),t.tight&&!k||(l=!1),k=t.line-c>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=C,t.tShift[c]=y,t.sCount[c]=v,t.tight=b,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),c=t.line,g[1]=c,c>=n)break;if(t.sCount[c]<t.blkIndent)break;if(t.sCount[c]-t.blkIndent>=4)break;let D=!1;for(let i=0,o=_.length;i<o;i++)if(_[i](t,c,n,!0)){D=!0;break}if(D)break;if(u){if(h=Vm(t,c),h<0)break;r=t.bMarks[c]+t.tShift[c]}else if(h=qm(t,c),h<0)break;if(m!==t.src.charCodeAt(h-1))break}return a=u?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),g[1]=c,t.line=c,t.parentType=b,l&&function(t,e){const n=t.level+2;for(let s=e+2,i=t.tokens.length-2;s<i;s++)t.tokens[s].level===n&&"paragraph_open"===t.tokens[s].type&&(t.tokens[s+2].hidden=!0,t.tokens[s].hidden=!0,s+=2)}(t,f),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],r=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(i))return!1;function a(e){const n=t.lineMax;if(e>=n||t.isEmpty(e))return null;let s=!1;if(t.sCount[e]-t.blkIndent>3&&(s=!0),t.sCount[e]<0&&(s=!0),!s){const s=t.md.block.ruler.getRules("reference"),i=t.parentType;t.parentType="reference";let o=!1;for(let r=0,a=s.length;r<a;r++)if(s[r](t,e,n,!0)){o=!0;break}if(t.parentType=i,o)return null}const i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return t.src.slice(i,o+1)}let c=t.src.slice(i,o+1);o=c.length;let l=-1;for(i=1;i<o;i++){const t=c.charCodeAt(i);if(91===t)return!1;if(93===t){l=i;break}if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(92===t&&(i++,i<o&&10===c.charCodeAt(i))){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}}if(l<0||58!==c.charCodeAt(l+1))return!1;for(i=l+2;i<o;i++){const t=c.charCodeAt(i);if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(!um(t))break}const u=t.md.helpers.parseLinkDestination(c,i,o);if(!u.ok)return!1;const d=t.md.normalizeLink(u.str);if(!t.md.validateLink(d))return!1;i=u.pos;const h=i,p=r,m=i;for(;i<o;i++){const t=c.charCodeAt(i);if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(!um(t))break}let f,g=t.md.helpers.parseLinkTitle(c,i,o);for(;g.can_continue;){const e=a(r);if(null===e)break;c+=e,i=o,o=c.length,r++,g=t.md.helpers.parseLinkTitle(c,i,o,g)}for(i<o&&m!==i&&g.ok?(f=g.str,i=g.pos):(f="",i=h,r=p);i<o;){if(!um(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i)&&f)for(f="",i=h,r=p;i<o;){if(!um(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i))return!1;const k=mm(c.slice(1,l));return!!k&&(s||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[k]&&(t.env.references[k]={title:f,href:d}),t.line=r),!0)}],["html_block",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(i))return!1;let r=t.src.slice(i,o),a=0;for(;a<Km.length&&!Km[a][0].test(r);a++);if(a===Km.length)return!1;if(s)return Km[a][2];let c=e+1;if(!Km[a][1].test(r))for(;c<n&&!(t.sCount[c]<t.blkIndent);c++)if(i=t.bMarks[c]+t.tShift[c],o=t.eMarks[c],r=t.src.slice(i,o),Km[a][1].test(r)){0!==r.length&&c++;break}t.line=c;const l=t.push("html_block","",0);return l.map=[e,c],l.content=t.getLines(e,c,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let r=t.src.charCodeAt(i);if(35!==r||i>=o)return!1;let a=1;for(r=t.src.charCodeAt(++i);35===r&&i<o&&a<=6;)a++,r=t.src.charCodeAt(++i);if(a>6||i<o&&!um(r))return!1;if(s)return!0;o=t.skipSpacesBack(o,i);const c=t.skipCharsBack(o,35,i);c>i&&um(t.src.charCodeAt(c-1))&&(o=c),t.line=e+1;const l=t.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[e,t.line];const u=t.push("inline","",0);return u.content=t.src.slice(i,o).trim(),u.map=[e,t.line],u.children=[],t.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,n){const s=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let o,r=0,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let e=t.bMarks[a]+t.tShift[a];const n=t.eMarks[a];if(e<n&&(o=t.src.charCodeAt(e),(45===o||61===o)&&(e=t.skipChars(e,o),e=t.skipSpaces(e),e>=n))){r=61===o?1:2;break}}if(t.sCount[a]<0)continue;let e=!1;for(let i=0,o=s.length;i<o;i++)if(s[i](t,a,n,!0)){e=!0;break}if(e)break}if(!r)return!1;const c=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const l=t.push("heading_open","h"+String(r),1);l.markup=String.fromCharCode(o),l.map=[e,t.line];const u=t.push("inline","",0);return u.content=c,u.map=[e,t.line-1],u.children=[],t.push("heading_close","h"+String(r),-1).markup=String.fromCharCode(o),t.parentType=i,!0}],["paragraph",function(t,e,n){const s=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let o=e+1;for(t.parentType="paragraph";o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]<0)continue;let e=!1;for(let i=0,r=s.length;i<r;i++)if(s[i](t,o,n,!0)){e=!0;break}if(e)break}const r=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o,t.push("paragraph_open","p",1).map=[e,t.line];const a=t.push("inline","",0);return a.content=r,a.map=[e,t.line],a.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}]];function Qm(){this.ruler=new ym;for(let t=0;t<Jm.length;t++)this.ruler.push(Jm[t][0],Jm[t][1],{alt:(Jm[t][2]||[]).slice()})}function Xm(t,e,n,s){this.src=t,this.env=n,this.md=e,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function Ym(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}Qm.prototype.tokenize=function(t,e,n){const s=this.ruler.getRules(""),i=s.length,o=t.md.options.maxNesting;let r=e,a=!1;for(;r<n&&(t.line=r=t.skipEmptyLines(r),!(r>=n))&&!(t.sCount[r]<t.blkIndent);){if(t.level>=o){t.line=n;break}const e=t.line;let c=!1;for(let o=0;o<i;o++)if(c=s[o](t,r,n,!1),c){if(e>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),r=t.line,r<n&&t.isEmpty(r)&&(a=!0,r++,t.line=r)}},Qm.prototype.parse=function(t,e,n,s){if(!t)return;const i=new this.State(t,e,n,s);this.tokenize(i,i.line,i.lineMax)},Qm.prototype.State=Rm,Xm.prototype.pushPending=function(){const t=new vm("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},Xm.prototype.push=function(t,e,n){this.pending&&this.pushPending();const s=new vm(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(i),s},Xm.prototype.scanDelims=function(t,e){const n=this.posMax,s=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<n&&this.src.charCodeAt(o)===s;)o++;const r=o-t,a=o<n?this.src.charCodeAt(o):32,c=pm(i)||hm(String.fromCharCode(i)),l=pm(a)||hm(String.fromCharCode(a)),u=dm(i),d=dm(a),h=!d&&(!l||u||c),p=!u&&(!c||d||l);return{can_open:h&&(e||!p||c),can_close:p&&(e||!h||l),length:r}},Xm.prototype.Token=vm;const tf=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const ef=[];for(let m=0;m<256;m++)ef.push(0);function nf(t,e){let n;const s=[],i=e.length;for(let o=0;o<i;o++){const i=e[o];if(126!==i.marker)continue;if(-1===i.end)continue;const r=e[i.end];n=t.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[r.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===t.tokens[r.token-1].type&&"~"===t.tokens[r.token-1].content&&s.push(r.token-1)}for(;s.length;){const e=s.pop();let i=e+1;for(;i<t.tokens.length&&"s_close"===t.tokens[i].type;)i++;i--,e!==i&&(n=t.tokens[i],t.tokens[i]=t.tokens[e],t.tokens[e]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){ef[t.charCodeAt(0)]=1}));const sf={tokenize:function(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e)return!1;if(126!==s)return!1;const i=t.scanDelims(t.pos,!0);let o=i.length;const r=String.fromCharCode(s);if(o<2)return!1;let a;o%2&&(a=t.push("text","",0),a.content=r,o--);for(let c=0;c<o;c+=2)a=t.push("text","",0),a.content=r+r,t.delimiters.push({marker:s,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;nf(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&nf(t,e[s].delimiters)}};function of(t,e){for(let n=e.length-1;n>=0;n--){const s=e[n];if(95!==s.marker&&42!==s.marker)continue;if(-1===s.end)continue;const i=e[s.end],o=n>0&&e[n-1].end===s.end+1&&e[n-1].marker===s.marker&&e[n-1].token===s.token-1&&e[s.end+1].token===i.token+1,r=String.fromCharCode(s.marker),a=t.tokens[s.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?r+r:r,a.content="";const c=t.tokens[i.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?r+r:r,c.content="",o&&(t.tokens[e[n-1].token].content="",t.tokens[e[s.end+1].token].content="",n--)}}const rf={tokenize:function(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e)return!1;if(95!==s&&42!==s)return!1;const i=t.scanDelims(t.pos,42===s);for(let o=0;o<i.length;o++){t.push("text","",0).content=String.fromCharCode(s),t.delimiters.push({marker:s,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;of(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&of(t,e[s].delimiters)}};const af=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,cf=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const lf=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,uf=/^&([a-z][a-z0-9]{1,31});/i;function df(t){const e={},n=t.length;if(!n)return;let s=0,i=-2;const o=[];for(let r=0;r<n;r++){const n=t[r];if(o.push(0),t[s].marker===n.marker&&i===n.token-1||(s=r),i=n.token,n.length=n.length||0,!n.close)continue;e.hasOwnProperty(n.marker)||(e[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=e[n.marker][(n.open?3:0)+n.length%3];let c=s-o[s]-1,l=c;for(;c>a;c-=o[c]+1){const e=t[c];if(e.marker===n.marker&&(e.open&&e.end<0)){let s=!1;if((e.close||n.open)&&(e.length+n.length)%3==0&&(e.length%3==0&&n.length%3==0||(s=!0)),!s){const s=c>0&&!t[c-1].open?o[c-1]+1:0;o[r]=r-c+s,o[c]=s,n.open=!1,e.end=r,e.close=!1,l=-1,i=-2;break}}}-1!==l&&(e[n.marker][(n.open?3:0)+(n.length||0)%3]=l)}}const hf=[["text",function(t,e){let n=t.pos;for(;n<t.posMax&&!Ym(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const n=t.pos;if(n+3>t.posMax)return!1;if(58!==t.src.charCodeAt(n))return!1;if(47!==t.src.charCodeAt(n+1))return!1;if(47!==t.src.charCodeAt(n+2))return!1;const s=t.pending.match(tf);if(!s)return!1;const i=s[1],o=t.md.linkify.matchAtStart(t.src.slice(n-i.length));if(!o)return!1;let r=o.url;if(r.length<=i.length)return!1;r=r.replace(/\*+$/,"");const a=t.md.normalizeLink(r);if(!t.md.validateLink(a))return!1;if(!e){t.pending=t.pending.slice(0,-i.length);const e=t.push("link_open","a",1);e.attrs=[["href",a]],e.markup="linkify",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(r);const n=t.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return t.pos+=r.length-i.length,!0}],["newline",function(t,e){let n=t.pos;if(10!==t.src.charCodeAt(n))return!1;const s=t.pending.length-1,i=t.posMax;if(!e)if(s>=0&&32===t.pending.charCodeAt(s))if(s>=1&&32===t.pending.charCodeAt(s-1)){let e=s-1;for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--;t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&um(t.src.charCodeAt(n));)n++;return t.pos=n,!0}],["escape",function(t,e){let n=t.pos;const s=t.posMax;if(92!==t.src.charCodeAt(n))return!1;if(n++,n>=s)return!1;let i=t.src.charCodeAt(n);if(10===i){for(e||t.push("hardbreak","br",0),n++;n<s&&(i=t.src.charCodeAt(n),um(i));)n++;return t.pos=n,!0}let o=t.src[n];if(i>=55296&&i<=56319&&n+1<s){const e=t.src.charCodeAt(n+1);e>=56320&&e<=57343&&(o+=t.src[n+1],n++)}const r="\\"+o;if(!e){const e=t.push("text_special","",0);i<256&&0!==ef[i]?e.content=o:e.content=r,e.markup=r,e.info="escape"}return t.pos=n+1,!0}],["backticks",function(t,e){let n=t.pos;if(96!==t.src.charCodeAt(n))return!1;const s=n;n++;const i=t.posMax;for(;n<i&&96===t.src.charCodeAt(n);)n++;const o=t.src.slice(s,n),r=o.length;if(t.backticksScanned&&(t.backticks[r]||0)<=s)return e||(t.pending+=o),t.pos+=r,!0;let a,c=n;for(;-1!==(a=t.src.indexOf("`",c));){for(c=a+1;c<i&&96===t.src.charCodeAt(c);)c++;const s=c-a;if(s===r){if(!e){const e=t.push("code_inline","code",0);e.markup=o,e.content=t.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=c,!0}t.backticks[s]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=r,!0}],["strikethrough",sf.tokenize],["emphasis",rf.tokenize],["link",function(t,e){let n,s,i,o,r="",a="",c=t.pos,l=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const u=t.pos,d=t.posMax,h=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let m=p+1;if(m<d&&40===t.src.charCodeAt(m)){for(l=!1,m++;m<d&&(n=t.src.charCodeAt(m),um(n)||10===n);m++);if(m>=d)return!1;if(c=m,i=t.md.helpers.parseLinkDestination(t.src,m,t.posMax),i.ok){for(r=t.md.normalizeLink(i.str),t.md.validateLink(r)?m=i.pos:r="",c=m;m<d&&(n=t.src.charCodeAt(m),um(n)||10===n);m++);if(i=t.md.helpers.parseLinkTitle(t.src,m,t.posMax),m<d&&c!==m&&i.ok)for(a=i.str,m=i.pos;m<d&&(n=t.src.charCodeAt(m),um(n)||10===n);m++);}(m>=d||41!==t.src.charCodeAt(m))&&(l=!0),m++}if(l){if(void 0===t.env.references)return!1;if(m<d&&91===t.src.charCodeAt(m)?(c=m+1,m=t.md.helpers.parseLinkLabel(t,m),m>=0?s=t.src.slice(c,m++):m=p+1):m=p+1,s||(s=t.src.slice(h,p)),o=t.env.references[mm(s)],!o)return t.pos=u,!1;r=o.href,a=o.title}if(!e){t.pos=h,t.posMax=p;const e=[["href",r]];t.push("link_open","a",1).attrs=e,a&&e.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=m,t.posMax=d,!0}],["image",function(t,e){let n,s,i,o,r,a,c,l,u="";const d=t.pos,h=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const p=t.pos+2,m=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(m<0)return!1;if(o=m+1,o<h&&40===t.src.charCodeAt(o)){for(o++;o<h&&(n=t.src.charCodeAt(o),um(n)||10===n);o++);if(o>=h)return!1;for(l=o,a=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),a.ok&&(u=t.md.normalizeLink(a.str),t.md.validateLink(u)?o=a.pos:u=""),l=o;o<h&&(n=t.src.charCodeAt(o),um(n)||10===n);o++);if(a=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<h&&l!==o&&a.ok)for(c=a.str,o=a.pos;o<h&&(n=t.src.charCodeAt(o),um(n)||10===n);o++);else c="";if(o>=h||41!==t.src.charCodeAt(o))return t.pos=d,!1;o++}else{if(void 0===t.env.references)return!1;if(o<h&&91===t.src.charCodeAt(o)?(l=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?i=t.src.slice(l,o++):o=m+1):o=m+1,i||(i=t.src.slice(p,m)),r=t.env.references[mm(i)],!r)return t.pos=d,!1;u=r.href,c=r.title}if(!e){s=t.src.slice(p,m);const e=[];t.md.inline.parse(s,t.md,t.env,e);const n=t.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=e,n.content=s,c&&i.push(["title",c])}return t.pos=o,t.posMax=h,!0}],["autolink",function(t,e){let n=t.pos;if(60!==t.src.charCodeAt(n))return!1;const s=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const e=t.src.charCodeAt(n);if(60===e)return!1;if(62===e)break}const o=t.src.slice(s+1,n);if(cf.test(o)){const n=t.md.normalizeLink(o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const s=t.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return t.pos+=o.length+2,!0}if(af.test(o)){const n=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const s=t.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1;const n=t.posMax,s=t.pos;if(60!==t.src.charCodeAt(s)||s+2>=n)return!1;const i=t.src.charCodeAt(s+1);if(33!==i&&63!==i&&47!==i&&!function(t){const e=32|t;return e>=97&&e<=122}(i))return!1;const o=t.src.slice(s).match(Wm);if(!o)return!1;if(!e){const e=t.push("html_inline","",0);e.content=o[0],r=e.content,/^<a[>\s]/i.test(r)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var r;return t.pos+=o[0].length,!0}],["entity",function(t,e){const n=t.pos,s=t.posMax;if(38!==t.src.charCodeAt(n))return!1;if(n+1>=s)return!1;if(35===t.src.charCodeAt(n+1)){const s=t.src.slice(n).match(lf);if(s){if(!e){const e="x"===s[1][0].toLowerCase()?parseInt(s[1].slice(1),16):parseInt(s[1],10),n=t.push("text_special","",0);n.content=Xp(e)?Yp(e):Yp(65533),n.markup=s[0],n.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(uf);if(s){const n=ud(s[0]);if(n!==s[0]){if(!e){const e=t.push("text_special","",0);e.content=n,e.markup=s[0],e.info="entity"}return t.pos+=s[0].length,!0}}}return!1}]],pf=[["balance_pairs",function(t){const e=t.tokens_meta,n=t.tokens_meta.length;df(t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&df(e[s].delimiters)}],["strikethrough",sf.postProcess],["emphasis",rf.postProcess],["fragments_join",function(t){let e,n,s=0;const i=t.tokens,o=t.tokens.length;for(e=n=0;e<o;e++)i[e].nesting<0&&s--,i[e].level=s,i[e].nesting>0&&s++,"text"===i[e].type&&e+1<o&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}]];function mf(){this.ruler=new ym;for(let t=0;t<hf.length;t++)this.ruler.push(hf[t][0],hf[t][1]);this.ruler2=new ym;for(let t=0;t<pf.length;t++)this.ruler2.push(pf[t][0],pf[t][1])}function ff(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function gf(t){return Object.prototype.toString.call(t)}function kf(t){return"[object Function]"===gf(t)}function _f(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}mf.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),s=n.length,i=t.md.options.maxNesting,o=t.cache;if(void 0!==o[e])return void(t.pos=o[e]);let r=!1;if(t.level<i){for(let a=0;a<s;a++)if(t.level++,r=n[a](t,!0),t.level--,r){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;r||t.pos++,o[e]=t.pos},mf.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,s=t.posMax,i=t.md.options.maxNesting;for(;t.pos<s;){const o=t.pos;let r=!1;if(t.level<i)for(let s=0;s<n;s++)if(r=e[s](t,!1),r){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(r){if(t.pos>=s)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},mf.prototype.parse=function(t,e,n,s){const i=new this.State(t,e,n,s);this.tokenize(i);const o=this.ruler2.getRules(""),r=o.length;for(let a=0;a<r;a++)o[a](i)},mf.prototype.State=Xm;const bf={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const yf={"http:":{validate:function(t,e,n){const s=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(s)?s.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const s=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(s)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:s.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const s=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(s)?s.match(n.re.mailto)[0].length:0}}},vf="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Cf="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Df(t){const e=t.re=function(t){const e={};t=t||{},e.src_Any=$p.source,e.src_Cc=qp.source,e.src_Z=Zp.source,e.src_P=Vp.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?![><]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),n=t.__tlds__.slice();function s(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push(vf),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");const i=[];function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){const n=t.__schemas__[e];if(null===n)return;const s={validate:null,link:null};if(t.__compiled__[e]=s,"[object Object]"===gf(n))return!function(t){return"[object RegExp]"===gf(t)}(n.validate)?kf(n.validate)?s.validate=n.validate:o(e,n):s.validate=function(t){return function(e,n){const s=e.slice(n);return t.test(s)?s.match(t)[0].length:0}}(n.validate),void(kf(n.normalize)?s.normalize=n.normalize:n.normalize?o(e,n):s.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===gf(t)}(n)?o(e,n):i.push(e)})),i.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};const r=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(_f).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function Af(t,e){const n=t.__index__,s=t.__last_index__,i=t.__text_cache__.slice(n,s);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=s+e,this.raw=i,this.text=i,this.url=i}function wf(t,e){const n=new Af(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Ef(t,e){if(!(this instanceof Ef))return new Ef(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||bf.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=ff({},bf,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=ff({},yf,t),this.__compiled__={},this.__tlds__=Cf,this.__tlds_replaced__=!1,this.re={},Df(this)}Ef.prototype.add=function(t,e){return this.__schemas__[t]=e,Df(this),this},Ef.prototype.set=function(t){return this.__opts__=ff(this.__opts__,t),this},Ef.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let e,n,s,i,o,r,a,c,l;if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(i=this.testSchemaAt(t,e[2],a.lastIndex),i){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=t.indexOf("@"),l>=0&&null!==(s=t.match(this.re.email_fuzzy))&&(o=s.index+s[1].length,r=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=r))),this.__index__>=0},Ef.prototype.pretest=function(t){return this.re.pretest.test(t)},Ef.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},Ef.prototype.match=function(t){const e=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(e.push(wf(this,n)),n=this.__last_index__);let s=n?t.slice(n):t;for(;this.test(s);)e.push(wf(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return e.length?e:null},Ef.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const e=this.re.schema_at_start.exec(t);if(!e)return null;const n=this.testSchemaAt(t,e[2],e[0].length);return n?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+n,wf(this,0)):null},Ef.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),Df(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Df(this),this)},Ef.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},Ef.prototype.onCompile=function(){};const xf={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Sf=/^(vbscript|javascript|file|data):/,Ff=/^data:image\/(gif|png|jpeg|webp);/;function Lf(t){const e=t.trim().toLowerCase();return!Sf.test(e)||Ff.test(e)}const Tf=["http:","https:","mailto:"];function Mf(t){const e=Rp(t,!0);if(e.hostname&&(!e.protocol||Tf.indexOf(e.protocol)>=0))try{e.hostname=ip.toASCII(e.hostname)}catch(n){}return Ep(xp(e))}function zf(t){const e=Rp(t,!0);if(e.hostname&&(!e.protocol||Tf.indexOf(e.protocol)>=0))try{e.hostname=ip.toUnicode(e.hostname)}catch(n){}return Ap(xp(e),Ap.defaultChars+"%")}function Bf(t,e){if(!(this instanceof Bf))return new Bf(t,e);e||Gp(t)||(e=t||{},t="default"),this.inline=new mf,this.block=new Qm,this.core=new Hm,this.renderer=new bm,this.linkify=new Ef,this.validateLink=Lf,this.normalizeLink=Mf,this.normalizeLinkText=zf,this.utils=gm,this.helpers=Jp({},km),this.options={},this.configure(t),e&&this.set(e)}Bf.prototype.set=function(t){return Jp(this.options,t),this},Bf.prototype.configure=function(t){const e=this;if(Gp(t)){const e=t;if(!(t=xf[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)})),this},Bf.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));const s=t.filter((function(t){return n.indexOf(t)<0}));if(s.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this},Bf.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));const s=t.filter((function(t){return n.indexOf(t)<0}));if(s.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this},Bf.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},Bf.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},Bf.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},Bf.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},Bf.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};var If=!0,Of=!1,Nf=!1;function jf(t,e,n){var s=t.attrIndex(e),i=[e,n];s<0?t.attrPush(i):t.attrs[s]=i}function Hf(t,e){for(var n=t[e].level-1,s=e-1;s>=0;s--)if(t[s].level===n)return s;return-1}function Rf(t,e){return"inline"===t[e].type&&function(t){return"paragraph_open"===t.type}(t[e-1])&&function(t){return"list_item_open"===t.type}(t[e-2])&&function(t){return 0===t.content.indexOf("[ ] ")||0===t.content.indexOf("[x] ")||0===t.content.indexOf("[X] ")}(t[e])}function Pf(t,e){if(t.children.unshift(function(t,e){var n=new e("html_inline","",0),s=If?' disabled="" ':"";0===t.content.indexOf("[ ] ")?n.content='<input class="task-list-item-checkbox"'+s+'type="checkbox">':0!==t.content.indexOf("[x] ")&&0!==t.content.indexOf("[X] ")||(n.content='<input class="task-list-item-checkbox" checked=""'+s+'type="checkbox">');return n}(t,e)),t.children[1].content=t.children[1].content.slice(3),t.content=t.content.slice(3),Of)if(Nf){t.children.pop();var n="task-item-"+Math.ceil(1e7*Math.random()-1e3);t.children[0].content=t.children[0].content.slice(0,-1)+' id="'+n+'">',t.children.push(function(t,e,n){var s=new n("html_inline","",0);return s.content='<label class="task-list-item-label" for="'+e+'">'+t+"</label>",s.attrs=[{for:e}],s}(t.content,n,e))}else t.children.unshift(function(t){var e=new t("html_inline","",0);return e.content="<label>",e}(e)),t.children.push(function(t){var e=new t("html_inline","",0);return e.content="</label>",e}(e))}const $f=De((function(t,e){e&&(If=!e.enabled,Of=!!e.label,Nf=!!e.labelAfter),t.core.ruler.after("inline","github-task-lists",(function(t){for(var e=t.tokens,n=2;n<e.length;n++)Rf(e,n)&&(Pf(e[n],t.Token),jf(e[n-2],"class","task-list-item"+(If?"":" enabled")),jf(e[Hf(e,n-2)],"class","contains-task-list"))}))}));var qf=Object.defineProperty,Vf=(t,e,n)=>(((t,e,n)=>{e in t?qf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);const Uf=x.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:t=>"true"===t.getAttribute("data-tight")||!t.querySelector("p"),renderHTML:t=>({class:t.tight?this.options.tightClass:null,"data-tight":t.tight?"true":null})}}}]},addCommands(){var t=this;return{toggleTight:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n=>{let{editor:s,commands:i}=n;return t.options.listTypes.some((t=>function(t){if(!s.isActive(t))return!1;const n=s.getAttributes(t);return i.updateAttributes(t,{tight:null!=e?e:!(null!=n&&n.tight)})}(t)))}}}}}),Zf=Bf();function Wf(t,e){Zf.inline.State.prototype.scanDelims.call({src:t,posMax:t.length});return new Zf.inline.State(t,null,null,[]).scanDelims(e,!0)}function Gf(t,e,n,s){let i=t.substring(0,n)+t.substring(n+e.length);return i=i.substring(0,n+s)+e+i.substring(n+s),i}function Kf(t,e,n,s){let i={text:t,from:n,to:s};return i=function(t,e,n,s){let i=n,o=t;for(;i<s&&!Wf(o,i).can_open;)o=Gf(o,e,i,1),i++;return{text:o,from:i,to:s}}(i.text,e,i.from,i.to),i=function(t,e,n,s){let i=s,o=t;for(;i>n&&!Wf(o,i).can_close;)o=Gf(o,e,i,-1),i--;return{text:o,from:n,to:i}}(i.text,e,i.from,i.to),i.to-i.from<e.length+1&&(i.text=i.text.substring(0,i.from)+i.text.substring(i.to+e.length)),i.text}class Jf extends Cp{constructor(t,e,n){super(t,e,null!=n?n:{}),Vf(this,"inTable",!1),this.inlines=[]}render(t,e,n){super.render(t,e,n);const s=this.inlines[this.inlines.length-1];if(null!=s&&s.start&&null!=s&&s.end){const{delimiter:t,start:e,end:n}=this.normalizeInline(s);this.out=Kf(this.out,t,e,n),this.inlines.pop()}}markString(t,e,n,s){const i=this.marks[t.type.name];if(i.expelEnclosingWhitespace)if(e)this.inlines.push({start:this.out.length,delimiter:i.open});else{const t=this.inlines.pop();this.inlines.push({...t,end:this.out.length})}return super.markString(t,e,n,s)}normalizeInline(t){let{start:e,end:n}=t;for(;this.out.charAt(e).match(/\s/);)e++;return{...t,start:e}}}const Qf=_.create({name:"markdownHTMLMark",addStorage:()=>({markdown:{serialize:{open(t,e){var n,s;return this.editor.storage.markdown.options.html?null!==(n=null===(s=Xf(e))||void 0===s?void 0:s[0])&&void 0!==n?n:"":(console.warn(`Tiptap Markdown: "${e.type.name}" mark is only available in html mode`),"")},close(t,e){var n,s;return this.editor.storage.markdown.options.html&&null!==(n=null===(s=Xf(e))||void 0===s?void 0:s[1])&&void 0!==n?n:""}},parse:{}}})});function Xf(t){const e=t.type.schema,n=e.text(" ",[t]),s=G(T.from(n),e).match(/^(<.*?>) (<\/.*?>)$/);return s?[s[1],s[2]]:null}function Yf(t){const e=`<body>${t}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}const tg=f.create({name:"markdownHTMLNode",addStorage:()=>({markdown:{serialize(t,e,n){this.editor.storage.markdown.options.html?t.write(function(t,e){const n=t.type.schema,s=G(T.from(t),n);if(t.isBlock&&(e instanceof T||e.type.name===n.topNodeType.name))return function(t){const e=Yf(t),n=e.firstElementChild;return n.innerHTML=n.innerHTML.trim()?`\n${n.innerHTML}\n`:"\n",n.outerHTML}(s);return s}(e,n)):(console.warn(`Tiptap Markdown: "${e.type.name}" node is only available in html mode`),t.write(`[${e.type.name}]`)),e.isBlock&&t.closeBlock(e)},parse:{}}})});const eg=f.create({name:"blockquote"}).extend({addStorage:()=>({markdown:{serialize:yp.nodes.blockquote,parse:{}}})}),ng=f.create({name:"bulletList"}).extend({addStorage:()=>({markdown:{serialize(t,e){return t.renderList(e,"  ",(()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" "))},parse:{}}})}),sg=f.create({name:"codeBlock"}).extend({addStorage:()=>({markdown:{serialize(t,e){t.write("```"+(e.attrs.language||"")+"\n"),t.text(e.textContent,!1),t.ensureNewLine(),t.write("```"),t.closeBlock(e)},parse:{setup(t){var e;t.set({langPrefix:null!==(e=this.options.languageClassPrefix)&&void 0!==e?e:"language-"})},updateDOM(t){t.innerHTML=t.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}})}),ig=f.create({name:"hardBreak"}).extend({addStorage:()=>({markdown:{serialize(t,e,n,s){for(let i=s+1;i<n.childCount;i++)if(n.child(i).type!=e.type)return void t.write(t.inTable?tg.storage.markdown.serialize.call(this,t,e,n):"\\\n")},parse:{}}})}),og=f.create({name:"heading"}).extend({addStorage:()=>({markdown:{serialize:yp.nodes.heading,parse:{}}})}),rg=f.create({name:"horizontalRule"}).extend({addStorage:()=>({markdown:{serialize:yp.nodes.horizontal_rule,parse:{}}})}),ag=f.create({name:"image"}).extend({addStorage:()=>({markdown:{serialize:yp.nodes.image,parse:{}}})}),cg=f.create({name:"listItem"}).extend({addStorage:()=>({markdown:{serialize:yp.nodes.list_item,parse:{}}})});const lg=f.create({name:"orderedList"}).extend({addStorage:()=>({markdown:{serialize(t,e,n,s){const i=e.attrs.start||1,o=String(i+e.childCount-1).length,r=t.repeat(" ",o+2),a=function(t,e,n){let s=0;for(;n-s>0&&e.child(n-s-1).type.name===t.type.name;s++);return s}(e,n,s),c=a%2?") ":". ";t.renderList(e,r,(e=>{const n=String(i+e);return t.repeat(" ",o-n.length)+n+c}))},parse:{}}})}),ug=f.create({name:"paragraph"}).extend({addStorage:()=>({markdown:{serialize:yp.nodes.paragraph,parse:{}}})});function dg(t){var e,n;return null!==(e=null==t||null===(n=t.content)||void 0===n?void 0:n.content)&&void 0!==e?e:[]}const hg=f.create({name:"table"}).extend({addStorage:()=>({markdown:{serialize(t,e,n){!function(t){const e=dg(t),n=e[0],s=e.slice(1);if(dg(n).some((t=>"tableHeader"!==t.type.name||pg(t)||t.childCount>1)))return!1;if(s.some((t=>dg(t).some((t=>"tableHeader"===t.type.name||pg(t)||t.childCount>1)))))return!1;return!0}(e)?tg.storage.markdown.serialize.call(this,t,e,n):(t.inTable=!0,e.forEach(((e,n,s)=>{if(t.write("| "),e.forEach(((e,n,s)=>{s&&t.write(" | ");const i=e.firstChild;i.textContent.trim()&&t.renderInline(i)})),t.write(" |"),t.ensureNewLine(),!s){const n=Array.from({length:e.childCount}).map((()=>"---")).join(" | ");t.write(`| ${n} |`),t.ensureNewLine()}})),t.closeBlock(e),t.inTable=!1)},parse:{}}})});function pg(t){return t.attrs.colspan>1||t.attrs.rowspan>1}const mg=f.create({name:"taskItem"}).extend({addStorage:()=>({markdown:{serialize(t,e){const n=e.attrs.checked?"[x]":"[ ]";t.write(`${n} `),t.renderContent(e)},parse:{updateDOM(t){[...t.querySelectorAll(".task-list-item")].forEach((t=>{const e=t.querySelector("input");t.setAttribute("data-type","taskItem"),e&&(t.setAttribute("data-checked",e.checked),e.remove())}))}}}})}),fg=f.create({name:"taskList"}).extend({addStorage:()=>({markdown:{serialize:ng.storage.markdown.serialize,parse:{setup(t){t.use($f)},updateDOM(t){[...t.querySelectorAll(".contains-task-list")].forEach((t=>{t.setAttribute("data-type","taskList")}))}}}})}),gg=f.create({name:"text"}).extend({addStorage:()=>({markdown:{serialize(t,e){var n;t.text(null==(n=e.text)?void 0:n.replace(/</g,"&lt;").replace(/>/g,"&gt;"))},parse:{}}})}),kg=_.create({name:"bold"}).extend({addStorage:()=>({markdown:{serialize:yp.marks.strong,parse:{}}})}),_g=_.create({name:"code"}).extend({addStorage:()=>({markdown:{serialize:yp.marks.code,parse:{}}})}),bg=_.create({name:"italic"}).extend({addStorage:()=>({markdown:{serialize:yp.marks.em,parse:{}}})}),yg=_.create({name:"link"}).extend({addStorage:()=>({markdown:{serialize:yp.marks.link,parse:{}}})}),vg=_.create({name:"strike"}).extend({addStorage:()=>({markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}})}),Cg=[eg,ng,sg,ig,og,rg,tg,ag,cg,lg,ug,hg,mg,fg,gg,kg,_g,Qf,bg,yg,vg];function Dg(t){var e,n;const s=null===(e=t.storage)||void 0===e?void 0:e.markdown,i=null===(n=Cg.find((e=>e.name===t.name)))||void 0===n?void 0:n.storage.markdown;return s||i?{...i,...s}:null}class Ag{constructor(t){Vf(this,"editor",null),this.editor=t}serialize(t){const e=new Jf(this.nodes,this.marks,{hardBreakNodeName:ig.name});return e.renderContent(t),e.out}get nodes(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map((t=>[t,this.serializeNode(tg)]))),...Object.fromEntries(null!==(t=this.editor.extensionManager.extensions.filter((t=>"node"===t.type&&this.serializeNode(t))).map((t=>[t.name,this.serializeNode(t)])))&&void 0!==t?t:[])}}get marks(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map((t=>[t,this.serializeMark(Qf)]))),...Object.fromEntries(null!==(t=this.editor.extensionManager.extensions.filter((t=>"mark"===t.type&&this.serializeMark(t))).map((t=>[t.name,this.serializeMark(t)])))&&void 0!==t?t:[])}}serializeNode(t){var e;return null===(e=Dg(t))||void 0===e||null===(e=e.serialize)||void 0===e?void 0:e.bind({editor:this.editor,options:t.options})}serializeMark(t){var e;const n=null===(e=Dg(t))||void 0===e?void 0:e.serialize;return n?{...n,open:"function"==typeof n.open?n.open.bind({editor:this.editor,options:t.options}):n.open,close:"function"==typeof n.close?n.close.bind({editor:this.editor,options:t.options}):n.close}:null}}class wg{constructor(t,e){Vf(this,"editor",null),Vf(this,"md",null);let{html:n,linkify:s,breaks:i}=e;this.editor=t,this.md=this.withPatchedRenderer(Bf({html:n,linkify:s,breaks:i}))}parse(t){let{inline:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t){this.editor.extensionManager.extensions.forEach((t=>{var e;return null===(e=Dg(t))||void 0===e||null===(e=e.parse)||void 0===e||null===(e=e.setup)||void 0===e?void 0:e.call({editor:this.editor,options:t.options},this.md)}));const n=Yf(this.md.render(t));return this.editor.extensionManager.extensions.forEach((t=>{var e;return null===(e=Dg(t))||void 0===e||null===(e=e.parse)||void 0===e||null===(e=e.updateDOM)||void 0===e?void 0:e.call({editor:this.editor,options:t.options},n)})),this.normalizeDOM(n,{inline:e,content:t}),n.innerHTML}return t}normalizeDOM(t,e){let{inline:n,content:s}=e;return this.normalizeBlocks(t),t.querySelectorAll("*").forEach((t=>{var e;(null===(e=t.nextSibling)||void 0===e?void 0:e.nodeType)!==Node.TEXT_NODE||t.closest("pre")||(t.nextSibling.textContent=t.nextSibling.textContent.replace(/^\n/,""))})),n&&this.normalizeInline(t,s),t}normalizeBlocks(t){const e=Object.values(this.editor.schema.nodes).filter((t=>t.isBlock)).map((t=>{var e;return null===(e=t.spec.parseDOM)||void 0===e?void 0:e.map((t=>t.tag))})).flat().filter(Boolean).join(",");e&&[...t.querySelectorAll(e)].forEach((t=>{t.parentElement.matches("p")&&function(t){const e=t.parentElement,n=e.cloneNode();for(;e.firstChild&&e.firstChild!==t;)n.appendChild(e.firstChild);n.childNodes.length>0&&e.parentElement.insertBefore(n,e),e.parentElement.insertBefore(t,e),0===e.childNodes.length&&e.remove()}(t)}))}normalizeInline(t,e){var n;if(null!==(n=t.firstElementChild)&&void 0!==n&&n.matches("p")){var s,i,o,r;const n=t.firstElementChild,{nextElementSibling:a}=n,c=null!==(s=null===(i=e.match(/^\s+/))||void 0===i?void 0:i[0])&&void 0!==s?s:"",l=a?"":null!==(o=null===(r=e.match(/\s+$/))||void 0===r?void 0:r[0])&&void 0!==o?o:"";if(e.match(/^\n\n/))return void(n.innerHTML=`${n.innerHTML}${l}`);!function(t){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}(n),t.innerHTML=`${c}${t.innerHTML}${l}`}}withPatchedRenderer(t){const e=t=>function(){const e=t(...arguments);return"\n"===e?e:"\n"===e[e.length-1]?e.slice(0,-1):e};return t.renderer.rules.hardbreak=e(t.renderer.rules.hardbreak),t.renderer.rules.softbreak=e(t.renderer.rules.softbreak),t.renderer.rules.fence=e(t.renderer.rules.fence),t.renderer.rules.code_block=e(t.renderer.rules.code_block),t.renderer.renderToken=e(t.renderer.renderToken.bind(t.renderer)),t}}const Eg=x.create({name:"markdownClipboard",addOptions:()=>({transformPastedText:!1,transformCopiedText:!1}),addProseMirrorPlugins(){return[new D({key:new A("markdownClipboard"),props:{clipboardTextParser:(t,e,n)=>{if(n||!this.options.transformPastedText)return null;const s=this.editor.storage.markdown.parser.parse(t,{inline:!0});return K.fromSchema(this.editor.schema).parseSlice(Yf(s),{preserveWhitespace:!0,context:e})},clipboardTextSerializer:t=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(t.content):null}})]}}),xg=x.create({name:"markdown",priority:50,addOptions:()=>({html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}),addCommands(){const t=J.Commands.config.addCommands();return{setContent:(e,n,s)=>i=>t.setContent(i.editor.storage.markdown.parser.parse(e),n,s)(i),insertContentAt:(e,n,s)=>i=>t.insertContentAt(e,i.editor.storage.markdown.parser.parse(n,{inline:!0}),s)(i)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new wg(this.editor,this.options),serializer:new Ag(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage:()=>({}),addExtensions(){return[Uf.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),Eg.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),Sg=ia.extend({content:`${l} block*`});const Fg=n({name:"NotesEditorTitleBackLinks",components:{NotesEditorBackLinks:n({name:"NotesEditorBackLinks",components:{BaseDropdown:Ot,BaseDropdownContent:It},inject:["activeNote"],setup:()=>({notesStore:Q(),notesViewStateStore:or()}),computed:{activeNoteBackLinks(){return this.notesStore.getBackLinks[this.activeNote.linkKey]??[]}},methods:{setActiveNote(t){t.deleted?this.notesViewStateStore.setActiveView("deleted"):this.notesViewStateStore.setActiveView("list"),this.notesStore.activeItemId=t.id}}},(function(){var t=this,e=t._self._c;return t.activeNoteBackLinks.length>0?e("div",{staticClass:"notes-editor-back-links",attrs:{"data-test":"note-back-links"}},[e("base-dropdown",{attrs:{hover:!0},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("inline-svg",{staticClass:"icon icon-back-link",attrs:{src:Hn}})]},proxy:!0}],null,!1,154415150)},[e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-back-links-tooltip-content"},[e("span",[t._v("Linked to this note")]),e("a",{attrs:{href:"https://get.momentumdash.help/hc/en-us/articles/17665906818839",target:"_blank"}},[t._v("Learn more")])])],1)],2),e("div",{staticClass:"notes-editor-back-links-items"},t._l(t.activeNoteBackLinks,(function(n){return e("button",{key:n.id,staticClass:"notes-editor-back-links-item",attrs:{"data-test":"note-back-links-item"},on:{click:function(e){return t.setActiveNote(n)}}},[t._v(" "+t._s(n.preview)+" ")])})),0)],1):t._e()}),[],!1,null,"a3679321").exports,NodeViewWrapper:X,NodeViewContent:Y},inject:["activeNote"],props:{...tt},computed:{placeholder(){return this.activeNote.draft?et.New:et.None}}},(function(){var t=this._self._c;return t("node-view-wrapper",{ref:"nodeViewWrapper",staticClass:"notes-editor-title-node-view"},[t("node-view-content",{staticClass:"title",attrs:{as:"h1","data-placeholder":this.placeholder}}),t("notes-editor-back-links",{attrs:{contenteditable:"false"}})],1)}),[],!1,null,"486f87b0").exports,Lg=ka.extend({name:l,content:"text*",marks:"",group:l,addAttributes:()=>({levels:[1]}),addCommands:()=>({}),addNodeView:()=>nt(Fg)}),Tg=(()=>{const t=[ec.configure({showOnlyCurrent:!1}),tu,su,ru,hu,gu,bu,nc,ic,Yl],e=[tc.configure({document:!1,horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),Sg,Lg,xg.configure({transformPastedText:!0}),st.configure({renderHTMLWithDOMContent:!0}),...t],n=[tc.configure({horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),st,...t],s=new it({content:"",editable:!0,extensions:e}),i=bt("notesEditor",{state:()=>({cursor:{x:"0px",y:"0px",width:"0px",height:"0px",left:"0px",right:"0px",top:"0px"},controlStates:{bold:!1,italic:!1,strike:!1,bulletList:!1,orderedList:!1,heading:{1:{options:{level:1},value:!1},2:{options:{level:2},value:!1}},link:!1,highlight:!1,underline:!1},selection:{from:0,to:0},bodyEmpty:!0}),getters:{editor:()=>s,selectedText(t){const{from:e,to:n}=t.selection;return s.state.selection.from!==e||s.state.selection.to!==n?"":s.state.doc.textBetween(e,n," ")??""},selectedHTML(t){const{from:e,to:n}=t.selection;return s.state.selection.from!==e||s.state.selection.to!==n?"":G(s.state.doc.cut(e,n).content,s.schema)}},actions:{updateSelection(){this.selection=s.state.selection},updateCursorDetails(){const t=ot(s.view,this.selection.from,this.selection.to),e=s.view.dom.getBoundingClientRect();this.cursor={x:t.x-e.x+"px",y:t.y-e.y+"px",width:`${t.width}px`,height:`${t.height}px`,left:t.left-e.left+"px",right:e.right-t.right+"px",top:t.top-e.top+"px"}},updateControlStates(){Object.entries(this.controlStates).forEach((([t,e])=>{"heading"!==t?this.controlStates[t]=this.editor.isActive(t):Object.values(e).forEach((e=>{e.value=this.editor.isActive(t,e.options)}))}))},updateEditorBodyEmpty(){const t=this.getBodyHTMLContent();this.bodyEmpty=""===t||t===rt.BodyHTML.toString()},setContent(t,e,i=!0){var o,r;const a=at(e,n),c={type:l,...t?{content:[{type:"text",text:t}]}:{}};null==(o=a.content)||o.unshift(c),""===e&&(null==(r=a.content)||r.splice(-1,1)),s.commands.setContent(a),i&&this.resetHistory()},getTitleBodyNodes(){const t=s.state.doc.child(0);return[t,s.state.doc.cut(t.nodeSize)]},getTitleContent(){try{const[t]=this.getTitleBodyNodes();return t.textContent}catch(t){return console.log(t),rt.BodyOrTitleText}},getBodyHTMLContent(t=!1){try{const[,e]=this.getTitleBodyNodes();return t?G(e.content,s.schema):ct(e.toJSON(),n)}catch(e){return console.log(e),rt.BodyHTML}},getBodyTextContent(){try{const[,t]=this.getTitleBodyNodes();return t.textContent}catch(t){return console.log(t),rt.BodyOrTitleText}},getLinkedKeys(){const t=new Set;return s.state.doc.descendants((e=>{e.type.name===st.name&&t.add(e.attrs.key)})),[...t]},resetHistory(){const t=lt.create({doc:s.state.doc,plugins:s.state.plugins,schema:s.state.schema});s.view.updateState(t)},setEditable(t){s.setEditable(t,!1)},updatePlaceholder(){const t=s.extensionManager.extensions.find((t=>"placeholder"===t.name));if(!t)return;const e=dt[Math.round(Math.random()*(dt.length-1))]??"";t.options.placeholder=()=>e},resetSelection(){var t;s.commands.setTextSelection(0),null==(t=window.getSelection())||t.removeAllRanges()},ensureAtLeastParagraphInBody(){var t;(null==(t=s.state.doc.lastChild)?void 0:t.type.name)===l&&s.commands.command((({tr:t,dispatch:e,editor:n})=>{if(!e)return!0;const s=ut({type:"paragraph"},n.schema);return t.setMeta("addToHistory",!1),t.replaceWith(n.state.doc.content.size,n.state.doc.content.size,s),!0}))},focus(){try{const t=s.state.doc.child(0),e=s.state.doc.cut(t.nodeSize);""===t.textContent&&""===e.textContent?s.commands.focus(0):s.commands.focus(t.nodeSize+1)}catch(t){console.error(t),s.commands.focus()}},blur(){s.commands.blur()},toggleBold(){s.chain().focus().toggleBold().run()},toggleItalic(){s.chain().focus().toggleItalic().run()},toggleStrike(){s.chain().focus().toggleStrike().run()},toggleUnderline(){s.chain().focus().toggleUnderline().run()},toggleHighlight(){s.chain().focus().toggleHighlight().run()},toggleBulletList(){s.chain().focus().toggleBulletList().run()},toggleOrderedList(){s.chain().focus().toggleOrderedList().run()},toggleHeading(t){s.chain().focus().toggleHeading({level:t}).run()},unsetAllMarks(){s.chain().focus().unsetAllMarks().run()},createNoteLink(t,e){s.chain().focus().insertContentAt(e,[{type:st.name,attrs:{key:t}}]).run()}}}),r=i();return s.on("selectionUpdate",(()=>{r.updateSelection(),r.updateControlStates(),r.updateCursorDetails()})),s.on("update",(()=>{r.updateControlStates(),r.updateCursorDetails(),r.ensureAtLeastParagraphInBody()})),s.on("transaction",(()=>{r.updateEditorBodyEmpty()})),r.updatePlaceholder(),yt(o.windowDimensions,(()=>r.updateCursorDetails()),{deep:!0}),i})();const Mg={name:"NotesEditor",components:{NotesEditorLinkSuggestion:n({name:"NotesEditorLinkSuggestion",components:{BaseDropdownText:ir,BaseDropdownDivider:er,BaseDropdownOption:zt,BaseDropdown:Ot},inject:["notesEditorElement"],setup:()=>({editorViewStateStore:Br(),editorStore:Tg(),notesStore:Q(),dropdown:vt(),range:null,destroyEscapeEvent:!0,DropdownPosition:Nt,DropdownAlignment:jt}),data:()=>({activeOptionIndex:0,query:null,visible:!1}),computed:{items(){return null===this.query?[]:Object.values(this.notesStore.getItems).filter((t=>t.id!==this.notesStore.activeItemId&&t.preview.toLowerCase().includes(this.query.toLowerCase()))).slice(0,5)},itemsVisible(){return this.items.length>0},newNoteOptionVisible(){return!!this.query},activeNote(){return this.notesStore.getItems[this.notesStore.activeItemId]}},watch:{visible(){this.visible?this.activateSuggestion():this.deactivateSuggestion()},items(){this.activeOptionIndex=0}},mounted(){this.editorStore.editor.on("selectionUpdate",this.updateDropdownPosition),this.editorStore.editor.on("transaction",this.updateDataFromLinkState)},destroyed(){this.editorStore.editor.off("selectionUpdate",this.updateDropdownPosition),this.editorStore.editor.off("transaction",this.updateDataFromLinkState)},methods:{openDropdown(){var t;null==(t=this.dropdown)||t.openDropdown()},closeDropdown(){var t;null==(t=this.dropdown)||t.closeDropdown()},addEvents(){rr.registerEventListener("setDropdownOptionPrev","keydown",38,(()=>this.setOptionAdjacent(-1))),rr.registerEventListener("setDropdownOptionNext","keydown",40,(()=>this.setOptionAdjacent(1))),rr.registerEventListener("selectOrCreateOption","keydown",13,this.selectOrCreateNoteAtOption),rr.registerEventListener("closeSuggestionDropdown","keyup",27,(()=>{rr.removeEventListener("closeSuggestionDropdown","keyup",27)}))},removeEvents(){rr.removeEventListener("setDropdownOptionPrev","keydown",38),rr.removeEventListener("setDropdownOptionNext","keydown",40),rr.removeEventListener("selectOrCreateOption","keydown",13),this.destroyEscapeEvent?rr.removeEventListener("closeSuggestionDropdown","keyup",27):this.destroyEscapeEvent=!0},deactivateSuggestion(){this.removeEvents(),this.closeDropdown()},activateSuggestion(){this.addEvents(),this.openDropdown()},updateDropdownPosition(){var t;this.$nextTick().then(null==(t=this.dropdown)?void 0:t.forceUpdateDropdownPosition)},async selectNote(t){this.range&&(t.linkKey||(t.linkKey=ar(),await this.notesStore.update(t.id,{linkKey:t.linkKey},{updateDate:!1})),this.editorStore.createNoteLink(t.linkKey,this.range))},async selectOrCreateNoteAtOption(){this.activeOptionIndex!==this.items.length?await this.selectNote(this.items[this.activeOptionIndex]):await this.createNewNote()},async createNewNote(){if(!this.query)return;const t=this.notesStore.create();await this.notesStore.update(t.id,{title:this.query},{updateDate:!1}),await this.selectNote(t)},setOptionAdjacent(t){const e=this.items.length+(this.newNoteOptionVisible?1:0);this.activeOptionIndex=((this.activeOptionIndex+t)%e+e)%e},updateDataFromLinkState({editor:t}){const e=ht.getState(t.state);this.visible=e.active,this.query=e.query,this.range=e.range,this.visible||"Escape"!==e.prevKeyPressed||(this.destroyEscapeEvent=!1)}}},(function(){var t=this,e=t._self._c;return e("base-dropdown",{ref:"dropdown",staticClass:"notes-editor-link-suggestion",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.DropdownAlignment.Left,position:t.DropdownPosition.Bottom,"nipple-alignment-offset":16,"scroll-target":t.notesEditorElement,"use-toast-mobile":!1,"max-width":"15rem","container-data-test":"link-suggestion-container"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-editor-link-suggestion-toggle"})]},proxy:!0}])},[t.itemsVisible?[e("base-dropdown-text",{attrs:{"is-title":""}},[t._v(" Link to note ")]),t._l(t.items,(function(n,s){return e("base-dropdown-option",{key:n.id,attrs:{active:t.activeOptionIndex===s,"data-test":"existing-suggestion"},on:{click:function(e){return t.selectNote(n)}}},[e("inline-svg",{staticClass:"icon icon-note",attrs:{src:ys}}),e("span",{staticClass:"u--text-no-wrap"},[t._v(t._s(n.preview))])],1)}))]:t._e(),t.itemsVisible&&t.newNoteOptionVisible?e("base-dropdown-divider"):t._e(),t.newNoteOptionVisible?[e("base-dropdown-text",{attrs:{"is-title":""}},[t._v(" New note ")]),e("base-dropdown-option",{attrs:{active:t.activeOptionIndex===t.items.length},on:{click:function(e){return t.createNewNote()}}},[e("inline-svg",{staticClass:"icon icon-plus",attrs:{src:We}}),e("span",{staticClass:"u--text-no-wrap"},[t._v("New note: "+t._s(t.query))])],1)]:t._e(),t.itemsVisible||t.newNoteOptionVisible?t._e():[e("base-dropdown-text",[t._v(" No notes found ")])]],2)}),[],!1,null,"5a7ea080").exports,NotesEditorAi:Rr,NotesEditorToolbar:Ir,EditorContent:pt},provide(){return{notesEditorElement:Ct((()=>this.editorElement))}},inject:["itemStore","viewStateStore","editorStore","activeNote"],props:{focusOnCreated:{type:Boolean,default:!0}},data:()=>({restoreBannerActive:!1,editorElement:null}),computed:{windowDimensions:()=>o.windowDimensions,cursor(){return this.editorStore.cursor}},watch:{"activeNote.id":{handler(t){t&&this.activeNote&&(this.editorStore.updatePlaceholder(),this.updateEditorWithActiveNote()),this.restoreBannerActive=!1},immediate:!0},"activeNote.updatedDate"(){const t=this.editorStore.getTitleContent(),e=this.editorStore.getBodyHTMLContent();this.editorStore.editor.isFocused||this.activeNote.body===e&&this.activeNote.title===t||this.updateEditorWithActiveNote()},"activeNote.deleted"(t){!t&&this.restoreBannerActive&&(this.restoreBannerActive=!1)}},created(){this.editorStore.editor.on("update",this.onUpdate),this.editorStore.editor.on("blur",this.onBlur),this.editorStore.editor.on("focus",this.onFocus),this.updateEditorWithActiveNote(),this.focusOnCreated&&this.focus()},mounted(){this.editorElement=this.$refs["notes-editor"]},beforeDestroy(){const t=this.$refs["editor-content"].$el,e=document.createElement("div");t.before(e),e.outerHTML=t.outerHTML,e.style.display="none",this.editorStore.editor.off("update",this.onUpdate),this.editorStore.editor.off("blur",this.onBlur),this.editorStore.editor.off("focus",this.onFocus)},methods:{save(){this.viewStateStore.activeItemId=this.activeNote.id;const t=this.editorStore.getTitleContent(),e=this.editorStore.getBodyHTMLContent(),n=this.editorStore.getLinkedKeys(),s=this.itemStore.getUpdatedProperties(this.activeNote.id,{title:t,body:e,linkedKeys:n});!this.activeNote.deleted&&Object.keys(s).length&&this.itemStore.update(this.activeNote.id,s)},restore(){this.itemStore.restore(this.activeNote.id),this.viewStateStore.setActiveView("list"),this.editorStore.focus()},onUpdate(){if(m.conditionalFeatures.featureEnabled("notes-degraded"))return m.cmd("modal.open","UPSELL_NOTES",{eventSource:"dash"}),this.editorStore.editor.commands.undo(),void this.editorStore.editor.commands.blur();clearTimeout(this.saveDebounce),this.saveDebounce=setTimeout((()=>{this.save()}),mt)},onBlur(){clearTimeout(this.saveDebounce),this.save()},onFocus(){this.activeNote.deleted&&(this.restoreBannerActive=!0)},updateEditorWithActiveNote(){var t,e,n;this.editorStore.setEditable(!((null==(t=this.activeNote)?void 0:t.deleted)??1)),this.editorStore.setContent((null==(e=this.activeNote)?void 0:e.title)??"",(null==(n=this.activeNote)?void 0:n.body)??"")},focus(){this.editorStore.focus()}}},zg=()=>{Dt(((t,e)=>({"4c776817":t.cursor.x,"4c776818":t.cursor.y,"6f9c14e8":t.cursor.height,"182aa436":t.cursor.width,"7b762008":t.cursor.left,"18b77b8a":t.cursor.right,"65f11dec":t.cursor.bottom,"0c3dbd34":t.cursor.top})))},Bg=Mg.setup;Mg.setup=Bg?(t,e)=>(zg(),Bg(t,e)):zg;const Ig=n(Mg,(function(){var t=this,e=t._self._c;return e("div",{ref:"notes-editor",staticClass:"notes-editor"},[t.restoreBannerActive?e("div",{staticClass:"message"},[t._v(" Restore this note to edit. "),e("span",{staticClass:"button restore-note",on:{click:t.restore}},[t._v("Restore")])]):t._e(),e("editor-content",{ref:"editor-content",staticClass:"editor",attrs:{"data-test":"editor",editor:t.editorStore.editor}}),t.activeNote.deleted?t._e():[e("notes-editor-toolbar"),e("notes-editor-ai",{attrs:{"active-note":t.activeNote}}),e("notes-editor-link-suggestion")]],2)}),[],!1,null,"da375b3f").exports;const Og=n({name:"NotesHeaderAi",components:{AppHeaderControl:Rt,NotesAiHistory:Nr,NotesAiActions:Hr},inject:["viewStateStore","editorStore"],props:{activeNote:{type:Object,default:null},disabled:{type:Boolean,default:!1}},unreactive:()=>({DropdownAlignment:jt}),data:()=>({actionsOpen:!1,historyOpen:!1}),computed:{fullscreen(){return this.viewStateStore.fullscreen}},watch:{fullscreen(){this.closeDropdowns()}},methods:{openHistoryDropdown(){var t;null==(t=this.$refs["notes-ai-history"])||t.openDropdown(),this.historyOpen=!0},closeHistoryDropdown(){var t;null==(t=this.$refs["notes-ai-history"])||t.closeDropdown(),this.historyOpen=!1},openActionsDropdown(){var t;null==(t=this.$refs["notes-ai-actions"])||t.openDropdown(),this.actionsOpen=!0},closeActionsDropdown(){var t;null==(t=this.$refs["notes-ai-actions"])||t.closeDropdown(),this.actionsOpen=!1},closeDropdowns(){this.closeActionsDropdown(),this.closeHistoryDropdown()},onHeaderAiClick(){this.actionsOpen||this.historyOpen?this.closeDropdowns():(this.openActionsDropdown(),this.editorStore.resetSelection())},actionClicked(){this.closeActionsDropdown(),this.openHistoryDropdown()}}},(function(){var t=this,e=t._self._c;return e("app-header-control",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropdowns,expression:"closeDropdowns"}],staticClass:"notes-header-ai",attrs:{"data-test":"notes-header-ai",disabled:t.disabled},on:{click:t.onHeaderAiClick}},[e("div",{staticClass:"notes-header-ai-content"},[e("div",{staticClass:"notes-header-ai-content-toggle"},[e("inline-svg",{staticClass:"icon icon-ai",attrs:{src:_n}}),e("span",{staticClass:"ai-label"},[t._v("AI")]),e("inline-svg",{staticClass:"icon icon-chevron-down",attrs:{src:Ps}})],1),t.activeNote?e("notes-ai-history",{ref:"notes-ai-history",attrs:{alignment:t.DropdownAlignment.Left,"append-to-end":!0},on:{close:t.closeDropdowns,toggle:function(e){t.historyOpen=e}}}):t._e(),t.activeNote?e("notes-ai-actions",{ref:"notes-ai-actions",attrs:{"active-note":t.activeNote,"use-ai-header":!1,alignment:t.DropdownAlignment.Left},on:{"action:history":t.actionClicked,toggle:function(e){t.actionsOpen=e}}}):t._e()],1)])}),[],!1,null,"84757636").exports,Ng=((t=ft().noteAiService)=>bt("notesAi",{state:()=>({data:[],activeIndex:0,activeAction:null,activeActionLabel:null,languages:{data:[],loading:!1,loaded:!1},loading:!1,loaded:!1,error:null}),getters:{activeHistoryData:t=>t.data[t.activeIndex]??{result:""}},actions:{async runActiveRequest(e){if(e&&(this.activeAction=()=>t.request(e.id,e.type,e.data),this.activeActionLabel=e.type),!this.activeAction||!this.activeActionLabel)throw new Error("Unable to run active action! No current or previous action and label defined.");let n={result:""},s=null;try{this.loading=!0,this.error=null,n=await this.activeAction(),""===n.result?s=new hr:this.appendToHistory(n)}catch(i){s=i}finally{this.loading=!1,this.loaded=!0}return s&&(this.error=r(s,{default:h.ErrorAiRequestHistory})),n},appendToHistory(t){this.activeIndex=this.data.length,this.data.push(t)},async getLanguages(){this.languages.loading||this.languages.loaded||(this.languages.loading=!0,this.languages.data=await t.getLanguages(),this.languages.loading=!1,this.languages.loaded=!0)},reset(){this.activeAction=null,this.activeActionLabel=null,this.loading=!1,this.loaded=!1,this.error=null,this.activeIndex=0,this.data=[]}}}))(),jg=At({name:"LazyRender",props:{placeholderHeight:{type:String,required:!0}},setup(){const t=vt(!1),e=vt(),{stop:n}=ur(e,(([e])=>{const{isIntersecting:s}=e??{};s&&(t.value=!0,n())}),{rootMargin:o.windowDimensions.height/4+"px"});return{targetElement:e,shouldRender:t}},render(t){var e,n;if(!this.shouldRender){return t("div",{ref:"targetElement",style:{minHeight:this.placeholderHeight}})}return t({functional:!0,render:(t,e)=>e.props.vNodes},{attrs:{vNodes:(null==(n=(e=this.$scopedSlots).default)?void 0:n.call(e,{}))??[]}})}}),Hg=()=>o.windowDimensions.width<850;const Rg=n({name:"NotesApp",components:{LazyRender:jg,BaseDropdownDivider:er,NotesHeaderAi:Og,NotesEditor:Ig,BaseDropdownContent:It,BaseDropdown:Ot,AppHeaderControl:Rt,BaseItemList:Bt,BaseDropdownOption:zt,AppEmpty:Ft,AppLoading:St,NoteListItem:Sr,AppPopup:xt,AppView:Et,AppViewSwitchStatic:xr,AppHeader:Lt,AppSearch:Fr},inject:["viewStateStore"],provide(){return{itemStore:this.notesStore,editorStore:this.notesEditorStore,editorViewStateStore:this.notesEditorViewStateStore,aiStore:this.notesAiStore,activeNote:Ct((()=>this.activeNote))}},data(){return{searchString:"",searchFocused:!1,sidebarOpen:!Hg()&&this.getStorageSidebarState()}},computed:{...wt(Q,Br,Tg,Ng),condensed:Hg,empty(){return this.loaded&&!Object.keys(this.notes).length},loading(){return this.notesStore.loading},loaded(){return this.notesStore.loaded},error(){return this.notesStore.error},deletedListActive(){return"deleted"===this.activeViewId},emptyStateProps(){return this.searchString?{description:"No notes found.",buttonText:"New Note"}:this.deletedListActive?{description:"No deleted notes yet.",buttonText:"Back To List"}:{title:"Take quick notes and store wisdom to view later.",description:"No notes yet. Add a note to get started!",buttonText:"New Note"}},activeListNotes(){return this.deletedListActive?this.notesStore.getDeletedItems:this.notesStore.getItems},notes(){const t=this.activeListNotes;if(this.searchString.length){const e={},n=this.searchString.toLowerCase();return Object.entries(this.notesSearchableContent).forEach((([s,i])=>{i.includes(n)&&(e[s]=t[s])})),e}return t},activeViewId(){return this.viewStateStore.activeViewId},activeView(){return this.viewStateStore.activeView},activeNoteId:{get(){return this.notesStore.activeItemId},set(t){this.notesStore.activeItemId=t}},activeNote(){return this.activeListNotes[this.activeNoteId]},activeNoteLastUpdatedDateString(){if(!this.activeNote)return"";const t=new Date(this.activeNote.updatedDate);return m.utils.formatMonthDayRelative(t,!1)+m.utils.formatYearRelative(t)+" at "+m.utils.formatTime(t)},fullscreen:{get(){return cr.notesFullscreen&&!this.$touch},set(t){lr.notesFullscreen=t}},notesSearchableContent(){return Object.entries(this.notesStore.getItems).reduce(((t,[e,n])=>{var s;return t[e]=`${(null==(s=n.title)?void 0:s.toLowerCase())??""} ${n.bodyTextContent.toLowerCase()}`,t}),{})}},unreactive:()=>({DropdownAlignment:jt,AppHeaderCloseOn:Tt}),watch:{activeNote(t){t||this.notesStore.clearActiveItem()},searchString(){this.notesStore.clearActiveItem()},searchFocused(){this.searchFocused||this.toggleSidebar(!this.condensed&&this.getStorageSidebarState())},notes(){var t;this.activeNoteId||(this.notesStore.activeItemId=null==(t=Object.values(this.notes)[0])?void 0:t.id)},deletedListActive(){this.deletedListActive&&this.refreshDeletedNotes()},activeNoteId(){this.searchFocused||this.$nextTick(this.focusNotePad)}},created(){this.loaded||this.notesStore.refresh()},mounted(){m.on("globalEvent:metaBracketLeft",this.setNotePrev),m.on("globalEvent:metaBracketRight",this.setNoteNext),m.on("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.on("globalEvent:metaBackSlash",this.toggleSidebar),m.on("globalEvent:metaCtrlN",this.createNote)},destroyed(){m.off("globalEvent:metaBracketLeft",this.setNotePrev),m.off("globalEvent:metaBracketRight",this.setNoteNext),m.off("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.off("globalEvent:metaBackSlash",this.toggleSidebar),m.off("globalEvent:metaCtrlN",this.createNote),m.on("modal:showUpgrade",this.closePopup)},methods:{setActiveView(t){this.searchString="",this.viewStateStore.setActiveView(t),this.notesStore.clearActiveItem()},deleteNote(){this.notesStore.delete(this.activeNoteId),this.notesStore.clearActiveItem(),this.closeDeleteConf()},closeDeleteConf(){var t;null==(t=this.$refs["delete-dropdown"])||t.closeDropdown()},focusNotePad(){var t;null==(t=this.$refs["notes-editor"])||t.focus(),this.condensed&&(this.sidebarOpen=!1)},createNote(){if(m.conditionalFeatures.featureEnabled("notes-degraded"))return this.notesEditorStore.blur(),void m.cmd("modal.open","UPSELL_NOTES",{eventSource:"dash"});this.searchString="";const t=this.notesStore.create();this.activeNoteId=t.id,this.deletedListActive&&this.setActiveView("list"),this.$nextTick(this.focusNotePad)},restoreNote(){this.notesStore.restore(this.activeNoteId),this.setActiveView("list"),this.$nextTick(this.focusNotePad)},refreshDeletedNotes(){this.notesStore.refresh(!0)},enterFullscreen(){this.fullscreen=!0,this.notesEditorStore.resetSelection()},exitFullscreen(){this.fullscreen=!1,this.notesEditorStore.resetSelection()},closePopup(){this.viewStateStore.togglePopup(!1)},getStorageSidebarState:()=>a.getLocalStorageBool(gt,!0),saveStorageSidebarState(){localStorage.setItem(gt,this.sidebarOpen)},toggleSidebar(t,e={saveInStorage:!0}){t="boolean"==typeof t?t:void 0,this.sidebarOpen=t??!this.sidebarOpen,e.saveInStorage&&this.saveStorageSidebarState(),this.notesEditorStore.resetSelection()},setNoteAdjacent(t){this.$refs["notes-editor"].save();const e=Object.keys(this.notes),n=e.indexOf(this.activeNoteId),s=e.length;const i=e[((n+t)%s+s)%s];i&&(this.activeNoteId=i)},setNoteNext(){this.setNoteAdjacent(1)},setNotePrev(){this.setNoteAdjacent(-1)},toggleSearchFocused(){var t;const e=!this.condensed&&this.getStorageSidebarState();this.toggleSidebar(!this.searchFocused||e,{saveInStorage:!1}),this.searchFocused?this.$nextTick().then(this.focusNotePad):null==(t=this.$refs.search)||t.select()},openHelpPage(){window.open(kt,"_blank")},openMarkdownGuide(){window.open(_t,"_blank")},closeEditorDropdowns(){this.notesEditorStore.resetSelection(),this.notesEditorViewStateStore.setActiveView(zr.ToolbarDefault)}}},(function(){var t=this,e=t._self._c;return e("app-popup",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeEditorDropdowns,expression:"closeEditorDropdowns"}],ref:"popup",staticClass:"notes-app",class:{"sidebar-open":t.sidebarOpen},attrs:{position:"top-left",region:"bottom-right",width:t.condensed?750:950,fullscreen:t.fullscreen,"hide-apps-exclusions":".apps .notes","data-test":"notes-app",focused:t.viewStateStore.focused},on:{close:t.closePopup},nativeOn:{click:function(e){return t.viewStateStore.focus()}},scopedSlots:t._u([{key:"default",fn:function({showFullscreenElements:n}){return[e("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"}},[t.loading&&!t.loaded?e("app-loading"):t.error?e("app-empty",{attrs:{title:"Oops! Something went wrong",description:"Please reload the tab and try again"}}):t.loaded?e("div",{staticClass:"app-content"},[e("app-view-switch-static",{staticClass:"list-switcher",attrs:{"order-key":t.activeView.order,"data-test":"list-view"}},[t.deletedListActive?t.deletedListActive?e("app-view",{staticClass:"list deleted-list",scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{scopedSlots:t._u([{key:"left",fn:function(){return[e("app-header-control",{on:{click:function(e){return t.setActiveView("list")}}},[e("inline-svg",{staticClass:"icon icon-back",attrs:{src:xe}})],1)]},proxy:!0},{key:"center",fn:function(){return[t._v(" Deleted ")]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"deleted-description"},[t._v(" Automatically removed "),e("br"),t._v(" after 2 weeks ")]),e("base-item-list",t._l(t.notesStore.getDeletedItems,(function(n){return e("note-list-item",{key:n.id,attrs:{active:t.activeNoteId===n.id,note:n},nativeOn:{click:function(e){t.activeNoteId=n.id}}})})),1)]},proxy:!0}],null,!0)}):t._e():e("app-view",{staticClass:"list notes-list",scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"show-close-button-on":t.AppHeaderCloseOn.None},scopedSlots:t._u([{key:"left",fn:function(){return[e("app-search",{ref:"search",on:{enter:t.toggleSearchFocused,up:t.setNotePrev,down:t.setNoteNext,focus:function(e){t.searchFocused=!0},blur:function(e){t.searchFocused=!1}},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}})]},proxy:!0},{key:"right",fn:function(){return[e("base-dropdown",[e("base-dropdown-option",{on:{click:function(e){return t.setActiveView("deleted")}}},[e("inline-svg",{staticClass:"icon icon-trash",attrs:{src:Ts}}),t._v(" Deleted ")],1),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.openHelpPage}},[e("inline-svg",{staticClass:"icon icon-help",attrs:{src:oe}}),t._v(" Help ")],1),e("base-dropdown-option",{on:{click:t.openMarkdownGuide}},[e("inline-svg",{staticClass:"icon icon-help",attrs:{src:oe}}),t._v(" Markdown guide ")],1)],1)]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[e("base-item-list",{ref:"notesList"},t._l(t.notes,(function(n){return e("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem"}},[e("note-list-item",{attrs:{active:t.activeNoteId===n.id,note:n},nativeOn:{click:function(e){t.activeNoteId=n.id}}})],1)})),1)]},proxy:!0}],null,!0)})],1),e("app-view",{staticClass:"note-detail",attrs:{overlay:t.condensed&&t.sidebarOpen},on:{overlayClick:function(e){t.sidebarOpen=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"show-close-button-on":n?t.AppHeaderCloseOn.All:t.AppHeaderCloseOn.Mobile},on:{close:t.closePopup},scopedSlots:t._u([{key:"left",fn:function(){return[e("app-header-control",{staticClass:"sidebar-toggle",attrs:{"data-test":"toggle-fullscreen-list-view"},on:{click:t.toggleSidebar}},[e("inline-svg",{staticClass:"icon icon-sidebar",attrs:{src:bs}})],1),e("notes-header-ai",{attrs:{disabled:t.deletedListActive||t.notesEditorStore.bodyEmpty,"active-note":t.activeNote}})]},proxy:!0},{key:"center",fn:function(){return[e("span",{staticClass:"last-edited-title"},[t._v(t._s(t.activeNoteLastUpdatedDateString))])]},proxy:!0},{key:"right",fn:function(){return[e("app-header-control",{staticClass:"new",attrs:{"data-test":"new-note"},on:{click:t.createNote}},[e("inline-svg",{staticClass:"icon icon-plus",attrs:{src:We}})],1),t.deletedListActive?e("app-header-control",{staticClass:"restore",attrs:{disabled:!t.activeNote},on:{click:t.restoreNote}},[e("inline-svg",{staticClass:"icon icon-restore",attrs:{src:fs}})],1):e("base-dropdown",{ref:"delete-dropdown",class:{disabled:!t.activeNote},attrs:{"container-class":"app","data-test":"delete",alignment:t.DropdownAlignment.Right,"max-width":"250px"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"icon-wrapper more-toggle"},[e("inline-svg",{staticClass:"icon icon-trash",attrs:{src:Ts}})],1)]},proxy:!0},{key:"contentOverride",fn:function(){return[e("base-dropdown-content",{staticClass:"delete-confirm"},[e("div",{staticClass:"text"},[t._v(" Are you sure you would like to delete this note? ")]),e("div",{staticClass:"buttons"},[e("div",{staticClass:"button button-confirm",attrs:{"data-test":"confirm-delete"},on:{click:t.deleteNote}},[t._v("Yes")]),e("div",{staticClass:"button button-neutral",on:{click:t.closeDeleteConf}},[t._v("No")])])])]},proxy:!0}],null,!0)}),t.$touch?t._e():[t.fullscreen?e("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:t.exitFullscreen}},[e("inline-svg",{staticClass:"icon icon-collapse",attrs:{src:Ms}})],1):e("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:t.enterFullscreen}},[e("inline-svg",{staticClass:"icon icon-expand",attrs:{src:xs}})],1)]]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[t.empty?e("app-empty",t._b({on:{buttonClick:function(e){t.deletedListActive?t.setActiveView("list"):t.createNote()}}},"app-empty",t.emptyStateProps,!1)):e("notes-editor",{ref:"notes-editor",attrs:{"focus-on-created":!t.searchFocused}})]},proxy:!0}],null,!0)})],1):t._e()],1)]}}])})}),[],!1,null,"aa6606dd").exports;export{Rg as default};