import{u as r}from"./promisifiedChrome-CheD9WtZ.js";import{M as a}from"./timestampDb-sTUCijT1.js";import{d as i}from"./ResizeSensor-CXS_pGRc.js";import{p as e}from"./dashboard-CF_jRhAY.js";var s=(r=>(r.Plus="subscribed",r.TrialingCardless="trialingCardless",r.TrialingCard="trialingCard",r.ExpiredTrial="expiredTrial",r.ExpiredPlus="expiredPlus",r.Free="free",r))(s||{});const t=e((({loadedRef:a,loadingRef:e,refresh:s})=>i("userSubscriptionSummary",{state:()=>({active:!1,error:null,firstSubscriptionStart:null,hasPaymentMethod:!1,intent:null,pastDue:!1,subscriptionEnd:null,trialEnd:null,trialing:!1}),getters:{loaded:()=>a.value,loading:()=>e.value,status:r=>r.trialing&&r.hasPaymentMethod?"trialingCard":r.trialing&&!r.hasPaymentMethod?"trialingCardless":r.active?"subscribed":r.subscriptionEnd?"expiredPlus":r.trialEnd?"expiredTrial":"free",trialRemainingDays:a=>r.dateDiffIntegerDays(Date.now(),a.trialEnd??Date.now())},actions:{async refresh(){await s()}}})),{path:"user/subscription_summary",mode:a.Timestamp});export{s as S,t as u};