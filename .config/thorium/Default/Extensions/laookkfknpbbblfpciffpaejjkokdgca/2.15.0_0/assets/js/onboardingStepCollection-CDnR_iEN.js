const __vite__fileDeps=["assets/js/Tour-CpLZEvSZ.js","assets/js/MaskedOverlay-wuesr0Jl.js","assets/js/promisifiedChrome-CheD9WtZ.js","assets/js/timestampDb-sTUCijT1.js","assets/js/Logger-Dqn8sDPg.js","assets/js/environmentVariables-Cy83xda0.js","assets/js/ResizeSensor-CXS_pGRc.js","assets/js/preload-helper-D7CfCCEq.js","assets/js/string-KTo4Qfpe.js","assets/css/MaskedOverlay-C01LoBAu.css","assets/js/VueBase-CjPGMLuv.js","assets/js/dashboard-CF_jRhAY.js","assets/js/main--IJuvtTE.js","assets/js/localStorage-B4mFdj8F.js","assets/js/migrateLegacyUserMessageHandler-CU6TUnqH.js","assets/css/dashboard-C0DDMXTO.css","assets/js/index-CJJH83pl.js","assets/js/itemModelMixin-BHakSWl-.js","assets/js/reactiveCustomization-CrL2eTrh.js","assets/js/namesMixin-EAvqmdCw.js","assets/js/itemDataServiceMixins-R3DPkCUM.js","assets/js/focusModeHelpers-Cqkll3ju.js","assets/js/arrow-B0GpGOd-.js","assets/js/LinksService-BV1Om5gI.js","assets/js/icon-next-B4hjdiAA.js","assets/js/authService-B5VliZ3K.js","assets/js/SubscriptionSummary-Bb_CwKvU.js","assets/js/icon-confetti-Dz2LojDe.js","assets/js/siteBlockerGroups-1V1XRNi6.js","assets/js/constants-D-OQQ8lR.js","assets/js/compareObjects-BF7sSNEf.js","assets/css/Tour-COwPxrox.css","assets/js/TourIntro-CiSmUj67.js","assets/js/SmoothReflow-B3dWZqEj.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/css/TourIntro-BabdSBof.css","assets/js/TourEnd-10CKxJIC.js","assets/css/TourEnd-C8zUouwj.css","assets/js/TrialSignUp-BkpNuvz-.js","assets/js/Modal-BYHlx760.js","assets/js/ModalBanner-DpVzvVKq.js","assets/js/icon-back-D_TFrgyJ.js","assets/js/icon-close-BUGl_M7j.js","assets/css/ModalBanner-DKI28RmB.css","assets/css/Modal-Cy5F9it1.css","assets/js/Sidebar-_r5q6tnS.js","assets/js/PlusBenefits-BpoeVvVL.js","assets/js/star-KworSO8x.js","assets/css/PlusBenefits-CwNFXPJZ.css","assets/css/Sidebar-BdUi8KpK.css","assets/js/Email-VqAdRHX1.js","assets/js/SoftFocus-BUhesXB-.js","assets/css/Email-Ch_wTOYP.css","assets/js/ChoosePlan-Dx_z9_7P.js","assets/js/icon-check-Vc9B11BJ.js","assets/css/ChoosePlan-CG402h2E.css","assets/js/Upgrade-CudFDXBe.js","assets/css/Upgrade-CVOyoKt2.css","assets/js/Thanks-wjdUm54v.js","assets/js/thanks-DfYnO-qW.js","assets/css/Thanks-BsFQS229.css","assets/js/AiChatUpsell-szw33OSX.js","assets/js/UpsellModal-wV3PPpwG.js","assets/js/icon-clean-rFsPxTtp.js","assets/css/UpsellModal-DbtPa54v.css","assets/js/secure-B8YP-AML.js","assets/css/AiChatUpsell-7quKWVEd.css","assets/js/AutofocusUpsell-DvbkWXJ1.js","assets/js/icon-focused-JrsBbR-K.js","assets/js/icon-flow-5QqmGIWX.js","assets/js/icon-integrations-Y-aXZTst.js","assets/js/BalanceModeUpsell-DdPVAr_W.js","assets/js/icon-hourly-CdMmiQZT.js","assets/js/icon-percent-schedule-CA5EI9b7.js","assets/js/CountdownsUpsell-Dcg2C7pe.js","assets/js/icon-time-sensitive-CP2L3maw.js","assets/js/FocusModeUpsell-CgNeT4jh.js","assets/js/focusModeSession-CRoTxvk7.js","assets/js/appDefinitions-C9Bxo8FM.js","assets/js/scenes-Bti57oYU.js","assets/js/wind-D3u4taeq.js","assets/js/focus-mode-09pIyYAW.js","assets/js/icon-spiral-gh4hwZDD.js","assets/css/FocusModeUpsell-4FLnd2i2.css","assets/js/FocusModeUpsellExperimental-BdLsWFxZ.js","assets/js/globalKeyEventManager-KbJZwtdf.js","assets/js/close-D7GCNZxm.js","assets/css/FocusModeUpsellExperimental-DafZxFML.css","assets/js/MantrasUpsell-BTPYW6kN.js","assets/js/icon-personalize-n8qjJGGA.js","assets/js/icon-skip-Bd6EhalI.js","assets/js/icon-random-375DbcwF.js","assets/css/MantrasUpsell-B_SY1GJM.css","assets/js/MetricsUpsell-DVzziei5.js","assets/js/icon-top-of-mind-B6EhbCcK.js","assets/js/MultiTodoUpsell-BgpuC1HL.js","assets/js/icon-more-lists-Dg-hN7s6.js","assets/js/icon-kanban-Dodqg7y-.js","assets/js/NotesUpsell-Ch0WC23c.js","assets/js/sparks-CAw9b6ob.js","assets/js/PhotosUpsell-CdKHCOpn.js","assets/js/icon-personalize-photos-D2M4lLlt.js","assets/js/icon-photo-match-C2EChNEK.js","assets/js/PomodoroUpsell-4YiRi6tZ.js","assets/js/icon-focus-stats-keERwXFt.js","assets/js/QuotesUpsell-I6TrNpsb.js","assets/css/QuotesUpsell-D-fm6q5c.css","assets/js/SoundscapesUpsell-BbdXeMQD.js","assets/js/icon-happy-place-D1z6CJgM.js","assets/js/TabGroupsUpsell-D9zw6gzR.js","assets/js/icon-simplify-BRUtLJYp.js","assets/js/icon-infinity-D4yMRoAd.js","assets/css/TabGroupsUpsell-DJiFrlDo.css","assets/js/TabStashUpsell-Btrny9Kr.js","assets/js/icon-sync-DIH26Y9h.js","assets/js/ThemesUpsell-Dl_Nf7Ru.js","assets/js/icon-more-fonts-CcfOY0t4.js","assets/js/TodoIntegrationsUpsell-DpRfm5rR.js","assets/js/icon-trello-BoqqWb7o.js","assets/js/icon-easy-access-BZifTR0C.js","assets/js/icon-weather-extra-ufLpT_SX.js","assets/js/icon-timezones-DGZoTtaT.js","assets/css/TodoIntegrationsUpsell-BLIhllsH.css","assets/js/WeatherUpsell-DKidqy2y.js","assets/js/WorldClocksUpsell-Cixh8dt-.js","assets/js/PlusGateUpsell-CfnWhq0C.js","assets/css/PlusGateUpsell-DEX5HrX8.css","assets/js/TabStashOnboarding-Cx4nSOQ9.js","assets/css/TabStashOnboarding-B7VzfiRA.css","assets/js/PlusOffer-5Ns2Q-4q.js","assets/js/star-rating-CNohptmf.js","assets/js/icon-chrome-BdhFuvxf.js","assets/js/icon-error-state-BKQhfBCj.js","assets/css/PlusOffer-QqCvZz9_.css","assets/js/UpgradeModal-BQx_ID_k.js","assets/css/UpgradeModal-DTb-Irdl.css","assets/js/OneTimeLogin-COfOs-IQ.js","assets/js/oneTimeLoginService-CgWRrBJN.js","assets/css/OneTimeLogin-Cgy4UW5s.css","assets/js/Login-CtZHC2EE.js","assets/css/Login-Bbjig4RF.css","assets/js/LoginName-Bw8_ldtz.js","assets/js/loginStepMixin-Cw4SXMRY.js","assets/css/loginStepMixin-DaTZgsEz.css","assets/js/LoginInput-KVl0433V.js","assets/js/MobileBlur-B2s9dLKD.js","assets/css/LoginInput-f19EFSTc.css","assets/js/LoginEmail-efyFZKOt.js","assets/js/LoginChoosePassword-D6-a9aok.js","assets/js/DashCheckbox-COO9Ahuf.js","assets/js/BaseIcon-CACrCBea.js","assets/js/icon-weather-reset-D7qA-OAP.js","assets/js/icon-settings-Bycjf8-G.js","assets/js/icon-back-arrow-CiRQJ6G-.js","assets/js/icon-circle-D-D5U4qS.js","assets/js/icon-cog-BFr_Pva7.js","assets/js/icon-skip-BOkC5L0N.js","assets/js/icon-trash-DFxJwJNo.js","assets/js/icon-down-BiHbKN-t.js","assets/js/icon-edit-CixeXNYx.js","assets/js/icon-ellipsis-D3jS4u3x.js","assets/js/icon-heart-v5O7C6eS.js","assets/js/icon-hide-NFfBhfBx.js","assets/js/icon-key-BPNRipb3.js","assets/js/icon-lock-B0ekkj2F.js","assets/js/icon-photo-BrwqV1T0.js","assets/js/icon-pin-BHeOuzvO.js","assets/js/icon-plus-D4YOesIc.js","assets/js/icon-profile-B_XWyuTb.js","assets/js/icon-x-qUCmf2CW.js","assets/js/icon-skip-intro-BUi8b3Ak.js","assets/js/icon-tooltip-CN09iXOB.js","assets/js/icon-visible-on-CM3kpcFN.js","assets/js/icon-x-caret-half-CZtcH_PM.js","assets/js/pomodoro-circle-Dx_GWql1.js","assets/js/add-COIuonao.js","assets/js/google-DKPAcOmk.js","assets/js/arrow-up-1QPpu78M.js","assets/js/chevron-down-DdbU9YAr.js","assets/js/pomodoro-DvfTwCi0.js","assets/js/clocks-DjzskNOU.js","assets/js/search-DCqlmJx6.js","assets/js/folder-CwWTWsnJ.js","assets/js/switch-EuBTQVVE.js","assets/js/storage-YYEO5TB5.js","assets/css/BaseIcon-BlT7Qz-y.css","assets/css/DashCheckbox-CFAHkdRy.css","assets/js/LoginPasswordInput-C7qYfSot.js","assets/css/LoginPasswordInput-BhaeJAQu.css","assets/css/LoginChoosePassword-UPuoUmDH.css","assets/js/LoginEnterPassword-AslL-n-4.js","assets/js/LoginResetPassword-CRItJGld.js","assets/js/LoginResetPasswordSent-B4Fm10UV.js","assets/css/LoginResetPasswordSent-6VMtbv0A.css","assets/js/LoginDataCollection-Cs50ayzk.js","assets/css/LoginDataCollection-TJHws-w_.css","assets/js/FaviconPermission-D8MRPkHz.js","assets/js/Popup-Xs5lohqh.js","assets/js/AppPopup-D_ukOJBQ.js","assets/css/AppPopup-CS-R--Nx.css","assets/css/Popup-BVRmr9y-.css","assets/css/FaviconPermission-Bryil80H.css","assets/js/SafariAccount-CHo0Eb-2.js","assets/css/SafariAccount-hvLC5G8-.css","assets/js/PermissionRequest-D5zSvmkb.js","assets/css/PermissionRequest-CQDM_cIO.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var e=Object.defineProperty,t=(t,o,n)=>(((t,o,n)=>{o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n})(t,"symbol"!=typeof o?o+"":o,n),n);import"./VueBase-CjPGMLuv.js";import{i as o,b as n}from"./itemModelMixin-BHakSWl-.js";import{d as a}from"./itemDataServiceMixins-R3DPkCUM.js";import{V as s,w as i}from"./ResizeSensor-CXS_pGRc.js";import{_ as r}from"./preload-helper-D7CfCCEq.js";import{j as d,E as l,Q as c,R as p,D as u,s as g,l as h,u as _}from"./dashboard-CF_jRhAY.js";import{s as b,r as S,u as f,A as E,n as T,I as y,a as v,e as w,L as O,D as k,j as I}from"./promisifiedChrome-CheD9WtZ.js";import{i as C,c as P,s as D}from"./focusModeHelpers-Cqkll3ju.js";import{_ as R,a as A}from"./arrow-B0GpGOd-.js";import{p as L,b as M,c as x}from"./reactiveCustomization-CrL2eTrh.js";import{f as N,g as U}from"./LinksService-BV1Om5gI.js";import{_ as V}from"./icon-next-B4hjdiAA.js";import{M as j}from"./timestampDb-sTUCijT1.js";import{a as B}from"./authService-B5VliZ3K.js";import{_ as F}from"./icon-confetti-Dz2LojDe.js";import{u as G}from"./siteBlockerGroups-1V1XRNi6.js";const q=new(s.extend({name:"OnboardingStepDataService",mixins:[a],unreactive:()=>({type:"onboardingSteps",path:"onboarding_steps",queryParams:{update:{update_mask:"*"}}})})),H=s.extend({name:"OnboardingStepModel",mixins:[o],data:()=>({id:"",name:"",status:"",data:{}}),unreactive:()=>({props:["name","data","status"]})}),W=new class{add(e={}){Object.entries(e).forEach((([e,t])=>{C[e]().then((e=>e.mockData(t)))}))}clear(e=[]){e.forEach((e=>{C[e]().then((e=>e.clearMockData()))}))}},z=()=>r((()=>Promise.resolve().then((()=>Te))),void 0);function Y(){return{name:"Focus Mode",progressBarText:"Focus Mode",component:z,subStepProps:{heading:"Eliminate distractions",subheading:"Concentrate on one task at a time with a toolset designed for focus.",arrow:"left-above",maskDefinitions:[{padding:[-5,5],targetElements:".focus-mode"}],showAppSelector:".focus-mode",onCreated(){b({focusModeVisible:!0}),m.widgetManager.addVueAppExemption(["focus-mode"],"modalContainer")},onDestroyed:()=>{b({focusModeVisible:null})}}}}let $=!1;const K={legacyId:"C6D78F5E-470F-4F12-A139-4A80FDF3EC13",name:"Plus Introduction",plusSubscriptionTimeGate:"2022-06-05T00:00:00.000Z",component:()=>r((()=>import("./Tour-CpLZEvSZ.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31])),onCreated:async()=>{$="true"===localStorage.getItem("pomodoro-showing"),window.onbeforeunload=()=>{m.trigger("pomodoro:show",$)},await P()},onDestroyed:()=>{m.trigger("pomodoro:show",$)},customCss:` .top-row { padding-top: ${L.bookmarksVisible?10:46}px; `,hideOtherApps:!0,getPlanInfo:!0,shouldActivate:()=>{const e=bt.getStep("tour");return!e||"dismissed"===e.status},transitionName:"fade",alsoCompletesSteps:[d.FREE_INTRODUCTION],subSteps:[{name:"Welcome",progressBarText:"Welcome",component:()=>r((()=>import("./TourIntro-CiSmUj67.js")),__vite__mapDeps([32,18,10,6,5,11,12,2,3,4,7,8,13,14,15,16,33,34,35,24,36])),subStepProps:{subheading:"Welcome to Momentum Plus, your all-in-one command center to help you beat distractions and achieve your goals more consistently.",buttonText:"Take a tour!",cancelText:"Skip"}},function({mockListTitle:e="Asana To-Dos",mockTodos:t=["Submit proposal","Schedule meeting","Update documentation"],mockProviderIcon:o=R,mockData:n={clocks:[],metrics:[{label:"Glasses of Water per Day",value:5},{label:"Meditations per Week",value:3},{label:"Blogs Written",value:13},{label:"Fitbit Steps",value:11840}],countdowns:[{utcDate:Date.now()+72576e5,hasHours:!1,name:"Fiji Trip"}]}}={}){return Object.values(n).forEach((e=>{e.forEach((e=>{e.pinned=!0,e.id=m.utils.uuidv4()}))})),{name:"Organization",progressBarText:"Organization",component:z,customCss:` .top-row { padding-top: ${L.bookmarksVisible?10:46}px; `,subStepProps:{heading:"Get Organized",subheading:"Keep all of your goals, habits, to-dos, and notes in the center of your workflow to keep the important things in life top of mind. Be sure to integrate your favorite project management system and health apps.",arrow:"above-right",maskDefinitions:[{padding:[0,0,-10,-40],targetElements:".base-metric .metric-type, .base-metric .add-metric"},{padding:[50,2,50,50],targetElements:".mock-todo-app"}],elementReadyEvent:"baseMetric:updated mockTodo:mounted",elementReadyCheck:()=>{const e=e=>e.replace(/\s/g,"");return document.querySelector(".mock-todo")&&(S.windowDimensions.width<600||!document.querySelector(".metric-type .app-dash-icon"))&&Object.entries(n).every((([t,o])=>{const n=`.base-metric .metric-item.app-dash[data-type=${t}] .metric-label-name`,a=o.map((e=>e.name||e.label||e.title));return a.length===document.querySelectorAll(n).length&&(!a.length||((t,o)=>{const n=document.querySelectorAll(t);return n.length&&Array.from(n).every((t=>o.map(e).includes(e(t.textContent))))})(n,a))}))},showAppSelector:".base-metric, .mock-todo",alignCta:"start",onCreated:()=>{b({metricVisible:!0,countdownVisible:!0,multiClockVisible:!1,linksVisible:!1}),(e||t)&&m.once("mockTodo:created",(()=>{m.trigger("mockTodo:overrideContent",{mockListTitle:e,mockTodos:t,mockProviderIcon:o})})),m.trigger("mockTodo:mount"),m.widgetManager.loadWidget("mockTodo"),W.add(n)},onDestroyed:()=>{b({metricVisible:null,countdownVisible:null,multiClockVisible:null,linksVisible:null}),m.trigger("mockTodo:destroy"),W.clear(Object.keys(n))}}}}(),Y(),function({mockQuote:e="Build things you believe in and fall in love with the process",mockMantra:t="Action = Progress"}={}){return{name:"Motivation",progressBarText:"Motivation",component:z,subStepProps:{heading:"Get Motivated",subheading:"Center yourself with calming custom photos, quotes, and your favorite mantras.",arrow:"left-below",maskDefinitions:[{padding:[40],targetElements:".center-clock .default-clock, .greeting .message"},{padding:[15],targetElements:".quote .body-text"}],elementReadyEvent:"center:updated mantra:mounted quote:updated",elementReadyCheck:()=>{var e,o,n;return document.querySelector(".center-clock")&&!(null==(e=document.querySelector(".center-container"))?void 0:e.classList.contains("fade-enter-active"))&&(null==(o=document.querySelector(".greeting .content"))?void 0:o.innerText.includes(t))&&(null==(n=document.querySelector(".quote .body-text"))?void 0:n.getBoundingClientRect().height)>0&&!document.querySelector(".center-container .smooth-height-fade-enter-active")},showAppSelector:".clock, .greeting, .quote",onCreated:async()=>{m.trigger("pomodoro:show",!1),b({clockVisible:!0,greetingVisible:!0,mantraVisible:!0,quoteVisible:!0}),document.querySelector(".quote")?m.trigger("quote:override",e):m.once("quote:created",(()=>{m.trigger("quote:override",e)})),m.once("greetingMantraContainer:created",(()=>{m.trigger("mantra:override",t)})),m.trigger("mantra:override",t)},onDestroyed:()=>{b({clockVisible:null,greetingVisible:null,mantraVisible:null,quoteVisible:null}),m.trigger("quote:override",null),m.trigger("mantra:override","")}}}}(),{name:"Ready",progressBarText:"Ready",component:()=>r((()=>import("./TourEnd-10CKxJIC.js")),__vite__mapDeps([37,2,3,4,5,6,7,8,18,10,11,12,13,14,15,16,24,38])),subStepProps:{heading:"Build Momentum",subheading:"Ready to get more Momentum towards your biggest goals?",buttonText:"Customize your dashboard now",bannerHeading:"Join a Live Workshop",bannerSubheading:"Want to improve your productivity, reduce procrastination, and maximize your Momentum? Sign up for a free live workshop this week.",bannerButtonText:"Learn more",bannerButtonLink:"https://lu.ma/momentum"}}],key:"overlay"},Q=()=>r((()=>Promise.resolve().then((()=>Te))),void 0);function J(){return{name:"Welcome",progressBarText:"Welcome",component:()=>r((()=>import("./TourIntro-CiSmUj67.js")),__vite__mapDeps([32,18,10,6,5,11,12,2,3,4,7,8,13,14,15,16,33,34,35,24,36])),subStepProps:{heading:"Welcome to Momentum",subheading:"<span>This is your space to find focus, calm, and inspiration with every new tab you open.<br><br>Rule out distraction with simple tools that will help you achieve your goals consistently – even when life gets busy.</span>",buttonText:"Get the tour!",cancelText:"Skip"}}}function Z({linksData:e=[{title:"Gmail",url:"https://mail.google.com"},{title:"Zoom",url:"https://www.zoom.us"},{title:"Clickup",url:"https://www.clickup.com"}]}={}){const t={root:{id:"root",isRoot:!0,linksOrderIds:[],type:l.LinkGroup}};return e.forEach((({title:e,url:o})=>{const n=new N({title:e,links:[{url:o}]});U(n).forEach((e=>t[e.id]=e)),t.root.linksOrderIds.push(n.id)})),{name:"Organization",progressBarText:"Organization",component:Q,subStepProps:{heading:"Get Organized",subheading:"Keep all of the links you use the most in a drop-down tab.",arrow:"above-left",maskDefinitions:[{padding:[-5,5,5,5],targetElements:".links, .links .app"}],elementReadyEvent:"links:updated",elementReadyCheck:()=>document.querySelector(".links")&&document.querySelectorAll(".links .link-list-item").length===e.length+(m.utils.isChromium()&&"links"===m.models.bookmarksSettings.get("chromeTabLocation")?1:0),showAppSelector:".links",onCreated:async()=>{b({linksVisible:!0}),C.linksViewStateStore().then((e=>e().togglePopup(!0))),C.linksStore().then((e=>e().mockData(t)))},onDestroyed:()=>{b({linksVisible:null}),C.linksViewStateStore().then((e=>e().togglePopup(!1))),C.linksStore().then((e=>e().clearMockData()))}}}}function X(){return{name:"Ready",component:()=>r((()=>import("./TourEnd-10CKxJIC.js")),__vite__mapDeps([37,2,3,4,5,6,7,8,18,10,11,12,13,14,15,16,24,38])),progressBarText:"Ready",customCss:" .tour .tour-fullscreen .cta { max-width: 100ch; }",subStepProps:{heading:"Build Momentum Towards Your Goals",subheading:"Customize your home base to help you accomplish your goals every day.",buttonText:"Let's go!",bannerHeading:"Join a Live Workshop",bannerSubheading:"Want to improve your productivity, reduce procrastination, and maximize your Momentum? Sign up for a free live workshop this week.",bannerButtonText:"Learn more",bannerButtonLink:"https://lu.ma/momentum"}}}const ee={legacyId:"29195944-06AE-4067-9CE1-96014D80B27F",name:"Introduction",component:()=>r((()=>import("./Tour-CpLZEvSZ.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31])),disabledBrowsers:["Mobile"],transitionName:"fade",hideOtherApps:!0,onCreated:()=>P(),subSteps:[J(),function({mockListTitle:e="Today",mockTodos:t=["Book hotel","Call Erica","Log hours"],mockData:o={focus:[{completed:!1,archived:!1,createdDate:Date.now(),focus:"Publish Blog Post",forDate:f.getDateString(),id:f.uuidv4(),todoId:null}]}}={}){return{name:"Daily Goal",progressBarText:"Daily Goal",component:Q,subStepProps:{heading:"Get Focused",subheading:"The secret to productivity is deep work. Go deep on your #1 task with our Daily Goal area. Add additional tasks to a backup to-do list.",arrow:"right-below",maskDefinitions:[{padding:[60,2,50,60],targetElements:".mock-todo-app, .focuses .three-col-layout--center"}],elementReadyEvent:"mockTodo:mounted focus-content:updated",elementReadyCheck:()=>{var e;return document.querySelector(".mock-todo")&&(null==(e=document.querySelector(".todays-focus"))?void 0:e.innerText)===o.focus[0].focus},showAppSelector:".mock-todo, .focuses",onCreated:()=>{b({focusVisible:!0,searchVisible:!1}),W.add(o),(e||t)&&m.once("mockTodo:created",(()=>{m.trigger("mockTodo:overrideContent",{mockListTitle:e,mockTodos:t})})),m.trigger("mockTodo:mount"),m.widgetManager.loadWidget("mockTodo")},onDestroyed:()=>{W.clear(Object.keys(o)),m.trigger("mockTodo:destroy"),b({focusVisible:null,searchVisible:null})}}}}(),Y(),function({mockData:e={focus:[{completed:!1,archived:!1,createdDate:Date.now(),focus:"Publish Blog Post",forDate:f.getDateString(),id:f.uuidv4(),todoId:null}]},mockQuote:t="Build things you believe in and fall in love with the process",mockMantra:o="Strive for greatness."}={}){return{name:"Motivation",progressBarText:"Motivation",component:Q,subStepProps:{heading:"Get Motivated",subheading:"Refresh your mind with a daily photo, quote, and mantra that recenter racing thoughts.",arrow:"left-below",maskDefinitions:[{padding:[60,60,5],targetElements:".clock .three-col-layout--center, .focuses .three-col-layout--center, .quote .body-text, .greeting .three-col-layout--center, .mantra .three-col-layout--center"}],elementReadyEvent:"center:updated mantra:mounted quote:updated focus-content:updated",elementReadyCheck:()=>{var t;const o=document.querySelector(".clock");return o&&!o.parentElement.classList.contains("smooth-height-fade-enter-active")&&document.querySelector(".quote")&&document.querySelector(".greeting")&&(null==(t=document.querySelector(".todays-focus"))?void 0:t.innerText)===e.focus[0].focus},showAppSelector:".clock, .greeting, .focuses, .quote",maskEvents:"center:updated quote:updated",onCreated:()=>{W.add(e),m.trigger("pomodoro:show",!1),b({focusVisible:!0,clockVisible:!0,quoteVisible:!0,greetingVisible:!0,mantraVisible:!0,searchVisible:!1}),m.once("greetingMantraContainer:created",(()=>{m.trigger("mantra:override",o)})),m.trigger("mantra:override",o),document.querySelector(".quote")?m.trigger("quote:override",t):m.once("quote:created",(()=>{m.trigger("quote:override",t)}))},onDestroyed:()=>{W.clear(Object.keys(e)),localStorage.removeItem("mantra:force"),b({focusVisible:null,clockVisible:null,quoteVisible:null,greetingVisible:null,mantraVisible:null,searchVisible:null}),m.trigger("quote:override",null),m.trigger("mantra:override","")}}}}(),Z(),X()],key:"overlay"};function te(){var e,t;return{feature:"notifications",notification_id:(null==(e=m.models.notificationManager.displayed[0])?void 0:e.get("notification_id"))+"-2",group_id:null==(t=m.models.notificationManager.displayed[0])?void 0:t.get("group_id")}}const oe={name:"Search In Center Notification",id:"searchInCenterNotification",targetElementSelector:"[data-ob=center-below-nav]",elementReadyEvent:"belowNav:loaded",shouldActivate:()=>bt.getStep("plusIntroduction"),onShow(){E.capture("notification show",te())},onDismiss(){E.capture("notification dismiss",te())},onComplete(){E.capture("primary cta click",te())},targetDistance:15,customCss:"\n\t\t\t\t[data-ob=center-below-nav] > .dash-icon { opacity: 1; }\n\t\t\t\t[data-ob=center-below-nav]:after { background: rgba(255,255,255,0.2); }\n\t\t\t",headerText:"Choose what to see",bodyText:"We’re trying out a central search bar! If you prefer to see your daily goal here, switch back using this button.",nextButtonText:"Got it"},ne=()=>r((()=>Promise.resolve().then((()=>Te))),void 0);function ae({subheading:e="We’ve unlocked our premium dashboard features for 30 days to help you get more organized, motivated, and focused to beat distractions!"}={}){return{name:"Intro",progressBarText:"Intro",lockProgressBar:!0,component:()=>r((()=>import("./TourIntro-CiSmUj67.js")),__vite__mapDeps([32,18,10,6,5,11,12,2,3,4,7,8,13,14,15,16,33,34,35,24,36])),subStepProps:{subheading:e,component:()=>r((()=>import("./TrialSignUp-BkpNuvz-.js")),__vite__mapDeps([39,2,3,4,5,6,7,8,24]))}}}function se({mockListTitle:e,mockTodos:t,subheading:o="Keep your most important goals in view with Custom To-do lists."}={}){return{name:"Goals",component:ne,subStepProps:{heading:"Goals",subheading:o,arrow:"right-below",maskDefinitions:[{padding:[30,30,100],targetElements:".mock-todo-app"}],elementReadyEvent:"mockTodo:mounted",elementReadyCheck:()=>document.querySelector(".mock-todo"),showAppSelector:".mock-todo",onCreated:()=>{(e||t)&&m.once("mockTodo:created",(()=>{m.trigger("mockTodo:overrideContent",{mockListTitle:e,mockTodos:t})})),m.trigger("mockTodo:mount"),m.widgetManager.loadWidget("mockTodo")},onDestroyed:()=>{m.trigger("mockTodo:destroy")}}}}function ie({mockData:e={clocks:[],countdowns:[{utcDate:Date.now()+828e5,hasHours:!0,name:"Board Meeting"}],metrics:[{label:"Sales Closed",value:"5"},{label:"Fitbit Steps",value:"1250"}]},subheading:t="Track your habits to stay consistent."}={}){return Object.values(e).forEach((e=>{e.forEach((e=>{e.pinned=!0,e.id=m.utils.uuidv4()}))})),{name:"Habits",component:ne,customCss:"\n\t\t\t.base-metric { justify-content: flex-end; align-items: flex-start; }\n\t\t\t.base-metric .dash-items { flex: 0 1 auto; }\n\t\t",subStepProps:{heading:"Habits",subheading:t,arrow:"right-above",maskDefinitions:[{padding:[0,0,-10,-40],targetElements:".base-metric .dash-items"}],elementReadyEvent:"baseMetric:updated",elementReadyCheck:()=>{const t=e=>e.replace(/\s/g,"");return Object.entries(e).every((([e,o])=>0===o.length||((e,o)=>{const n=document.querySelectorAll(e);return n.length&&Array.from(n).every((e=>o.map(t).includes(t(e.textContent))))})(`.base-metric .metric-item.app-dash[data-type=${e}] .metric-label-name`,o.map((e=>e.name||e.label||e.title)))))},showAppSelector:".base-metric",onCreated:()=>{b({metricVisible:!0,countdownVisible:!0,multiClockVisible:!1}),W.add(e)},onDestroyed:()=>{b({metricVisible:null,countdownVisible:null,multiClockVisible:null}),W.clear(Object.keys(e))}}}}function re({subheading:e="Click the clock to start a Pomodoro timer. Play nature soundscapes for deep work."}={}){return{name:"Pomodoro",component:ne,customCss:"\n\t\t\t.pomodoro { width: auto !important; align-self: center; }\n\t\t\t.pomodoro .focuses { whitespace: nowrap; }\n\t\t",subStepProps:{heading:"Pomodoro",subheading:e,arrow:"above-left",maskDefinitions:[{padding:[30,10],targetElements:".pomodoro"}],elementReadyEvent:"center:updated",elementReadyCheck:()=>document.querySelector(".pomodoro"),showAppSelector:".pomodoro, .focuses",onCreated:()=>{m.trigger("pomodoro:show")},onDestroyed:()=>{m.trigger("pomodoro:show",!1)}}}}function de({subheading:e="Welcome to your 1-stop dashboard to overcome distractions and achieve all your goals.",buttonText:t="Customize now",bannerHeading:o="Want assistance getting started?",bannerSubheading:n="Talk to one of our productivity experts to get Momentum set up for you.",bannerButtonText:a="Schedule a call",bannerButtonLink:s="https://calendly.com/d/cqh-237-ms8/momentum-plus-onboarding"}={}){return{name:"Ready",component:()=>r((()=>import("./TourEnd-10CKxJIC.js")),__vite__mapDeps([37,2,3,4,5,6,7,8,18,10,11,12,13,14,15,16,24,38])),progressBarText:"Ready",subStepProps:{subheading:e,buttonText:t,bannerHeading:o,bannerSubheading:n,bannerButtonText:a,bannerButtonLink:s}}}const le={name:"Tour",component:()=>r((()=>import("./Tour-CpLZEvSZ.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31])),customCss:` .top-row { padding-top: ${L.bookmarksVisible?10:46}px; `,getPlanInfo:!0,transitionName:"fade-overlay",userCreatedTimeGate:"2000-01-01T00:00:00.000Z",alsoCompletesSteps:[d.FREE_INTRODUCTION],hideOtherApps:!0,subSteps:[ae(),se(),ie(),re(),de()]},ce=new E({feature:"upgrade"}),me={name:"Upgrade",getPlanInfo:!0,hasSaleBanner:!0,onShow(){ce.capture("upgrade show",{has_email:!!localStorage.getItem("email")})},onDismiss({activeSubStep:e}){var t;ce.capture("upgrade dismiss",{step:null==(t=e.name)?void 0:t.toLowerCase()})},onSubStepComplete({activeSubStep:e}){ce.capture("upgrade step complete",{name:e.name.toLowerCase(),is_paid_event:!!e.completionIsPaidEvent})},firstSubStep:()=>m.isLoggedIn()?1:0,component:()=>r((()=>import("./Modal-BYHlx760.js")),__vite__mapDeps([40,41,42,43,2,3,4,5,6,7,8,44,45])),hideOtherApps:!0,customCss:".progress { visibility: hidden; }",transition:"slide-left-fade",reverseTransition:"slide-right-fade",customWidth:800,customHeight:650,sidebar:()=>r((()=>import("./Sidebar-_r5q6tnS.js")),__vite__mapDeps([46,47,48,2,3,4,5,6,7,8,42,49,50])),subSteps:[{component:()=>r((()=>import("./Email-VqAdRHX1.js")),__vite__mapDeps([51,52,6,5,2,3,4,7,8,11,12,13,14,15,53])),name:"Email",interceptNextStep:!0,hasSaleBanner:!0,customCss:".modal { background: white !important; }"},{component:()=>r((()=>import("./ChoosePlan-Dx_z9_7P.js")),__vite__mapDeps([54,2,3,4,5,6,7,8,42,55,56])),name:"Plan",interceptNextStep:!0,hasSaleBanner:!0,showBackBtn:!0,belowButtonMsg:"Join 50,000+ people who’ve upgraded to Plus!",customCss:".modal { background: white !important; }"},{component:()=>r((()=>import("./Upgrade-CudFDXBe.js")),__vite__mapDeps([57,2,3,4,5,6,7,8,58])),completionIsPaidEvent:!0,name:"Payment",hideFooter:!0,interceptNextStep:!0,hasSaleBanner:!0,showBackBtn:!0,preRender:!0,customCss:".modal { max-height: 95vh; overflow: auto !important; background: white !important; }"},{component:()=>r((()=>import("./Thanks-wjdUm54v.js")),__vite__mapDeps([59,60,2,3,4,5,6,7,8,61])),completionIsPaidEvent:!0,interceptNextStep:!0,name:"Thanks",hideFooter:!0,hideClose:!0}]},pe={[d.UPSELL_AI_CHAT]:{name:"AiChat",component:()=>r((()=>import("./AiChatUpsell-szw33OSX.js")),__vite__mapDeps([62,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,66,67]))},[d.UPSELL_AUTOFOCUS]:{name:"Top task in center",component:()=>r((()=>import("./AutofocusUpsell-DvbkWXJ1.js")),__vite__mapDeps([68,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,69,70,71]))},[d.UPSELL_BALANCE_MODE]:{name:"Balance Mode",component:()=>r((()=>import("./BalanceModeUpsell-DdPVAr_W.js")),__vite__mapDeps([72,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,73,74]))},[d.UPSELL_COUNTDOWNS]:{name:"Countdown",component:()=>r((()=>import("./CountdownsUpsell-Dcg2C7pe.js")),__vite__mapDeps([75,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,76]))},[d.UPSELL_FOCUS_MODE]:{name:"Focus Mode",component:()=>r((()=>import("./FocusModeUpsell-CgNeT4jh.js")),__vite__mapDeps([77,2,3,4,5,6,7,8,11,12,13,14,15,78,79,21,18,10,16,80,81,63,41,42,43,44,64,65,82,83,84]))},[d.UPSELL_FOCUS_MODE_EXPERIMENTAL]:{name:"Focus Mode Experimental",component:()=>r((()=>import("./FocusModeUpsellExperimental-BdLsWFxZ.js")),__vite__mapDeps([85,2,3,4,5,6,7,8,86,87,88]))},[d.UPSELL_MANTRAS]:{name:"Mantra",component:()=>r((()=>import("./MantrasUpsell-BTPYW6kN.js")),__vite__mapDeps([89,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,90,91,92,93]))},[d.UPSELL_METRICS]:{name:"Metrics",component:()=>r((()=>import("./MetricsUpsell-DVzziei5.js")),__vite__mapDeps([94,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,95]))},[d.UPSELL_MULTI_TODO]:{name:"MultiTodo",component:()=>r((()=>import("./MultiTodoUpsell-BgpuC1HL.js")),__vite__mapDeps([96,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,97,98]))},[d.UPSELL_NOTES]:{name:"Notes",component:()=>r((()=>import("./NotesUpsell-Ch0WC23c.js")),__vite__mapDeps([99,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,100]))},[d.UPSELL_PHOTOS]:{name:"Photos",component:()=>r((()=>import("./PhotosUpsell-CdKHCOpn.js")),__vite__mapDeps([101,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,102,103,92]))},[d.UPSELL_POMODORO]:{name:"Pomodoro",component:()=>r((()=>import("./PomodoroUpsell-4YiRi6tZ.js")),__vite__mapDeps([104,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,70,105,93]))},[d.UPSELL_QUOTES]:{name:"Quotes",component:()=>r((()=>import("./QuotesUpsell-I6TrNpsb.js")),__vite__mapDeps([106,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,90,91,92,107]))},[d.UPSELL_SOUNDSCAPES]:{name:"Soundscapes",component:()=>r((()=>import("./SoundscapesUpsell-BbdXeMQD.js")),__vite__mapDeps([108,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,70,109]))},[d.UPSELL_TAB_GROUPS]:{name:"Tab Groups",component:()=>r((()=>import("./TabGroupsUpsell-D9zw6gzR.js")),__vite__mapDeps([110,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,111,112,113]))},[d.UPSELL_TAB_STASH]:{name:"Tab Stash",component:()=>r((()=>import("./TabStashUpsell-Btrny9Kr.js")),__vite__mapDeps([114,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,70,111,115]))},[d.UPSELL_THEMES]:{name:"Themes",component:()=>r((()=>import("./ThemesUpsell-Dl_Nf7Ru.js")),__vite__mapDeps([116,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,103,117]))},[d.UPSELL_TODO_INTEGRATIONS]:{name:"Todo Integrations",component:()=>r((()=>import("./TodoIntegrationsUpsell-DpRfm5rR.js")),__vite__mapDeps([118,100,66,22,74,119,64,97,117,105,120,95,70,69,121,83,109,76,73,112,71,98,102,90,103,92,122,111,91,115,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,65,123]))},[d.UPSELL_WEATHER]:{name:"Weather",component:()=>r((()=>import("./WeatherUpsell-DKidqy2y.js")),__vite__mapDeps([124,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,121,73]))},[d.UPSELL_WORLD_CLOCKS]:{name:"World Clocks",component:()=>r((()=>import("./WorldClocksUpsell-Cixh8dt-.js")),__vite__mapDeps([125,63,41,42,43,2,3,4,5,6,7,8,44,11,12,13,14,15,64,65,122,112]))},[d.PLUS_GATE]:{name:"Plus Features",component:()=>r((()=>import("./PlusGateUpsell-CfnWhq0C.js")),__vite__mapDeps([126,2,3,4,5,6,7,8,63,41,42,43,44,11,12,13,14,15,64,65,71,103,97,120,91,127]))}};Object.values(pe).forEach((e=>{e.name="Upsell: "+e.name,e.getPlanInfo=!0}));const ue="2000-01-01T00:00:00.000Z",ge={Dismissed:"dismissed",Completed:"complete",Errored:"error",Legacy:"legacy"},he={[ge.Dismissed]:"onDismiss",[ge.Completed]:"onComplete",[ge.Errored]:"onError"},_e={[ge.Dismissed]:"onboarding step dismiss",[ge.Completed]:"onboarding step complete",[ge.Errored]:"onboarding step error"},be={name:"Tab Stash Onboarding",component:()=>r((()=>import("./Tour-CpLZEvSZ.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31])),event:"tabStash:opened",userCreatedTimeGate:ue,transitionName:"fade",hideOtherApps:!0,progressVisible:!1,onCreated:async()=>{const e=(await C.tabsViewStateStore())();e.popupActive||e.togglePopup(!0)},customCss:".tour-feature { max-width: 700px!important; right: 0!important; } .cta { max-width: 800px !important; margin-top: 90px; margin-left: -275px; } .arrow { transform: translate(-100px, -20px) rotate(-135deg)!important;}",subSteps:[{name:"Tab Stash",component:()=>r((()=>Promise.resolve().then((()=>Te))),void 0),subStepProps:{heading:"",component:()=>r((()=>import("./TabStashOnboarding-Cx4nSOQ9.js")),__vite__mapDeps([128,2,3,4,5,6,7,8,129])),arrow:"left-above",maskDefinitions:[{padding:[10],targetElements:".tabs .app"}],elementReadyCheck:()=>document.querySelector(".tabs .app-popup:not(.slide-down-fade-enter-active)"),elementReadyEvent:"tabStash:opened",showAppSelector:".tabs",buttonText:""}}]},Se={focus:[{completed:!1,archived:!1,createdDate:Date.now(),focus:"Submit proposal",forDate:m.utils.getDateString(),id:m.utils.uuidv4(),todoId:null}]},fe={name:"Focus Mode Onboarding",component:()=>r((()=>import("./Tour-CpLZEvSZ.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31])),event:"focusMode:started",userCreatedTimeGate:ue,transitionName:"fade",hideOtherApps:!0,customCss:"\n\t\t.top-row { padding-top: 46px; }\n\t\t.pomodoro .below button { visibility: hidden; }\n\t\t.pomodoro .focuses .control.checkbox { opacity: var(--opacity-stop-5); }\n\t\t.pomodoro .focuses { padding-left: 62px; }\n\t\t.focus-mode { top: 40px!important; }\n\t\t.focus-mode .focus-mode-focusing-view, .focus-mode-focusing-view .icon.close { opacity: 0!important; }\n\t\t.pomodoro .time { opacity: var(--opacity-stop-3); }\n\t",subSteps:[{name:"Focus Mode",component:()=>r((()=>Promise.resolve().then((()=>Te))),void 0),progressBarText:"Focus Mode",subStepProps:{heading:"",subheading:"Committing to focus will help finish your tasks and feel more accomplished. Choose a single task to focus on.",arrow:"left-below",maskDefinitions:[{padding:[10,-40,10,-50],targetElements:".focuses"}],updateMaskEvents:"focus-content:updated",elementReadyCheck:()=>document.querySelector(".pomodoro:not(.fade-enter-active)")&&document.querySelector(".focuses")&&document.querySelector(".focus:not(.fade-enter-active)")&&document.querySelector(".todays-focus").textContent&&document.querySelector(".focus-row:not(.fade-enter-active)"),elementReadyEvent:"center:updated focus-content:updated",showAppSelector:".pomodoro, .focuses",buttonText:"Next",onCreated:()=>{W.add(Se),M.focusModeSettings.apps.pomodoro.enabled||(m.trigger("pomodoro:reset"),b({focusModeSettingsStr:JSON.stringify({apps:{soundscapes:{enabled:!1},pomodoro:{enabled:!0},tabStash:{enabled:!1}}}),focusVisible:!1}))},onDestroyed:()=>{W.clear(Object.keys(Se)),b({focusModeSettingsStr:null}),D()}}},{name:"Customize",component:()=>r((()=>Promise.resolve().then((()=>Te))),void 0),progressBarText:"Customize",subStepProps:{heading:"",subheading:"Adjust focus tools to your liking. Eliminate distractions and create a new habit, making it easier to focus each time.",arrow:"above-left",maskDefinitions:[{padding:[0,10,20,10],targetElements:".soundscapes, .soundscapes .app.popup"}],elementReadyCheck:()=>document.querySelector(".soundscapes .app.popup"),elementReadyEvent:"soundscapes:opened",showAppSelector:".soundscapes",buttonText:"Next",onCreated:()=>{m.trigger("soundscapes:togglePopup",!0),b({soundscapesVisible:!0,focusModeSettingsStr:JSON.stringify({apps:{soundscapes:{enabled:!0},pomodoro:{enabled:!0},tabStash:{enabled:!1}}})})},onDestroyed:()=>{m.trigger("soundscapes:togglePopup",!1),b({focusModeSettingsStr:null}),D()}}},{name:"Ready",component:()=>r((()=>Promise.resolve().then((()=>Te))),void 0),progressBarText:"Ready",subStepProps:{heading:"",subheading:"When you’re done focusing, end your session here. Focus Mode is free for 1h/day. Go tackle that task!",arrow:"above-right",maskDefinitions:[{padding:[10],targetElements:".focus-mode .app.popup"}],elementReadyCheck:()=>document.querySelector(".focus-mode .app.popup"),elementReadyEvent:"focusModeApp:opened",showAppSelector:".focus-mode, .focuses",buttonText:"Let’s go!",onCreated:async()=>{b({focusVisible:!1}),m.showAnyway.widgets.push("focus-mode-app");(await C.focusModeViewStateStore())().popupActive=!0},onDestroyed:async()=>{(await C.focusModeViewStateStore())().popupActive=!1,b({focusModeSettingsStr:null}),D()}}}]};const Ee=T({name:"TourFeature",props:{onCreated:{type:Function,default:()=>{}},onDestroyed:{type:Function,default:()=>{}},maskDefinitions:{type:Array,default:()=>[]},elementReadyEvent:{type:String,default:""},elementReadyCheck:{type:Function,default:()=>!0},heading:{type:String,default:""},subheading:{type:String,default:""},component:{type:Function,default:()=>{}},buttonText:{type:String,default:"Next"},showAppSelector:{type:String,default:""},maskBorderRadius:{type:Number,default:7},alignCta:{type:String,default:""},updateMaskEvents:{type:String,default:""},arrow:{type:String,default:""}},data:()=>({masksDimensions:[],maskWrapperDimensions:{},maskReady:!1}),computed:{maskPadding(){return this.maskDefinitions.map((e=>e.padding))},maskTargetElements(){return this.maskDefinitions.map((e=>e.targetElements))},directions(){return this.arrow.split("-")},ctaStyle(){return{"justify-content":"below"===this.directions[0]?"flex-end":"flex-start"}},containerStyle(){if(!Object.keys(this.maskWrapperDimensions).length)return{};const{height:e,width:t,x:o,y:n,overlayOffsetX:a}=this.maskWrapperDimensions;let s="auto",i="auto",r="auto",d="auto";const l=["right","left"].includes(this.directions[0]),c=["above","below"].includes(this.directions[0]);let m=l?t/2:0;return this.directions.includes("right")?i=Math.max(window.innerWidth-(o+m)-a,50)+"px":this.directions.includes("left")&&(d=Math.max(o+t-m,50)+"px"),m=c?e/2:0,this.directions.includes("above")?(s=Math.max(n+e-m,50)+"px","above"===this.directions[0]&&(r=0)):this.directions.includes("below")&&(r=Math.max(window.innerHeight-(n+m),50)+"px","below"===this.directions[0]&&(s=0)),"start"===this.alignCta?(s=c?"90px":s,i=l?"auto":i,r=c?"auto":r,d=l?"90px":d):"end"===this.alignCta&&(s=c?"auto":s,i=l?"90px":i,r=c?"90px":r,d=l?"auto":d),{"justify-content":"above"===this.directions[0]?"flex-end":"flex-start","flex-direction":["above","below"].includes(this.directions[0])?"column":"row",top:s,right:i,bottom:r,left:d}},paddingList(){return this.maskPadding.map((e=>this.parsePadding(e)))}},mounted(){this.elementReadyCheck()?this.onElementReady():this.elementReadyEvent?m.on(this.elementReadyEvent,this.onElementReadyEvent):this.onElementReady(),window.addEventListener("keyup",this.handleKey)},created(){this.onCreated()},destroyed(){this.toggleAppsVisibility(!1),this.elementReadyEvent&&m.off(this.elementReadyEvent,this.onElementReadyEvent),this.updateMaskEvents&&m.off(this.updateMaskEvents,this.updateContainers),m.off("globalEvent:window:resize devPanelToggled metrics:resize",this.updateContainers),window.removeEventListener("keyup",this.handleKey),this.onDestroyed()},methods:{handleKey(e){"Enter"===e.code&&this.$emit("next")},onElementReadyEvent(){this.elementReadyCheck()&&(m.off(this.elementReadyEvent,this.onElementReadyEvent),this.onElementReady())},onElementReady(){this.updateMaskEvents&&m.on(this.updateMaskEvents,this.updateContainers),m.on("globalEvent:window:resize devPanelToggled baseMetric:updated",this.updateContainers),this.toggleAppsVisibility(!0),this.updateContainers(),this.$emit("maskReady")},updateContainers(){this.$nextTick((()=>{this.getMaskWrapperDimensions(),this.applyMask()}))},toggleAppsVisibility(e){m.widgetManager[e?"addAppExemption":"removeAppExemption"](this.showAppSelector||this.maskTargetElements.join(","),"modalContainer")},getShowAppTargetElements(){return document.querySelectorAll(this.showAppSelector||this.maskTargetElements.join(","))},getMaskWrapperDimensions(){const e=document.querySelectorAll(this.maskTargetElements.join(","));e.length&&(this.maskWrapperDimensions=this.getContainerDimensions(e,this.parsePadding([60])))},applyMask(){const e=this.maskTargetElements;for(let[t,o]of e.entries()){const e=document.querySelectorAll(o);if(!e.length)return;this.masksDimensions[t]=this.getContainerDimensions(e,this.paddingList[t])}this.$emit("updateMaskDimensions",this.masksDimensions),this.maskReady=!0},parsePadding(e){switch(e.length||e.push(0),e.length){case 1:return{top:e[0],right:e[0],bottom:e[0],left:e[0]};case 2:return{top:e[0],right:e[1],bottom:e[0],left:e[1]};case 3:return{top:e[0],right:e[1],bottom:e[2],left:e[1]};case 4:return{top:e[0],right:e[1],bottom:e[2],left:e[3]}}},getContainerDimensions(e,t){var o;const n=null==(o=document.querySelector(".tour"))?void 0:o.getBoundingClientRect().x;let a=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,i=0,r=0;for(const d of e){const{left:e,top:t,right:o,bottom:n}=d.getBoundingClientRect();e<a&&(a=e),t<s&&(s=t),o>i&&(i=o),n>r&&(r=n)}return{x:a-n-t.left,y:s-t.top,width:i-a+t.left+t.right,height:r-s+t.top+t.bottom,borderRadius:this.maskBorderRadius,overlayOffsetX:n}}}},(function(){var e=this,t=e._self._c;return t("div",[t("transition",{attrs:{name:"fade"}},[e.maskReady?t("div",{staticClass:"tour-feature",style:e.containerStyle,attrs:{"data-test":"feature"}},[t("div",{staticClass:"cta",style:e.ctaStyle},[e.heading?t("div",{staticClass:"heading"},[e._v(e._s(e.heading))]):e._e(),e.subheading?t("div",{staticClass:"subheading",domProps:{innerHTML:e._s(e.subheading)}}):e._e(),e.component?t(e.component,{tag:"component",on:{next:function(t){return e.$emit("next")}}}):e._e(),e.buttonText?t("div",{staticClass:"button dash-button",attrs:{"data-test":"next"},on:{click:function(t){return e.$emit("next")}}},[e._v(e._s(e.buttonText)+" "),t("inline-svg",{staticClass:"icon icon-next",attrs:{src:V}})],1):e._e()],1),t("div",{staticClass:"arrow",class:e.arrow},[t("inline-svg",{staticClass:"icon-arrow",attrs:{src:A}})],1)]):e._e()])],1)}),[],!1,null,"959df2a9").exports,Te=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"})),ye={[c.SEARCH_IN_CENTER]:{name:"Search in center intro",variants:{[p.SEARCH_IN_CENTER_ENABLED]:{steps:[d.FREE_INTRODUCTION],overrides:{[d.FREE_INTRODUCTION]:{subSteps:[J(),{name:"Search Bar",progressBarText:"Search Bar",component:Ee,subStepProps:{heading:"Get Focused",subheading:"Get more done daily with the power of our to-do list and the search bar. Use the conveniently located search bar to speed up how fast you can turn your to-do list into your done list.",arrow:"right-below",maskDefinitions:[{padding:[60,2,50,60],targetElements:".mock-todo-app, .search"}],elementReadyEvent:"mockTodo:mounted bigSearch:mounted",elementReadyCheck:()=>document.querySelector(".mock-todo")&&document.querySelector(".search"),showAppSelector:".mock-todo, .search",onCreated:()=>{m.once("mockTodo:created",(()=>{m.trigger("mockTodo:overrideContent",{mockListTitle:"Today",mockTodos:["Research travel industry","Book concert tickets","Write blog"]})})),m.trigger("mockTodo:mount"),m.widgetManager.loadWidget("mockTodo")},onDestroyed:()=>{m.trigger("mockTodo:destroy")}}},{name:"Motivation",progressBarText:"Motivation",component:Ee,subStepProps:{heading:"Get Motivated",subheading:"Refresh your mind with a daily photo, quote, and mantra that recenter racing thoughts.",arrow:"left-below",maskDefinitions:[{padding:[60,60,5],targetElements:".clock .three-col-layout--center, .search, .quote .app-dash, .greeting .three-col-layout--center, .mantra .three-col-layout--center"}],elementReadyEvent:"centerBelow:show bigSearch:mounted",elementReadyCheck:()=>document.querySelector(".clock")&&document.querySelector(".quote")&&document.querySelector(".greeting")&&document.querySelector(".search"),showAppSelector:".clock, .greeting, .search, .quote",maskEvents:"center:updated",onCreated:()=>{m.trigger("pomodoro:show",!1),localStorage.setItem("mantra:force","true")},onDestroyed:()=>{localStorage.removeItem("mantra:force")}}},Z(),X()]}}}}},[c.PLUS_TRIAL_TOUR]:{name:"Plus trial",disabledBrowsers:["Safari"],variants:{[p.PLUS_TRIAL_TOUR_VARIANT_A]:{steps:[d.TOUR],overrides:{[d.TOUR]:{subSteps:[ae({subheading:"<p>We’ve unlocked our premium dashboard features for 30 days to help you get more organized, motivated, and focused to beat distractions!</p>"}),se({subheading:"<p>Keep your most important goals in view with To-do lists.</p>",mockTitle:"Long Term Goals",mockTodos:["Run a 5k","Get the promotion","Get a dog","Visit Greece","Give a TEDx talk"]}),ie({subheading:"<p>Track your habits to stay consistent.</p>",mockData:{metrics:[{label:"Glasses of water",value:"7"},{label:"Pages read",value:"145"},{label:"Meditations this week",value:"5"},{label:"Fitbit steps today",value:"11859"}]}}),re({subheading:"<p>Click the clock to start a Pomodoro timer. Play nature soundscapes for deep work.</p>"}),de({subheading:"<p>Welcome to your 1-stop dashboard to overcome distractions and achieve all your goals.</p>"})]}},deleteSteps:[d.FREE_INTRODUCTION]},[p.PLUS_TRIAL_TOUR_VARIANT_B]:{steps:[d.TOUR],overrides:{[d.TOUR]:{subSteps:[ae({subheading:"<p>We’ve unlocked our premium dashboard features for 30 days to help you get more organized, motivated, and focused to beat distractions!</p>"}),se({subheading:"<p>Set your goals with multiple to-do lists and keep what’s important in front of you.</p>",mockTitle:"Long Term Goals",mockTodos:["Run a 5k","Get the promotion","Visit Greece","Join nonprofit board","Learn guitar"]}),ie({subheading:"<p>Consistent action is key to becoming the person you want to be.</p><p>You can track a habit manually or use our integrations to sync your fitness and work apps.</p>",mockData:{metrics:[{label:"Fitbit steps today",value:"11859"},{label:"Glasses of water today",value:"7"},{label:"Sales calls",value:"34"}]}}),re({subheading:"<p>Turn every day into a productive day with our unstoppable combo of the Pomodoro Timer and Soundscapes to get more done in less time.</p>"}),de({subheading:"<p>We’re excited to help you get momentum towards your goals.</p>",buttonText:"Let’s go!"})]}},deleteSteps:[d.FREE_INTRODUCTION]}}}},ve={all:Object.keys(ye),unregistered:[c.SEARCH_IN_CENTER],free:[c.PLUS_TRIAL_TOUR,c.SEARCH_IN_CENTER],plus:[c.PLUS_TRIAL_TOUR,c.SEARCH_IN_CENTER]};function we(){var e;const t=function(e=m.utils.getUserState().state){var t;let o={};return null==(t=ve[e])||t.forEach((e=>{var t;ke(null==(t=ye[e])?void 0:t.disabledBrowsers)||(o[e]=ye[e])})),o}(),o=Oe();if(!t)return o;let n={};return null==(e=S.experiments)||e.forEach((e=>{let a=t[e.experimentName];if(!a)return;const s=a.variants[e.variantName];s&&s.steps.forEach((function(e){var t;n[e]={...pt[e]},(null==(t=s.overrides)?void 0:t[e])&&(n[e]=Object.assign(n[e],s.overrides[e])),s.deleteSteps&&s.deleteSteps.forEach((e=>{delete o[e]}))}))})),Object.assign(o,n)}function Oe(e=m.utils.getUserState().state){var t;let o={};return null==(t=_t[e])||t.forEach((e=>{var t;ke(null==(t=pt[e])?void 0:t.disabledBrowsers)||(o[e]=pt[e])})),o}function ke(e){return(null==e?void 0:e.includes(m.utils.getBrowserName()))||(null==e?void 0:e.includes("Mobile"))&&m.utils.isTouchDevice()}function Ie(){if(!Object.keys(ye).length)return{};const e=ve.all;let t={};return e.forEach((e=>{let o=ye[e],n={variants:{},name:o.name};Object.keys(o.variants).forEach((e=>{let t=o.variants[e];n.variants[e]={steps:{},name:t.name},t.steps.forEach((o=>{n.variants[e].steps[o]=Object.assign({},pt[o],t.overrides?t.overrides[o]:{})}))})),t[e]=n})),t}const Ce=new E({feature:"onboarding"});const Pe=new class{constructor(){t(this,"_eventListenerMap",{}),this.allocatedDefinitions={},m.once("onboarding:load",this._loadOnboarding.bind(this))}allocateDefinitions(){var e;this.allocatedDefinitions=Object.keys(ye).length&&(null==(e=S.experiments)?void 0:e.length)?we():Oe()}async _loadOnboarding(){const e=e=>{S.onboardingRefreshing=!1,e&&m.models.notificationManager.displayPendingMessages()},t=()=>{e(!0),m.trigger("onboarding:stepsAnalyzed",{onboardingSkipped:!0})};try{if(localStorage.getItem("onboarding:skip"))return t();S.onboardingRefreshing=!0,this.allocateDefinitions(),await this._getOnboardingSteps();let[o,n]=await this._getNextStep(),a=await this._getUncompletedEventTriggeredModals();if(!o&&!a.length)return t();a.length&&this._addEventListeners(a),m.introductionActive?(m.once("onboarding:initiate",this._initiateOnboardingStep.bind(this,o,n)),m.trigger("onboarding:stepsAnalyzed",{keepAppsHidden:null==o?void 0:o.hideOtherApps})):u().stepActive||this._initiateOnboardingStep(o,n),e(!o)}catch(o){console.error(o),t()}}async refreshOnboarding(){if(localStorage.getItem("onboarding:skip"))return;S.onboardingRefreshing=!0,await this._getOnboardingSteps(),this.allocateDefinitions();let e=await this._getUncompletedEventTriggeredModals();e.length&&(this._removeAllEventListeners(),this._addEventListeners(e)),await this.initiateNextStep(),S.onboardingRefreshing=!1}async initiateNextStep(){if(localStorage.getItem("onboarding:skip"))return!1;const[e,t]=await this._getNextStep();return!!e&&(this._initiateOnboardingStep(e,t),!0)}async _getOnboardingSteps(){const e=await y.requiresSync("onboardingSteps")?j.Server:j.Cache;await bt.get({mode:e})}_getUncompletedEventTriggeredModals(){return f.asyncFilter(Object.values(this.allocatedDefinitions),(async e=>e.event&&await this._stepCanBeShown(e,{now:!1})))}_removeAllEventListeners(){Object.values(this._eventListenerMap).forEach((({event:e,handler:t})=>m.off(e,t))),this._eventListenerMap={}}_addEventListeners(e){e.forEach((e=>{if(e.event){const t=async()=>{await this._stepCanBeShown(e)&&!u().locked&&(this._initiateOnboardingStep(this._addHooksToDefinitions(e)),m.off(e.event,t),delete this._eventListenerMap[e.name])};m.on(e.event,t),this._eventListenerMap[e.name]={event:e.event,handler:t}}}))}_initiateOnboardingStep(e,t){e&&m.trigger("modal:show",e,{subStepIndex:t})}async _getNextStep(){var e;for(let t in this.allocatedDefinitions){if(!Object.prototype.hasOwnProperty.call(this.allocatedDefinitions,t))continue;let o=this.allocatedDefinitions[t];if(!o.event&&await this._stepCanBeShown(o)){let t=bt.getStep(o);return[this._addHooksToDefinitions(o),(null==(e=null==t?void 0:t.data)?void 0:e.activeSubStepIndex)||0]}}return[]}async _onStepShow(e){var t;await(null==(t=e.onShow)?void 0:t.call(e)),Ce.capture("onboarding step show",{name:e.name.toLowerCase()})}async _onStepComplete(e,t,o=ge.Completed,n=!0){var a;await(null==(a=e[he[o]])?void 0:a.call(e,t)),Ce.capture(_e[o],{name:e.name.toLowerCase()}),n&&await bt.saveStepProgress(e,t.activeSubStepIndex,o)}async _onSubStepComplete(e,t){var o;const{activeSubStep:n,nextSubStepIndex:a,hasSubStepsRemaining:s}=t;await(null==(o=e._onSubStepComplete)?void 0:o.call(e,t)),Ce.capture("onboarding sub-step complete",{step:e.name.toLowerCase(),sub_step:n.name.toLowerCase()}),s&&await bt.saveStepProgress(e,a)}async _onStepLeave(e,t){var o;await(null==(o=e.onLeave)?void 0:o.call(e,t)),await this.initiateNextStep()||m.models.notificationManager.displayPendingMessages()}_addHooksToDefinitions(e){var t;const o={...e,onShow:()=>this._onStepShow(e),onComplete:t=>this._onStepComplete(e,t,ge.Completed,!0),onDismiss:t=>this._onStepComplete(e,t,ge.Dismissed,!0),onError:t=>this._onStepComplete(e,t,ge.Errored,!1),onLeave:this._onStepLeave.bind(this,e)};return(null==(t=e.subSteps)?void 0:t.length)&&(o.onSubStepComplete=t=>this._onSubStepComplete(e,t)),o}async _stepCanBeShown(e,{now:t=!0}={}){let o=bt.getStep(e);return!(o&&[ge.Completed,ge.Dismissed,ge.Legacy].includes(o.status))&&await this._userMeetsDateRestrictions(e)&&(!t||this._checkShouldActivate(e))}async _userMeetsDateRestrictions(e){let t=localStorage.getItem("user:createTime");if(!t)return!1;let o=!0;if(e.plusSubscriptionTimeGate){let t=localStorage.getItem("user:firstSubscriptionStart");if(!t)try{const e=await v.get("user/profile?details=1");t=null==e?void 0:e.data.subscriptionSummary.firstSubscriptionStart,t&&localStorage.setItem("user:firstSubscriptionStart",t)}catch(n){console.error(n)}o=new Date(t)>new Date(e.plusSubscriptionTimeGate)}return o&&new Date(t)>new Date(e.userCreatedTimeGate||"2022-01-01T00:00:00.000Z")}_checkShouldActivate(e){return!e.shouldActivate||e.shouldActivate()}},De={name:"Plus Offer",component:()=>r((()=>import("./PlusOffer-5Ns2Q-4q.js")),__vite__mapDeps([130,47,48,2,3,4,5,6,7,8,42,49,57,58,59,60,61,131,132,33,34,35,18,10,11,12,13,14,15,16,26,43,133,17,19,20,21,22,23,24,25,27,28,29,30,134])),getPlanInfo:!0,hideOtherApps:!0,subSteps:[{name:"Trial Offer"},{name:"AuthForm - Register"},{name:"AuthForm - Sign in"},{name:"AuthForm - Reset password"},{name:"Payment Form"},{name:"Thanks"},{name:"Error - Existing trial"}],transitionName:"fade",key:"overlay",onComplete:()=>new Promise((e=>m.syncCoordinator.syncSettings((()=>{m.widgetManager.populateWidgets(),m.models.themeManager.initializeThemes(),e()})))),async onLeave(){Pe.allocateDefinitions(),await Pe.initiateNextStep()}},Re=[d.TIP_DAY_ONE_FOCUS_MODE,d.TIP_DAY_TWO_FOCUS_MODE,d.TIP_DAY_THREE_FOCUS_MODE],Ae=[d.TIP_FOCUS_INSIGHT_APP,d.TIP_SITE_BLOCKER_FIRST_TIME],Le={[d.TIP_DAY_ONE_FOCUS_MODE]:"Mute your distractions and get in the zone. Start a session now!",[d.TIP_DAY_TWO_FOCUS_MODE]:"Starting with deep work will help you navigate your whole day with more flow and ease. Activate focus mode here.",[d.TIP_DAY_THREE_FOCUS_MODE]:"Feeling distracted? Get into the flow state with focus mode.",[d.TIP_FOCUS_INSIGHT_APP]:"You've completed your first focus timer! Stay motivated by using focus goals.",[d.TIP_SITE_BLOCKER_FIRST_TIME]:"Site Blocker helps eliminate the temptation to open distracting websites."},Me={width:300,appPopupClasses:"inverted-system-theme-override"},xe=(e,t)=>{const o=e.slice(t.length);let n=`${f.capitalizeFirstLetter(t)}: `;for(let a=0;a<o.length;++a){const e=o.at(a);e&&(e===e.toUpperCase()&&(n+=" "),n+=e)}return n},Ne=()=>{const e=JSON.parse(localStorage.getItem("analytics:tabLoad")??"{}"),t=localStorage.getItem("user:createTime"),o=t?f.dateDiffIntegerDays(new Date(t),new Date)+1:0;return{tabs:e.count??0,days:o}},Ue=e=>bt.getStep(e),Ve=(e,t)=>{var o;const n=["complete","legacy"];return(null==t?void 0:t.includeDismissed)&&n.push("dismissed"),n.includes((null==(o=Ue(e))?void 0:o.status)??"")},je=e=>{const t=Ve(e,{includeDismissed:!0}),o=(e=>{const t=Ue(e);return t&&!!t.data.dateCompleted&&f.dateDiffIntegerDays(new Date,new Date(t.data.dateCompleted))<0})(e);return t&&o},Be=e=>{m.trigger("popup:hide",e)},Fe=()=>{m.trigger("modal:complete")},Ge=()=>{m.trigger("modal:close")},qe=()=>{w.$on("baseFocusMode:toggled",Fe),m.on("focusMode:starting",Fe),m.on("focusMode:hover:toggle",Be)},He=()=>{w.$off("baseFocusMode:toggled",Fe),m.off("focusMode:starting",Fe),m.off("focusMode:hover:toggle",Be)},We=()=>{w.$emit("baseFocusMode:open")},ze={[d.TIP_DAY_ONE_FOCUS_MODE]:{...Me,name:xe(d.TIP_DAY_ONE_FOCUS_MODE,"tip"),shouldActivate:()=>{if(!x.focusModeVisible||g.currentValue)return!1;const{tabs:e,days:t}=Ne();return t>=1&&e>=3},onShow:qe,onLeave:He,onPopupClicked:We,targetElementSelector:".app-container.focus-mode",position:"bottom-right",region:"top-left",bodyText:Le[d.TIP_DAY_ONE_FOCUS_MODE],transitionName:"fade-slide-down-full"},[d.TIP_DAY_TWO_FOCUS_MODE]:{...Me,name:xe(d.TIP_DAY_TWO_FOCUS_MODE,"tip"),shouldActivate:()=>{if(!x.focusModeVisible||g.currentValue)return!1;if(!je(d.TIP_DAY_ONE_FOCUS_MODE))return!1;const{tabs:e,days:t}=Ne();return t>=2&&e>=1},onShow:qe,onLeave:He,onPopupClicked:We,targetElementSelector:".app-container.focus-mode",position:"bottom-right",region:"top-left",bodyText:Le[d.TIP_DAY_TWO_FOCUS_MODE],transitionName:"fade-slide-down-full"},[d.TIP_DAY_THREE_FOCUS_MODE]:{...Me,name:xe(d.TIP_DAY_THREE_FOCUS_MODE,"tip"),shouldActivate:()=>{if(!x.focusModeVisible||g.currentValue)return!1;if(!je(d.TIP_DAY_TWO_FOCUS_MODE))return!1;const{tabs:e,days:t}=Ne();return t>=3&&e>=3},onShow:qe,onLeave:He,onPopupClicked:We,targetElementSelector:".app-container.focus-mode",position:"bottom-right",region:"top-left",bodyText:Le[d.TIP_DAY_THREE_FOCUS_MODE],transitionName:"fade-slide-down-full"},[d.TIP_FOCUS_INSIGHT_APP]:{...Me,bodyText:Le[d.TIP_FOCUS_INSIGHT_APP],name:xe(d.TIP_FOCUS_INSIGHT_APP,"tip"),targetElementSelector:".app-dash.focus-mode-metric",position:"bottom-left",region:"top-right",onShow:()=>{w.$on("focusModeInsights:toggled",Fe)},onLeave:()=>{w.$off("focusModeInsights:toggled",Fe)},onPopupClicked:()=>{w.$emit("focusModeInsights:open")},event:"pomodoro:firstSessionCompleted",transitionName:"fade-slide-down-full"},[d.TIP_SITE_BLOCKER_FIRST_TIME]:{...Me,name:xe(d.TIP_SITE_BLOCKER_FIRST_TIME,"tip"),shouldActivate:()=>x.siteBlockerVisible,onShow:()=>{w.$on("siteBlocker:toggled",Fe)},onLeave:()=>{w.$off("siteBlocker:toggled",Fe)},onPopupClicked:()=>{w.$emit("siteBlocker:open")},targetElementSelector:".app-container.site-blocker",position:"bottom-right",region:"top-left",bodyText:Le[d.TIP_SITE_BLOCKER_FIRST_TIME],transitionName:"fade-slide-down-full"}},Ye=(e,t)=>{const o=new E({feature:e});return{hideOtherApps:!0,feature:e,component:()=>r((()=>import("./UpgradeModal-BQx_ID_k.js")),__vite__mapDeps([135,6,5,2,3,4,7,8,133,25,11,12,13,14,15,18,10,16,26,47,48,42,49,87,136])),onShow:()=>{o.capture("free-trial show",{cardless:t})},onDismiss:async()=>{await Pe.refreshOnboarding(),o.capture("free-trial dismiss",{cardless:t})},onComplete:async()=>{await B.onSuccessfulUserLogin(),o.capture("free-trial complete",{cardless:t})},onLeave:async()=>{await Pe.refreshOnboarding()}}},$e={[d.FREE_TRIAL]:{name:"Free Trial Cardless",startingHeight:"426.38px",...Ye("free-trial",!0)},[d.FREE_TRIAL_CARD]:{name:"Free Trial Card",startingHeight:"531px",...Ye("checkout",!1)}},Ke=async()=>{await new Promise((e=>{S.appsReady?e():m.once("appsReady",e)}))},Qe=async()=>{S.appsReady=!1,m.appView.loadWidgets(),await Ke()},Je=async()=>{const e=await Pe.initiateNextStep();await new Promise((t=>{e?i((()=>u().locked),(()=>t())):(m.models.notificationManager.displayPendingMessages(),t())}))},Ze=async()=>{const e=setTimeout((()=>{window.location.reload()}),3e3);await B.onSuccessfulUserLogin(),await Qe(),await Pe.refreshOnboarding(),clearTimeout(e)};var Xe=(e=>(e.PROCESSING="Processing",e.UNSAVED_DATA="Unsaved-data",e.ERROR="Error",e))(Xe||{});const et={name:"One Time Login",component:()=>r((()=>import("./OneTimeLogin-COfOs-IQ.js")),__vite__mapDeps([137,6,5,138,2,3,4,7,8,25,11,12,13,14,15,18,10,16,26,17,19,20,21,22,23,24,27,28,29,30,139])),subSteps:Object.values(Xe).map((e=>({name:e}))),hideOtherApps:!0,onDismiss:async()=>{await Qe()},onComplete:async()=>{await Ze()},onLeave:async()=>{await Je()}},tt={name:"Login",component:()=>r((()=>import("./Login-CtZHC2EE.js")),__vite__mapDeps([140,2,3,4,5,6,7,8,141])),firstSubStep(){const e=localStorage.getObject(O),t=!!localStorage.getItem(k);return f.isFirefox()&&!t?h.DATA_COLLECTION:(null==e?void 0:e.email)?h.EMAIL:h.NAME},async onComplete(){await Ze()},async onLeave(){await Je()},hideOtherApps:!0,transitionName:"fade",subSteps:[{name:"Name",component:()=>r((()=>import("./LoginName-Bw8_ldtz.js")),__vite__mapDeps([142,143,33,6,5,34,2,3,4,7,8,35,24,144,145,52,146,147,11,12,13,14,15,93]))},{name:"Email",component:()=>r((()=>import("./LoginEmail-efyFZKOt.js")),__vite__mapDeps([148,143,33,6,5,34,2,3,4,7,8,35,24,144,145,52,146,147,11,12,13,14,15,25,18,10,16,26,42]))},{name:"Choose Password",component:()=>r((()=>import("./LoginChoosePassword-D6-a9aok.js")),__vite__mapDeps([149,143,33,6,5,34,2,3,4,7,8,35,24,144,150,151,22,152,153,11,12,13,14,15,132,154,42,55,155,43,156,157,158,159,160,161,133,162,163,164,165,166,167,168,169,170,171,172,173,174,131,175,48,60,176,177,178,179,180,181,87,182,183,184,82,185,27,81,100,66,74,119,64,97,117,105,120,95,70,69,121,83,109,76,73,112,71,98,102,90,103,92,122,111,91,115,186,187,188,145,52,146,147,189,25,18,10,16,26,190]))},{name:"Enter Password",component:()=>r((()=>import("./LoginEnterPassword-AslL-n-4.js")),__vite__mapDeps([191,143,33,6,5,34,2,3,4,7,8,35,24,144,11,12,13,14,15,188,145,52,146,147,173,189,25,18,10,16,26,42,164]))},{name:"Reset Password",component:()=>r((()=>import("./LoginResetPassword-CRItJGld.js")),__vite__mapDeps([192,143,33,6,5,34,2,3,4,7,8,35,24,144,188,145,52,146,147,173,189,11,12,13,14,15,25,18,10,16,26,42]))},{name:"Reset Password Sent",component:()=>r((()=>import("./LoginResetPasswordSent-B4Fm10UV.js")),__vite__mapDeps([193,143,33,6,5,34,2,3,4,7,8,35,24,144,11,12,13,14,15,42,194]))},{name:"Data Collection",component:()=>r((()=>import("./LoginDataCollection-Cs50ayzk.js")),__vite__mapDeps([195,143,33,6,5,34,2,3,4,7,8,35,24,144,11,12,13,14,15,196]))}]},ot="subscribe",nt=new E({feature:ot}),at={name:"Subscribe",feature:ot,startingHeight:"530.48px",hideOtherApps:!0,component:()=>r((()=>import("./UpgradeModal-BQx_ID_k.js")),__vite__mapDeps([135,6,5,2,3,4,7,8,133,25,11,12,13,14,15,18,10,16,26,47,48,42,49,87,136])),onShow:()=>{nt.capture("show")},onDismiss:()=>{nt.capture("dismiss")},onComplete:async()=>{await B.onSuccessfulUserLogin(),nt.capture("complete"),w.$emit("flashMessage",{message:"You are now subscribed to Momentum Plus!",icon:F,buttons:[{text:"Learn more about Plus",action:()=>{m.cmd("modal.open","PLUS_INTRODUCTION")},dismissOnClick:!0,cssClasses:["button-link"]}],confetti:!0,closeButtonEnabled:!1,persist:1e4})}},st=[d.TAB_STASH_ONBOARDING,d.FOCUS_MODE_ONBOARDING,d.TIP_FOCUS_INSIGHT_GRAPH,d.TIP_FOCUS_INSIGHT_STATS,d.ONBOARDING_SITE_BLOCKER_ONE],it={[d.TIP_FOCUS_INSIGHT_GRAPH]:"Set a goal to concentrate regularly. You can update the amount and time span in the settings.",[d.TIP_FOCUS_INSIGHT_STATS]:"Track your stats to stay motivated. See how many focus timers and tasks you've completed in the last 7 days.",[d.ONBOARDING_SITE_BLOCKER_ONE]:"Every time you open a distracting website, we’ll intervene. Add websites that steal your time by clicking into a group."},rt={width:300,appPopupClasses:"inverted-system-theme-override",transitionName:"fade-blurred-tip-app",customCss:".modal-container .popup-base .popup-body { font-size: 0.875rem; font-weight: 500; line-height: 1.2; } \n\t\t.modal-container .popup-base .button.button-primary { font-size: 0.875rem; line-height: 1.2; font-weight: 600; padding: 4px 15px; background-color: var(--color-stop-2); color: var(--color-base); }\n\t\t.modal-container .popup-base .popup-content { padding-right: 1.8rem; }"},dt={...rt,name:xe(d.ONBOARDING_SITE_BLOCKER_ONE,"onboarding"),targetElementSelector:".app-container .site-blocker-groups-list-item",position:"right-bottom",region:"top-left",targetDistance:10,ctaText:"Got it!",ctaTriggersComplete:!0,bodyText:it[d.ONBOARDING_SITE_BLOCKER_ONE],shouldActivate:async()=>(await _((()=>G().loaded)).toBe(!0),await I(200),!0),event:"siteBlockerGroups:opened",onShow:()=>{m.on("siteBlocker:closed focusModeApp:closed siteBlockerGroups:closed",Ge)},onLeave:()=>{m.off("siteBlocker:closed focusModeApp:closed siteBlockerGroups:closed",Ge)}},lt={...rt,bodyText:it[d.TIP_FOCUS_INSIGHT_GRAPH],name:xe(d.TIP_FOCUS_INSIGHT_GRAPH,"onboarding"),targetElementSelector:".app-dash.focus-mode-metric .weekly-time",position:"left-bottom",region:"top-right",targetDistance:41,ctaText:"Next",ctaTriggersComplete:!0,event:"focusInsightsApp:opened",onShow:()=>{m.on("focusInsightsApp:closed",Ge)},onLeave:()=>{m.off("focusInsightsApp:closed",Ge)}},ct={...rt,bodyText:it[d.TIP_FOCUS_INSIGHT_STATS],name:xe(d.TIP_FOCUS_INSIGHT_STATS,"onboarding"),targetElementSelector:".app-dash.focus-mode-metric .insights-bento .cell-metric:nth-child(2)",position:"left-bottom",region:"top-right",targetDistance:31,ctaText:"Got it!",ctaTriggersComplete:!0,shouldActivate:()=>Ve(d.TIP_FOCUS_INSIGHT_GRAPH),onShow:()=>{m.on("focusInsightsApp:closed",Ge)},onLeave:()=>{m.off("focusInsightsApp:closed",Ge)}},mt={[d.FOCUS_MODE_ONBOARDING]:fe,[d.TAB_STASH_ONBOARDING]:be,[d.ONBOARDING_SITE_BLOCKER_ONE]:dt,[d.TIP_FOCUS_INSIGHT_GRAPH]:lt,[d.TIP_FOCUS_INSIGHT_STATS]:ct},pt={[d.LOGIN]:tt,[d.ONE_TIME_LOGIN]:et,[d.TOUR]:le,[d.FREE_INTRODUCTION]:ee,[d.PLUS_INTRODUCTION]:K,[d.UPGRADE]:me,[d.FREE_TRIAL]:$e[d.FREE_TRIAL],[d.FREE_TRIAL_CARD]:$e[d.FREE_TRIAL_CARD],[d.SUBSCRIBE]:at,[d.SEARCH_IN_CENTER_NOTIFICATION]:oe,[d.PLUS_OFFER]:De,[d.SAFARI_VERSION]:{name:"Safari Version Notification",headerText:"Want Momentum as your start page?",bodyText:"Update to Safari 14.1 or later to get the full experience.",position:"top-right",nextButtonText:"Close",targetElementSelector:"[data-ob=settings-toggle]",targetDistance:5},[d.FAVICON_PERMISSION]:{name:"Favicon Permission",component:()=>r((()=>import("./FaviconPermission-D8MRPkHz.js")),__vite__mapDeps([197,198,199,6,5,86,2,3,4,7,8,200,43,179,201,165,202]))},[d.SAFARI_ACCOUNT]:{name:"Safari account modal",component:()=>r((()=>import("./SafariAccount-CHo0Eb-2.js")),__vite__mapDeps([203,33,6,5,34,2,3,4,7,8,35,169,43,204])),customCss:".step-container { background: white; } .modal { --modal-height: auto!important; }",transitionName:"fade"},[d.PERMISSION_REQUEST]:{name:"Permission request",component:()=>r((()=>import("./PermissionRequest-D5zSvmkb.js")),__vite__mapDeps([205,2,3,4,5,6,7,8,33,34,35,159,206])),transitionName:"fade"},[d.TAB_STASH_ONBOARDING]:be,[d.FOCUS_MODE_ONBOARDING]:fe,...pe,...ze,...mt};Object.entries(pt).forEach((([e,t])=>t.id=e));const ut=[d.FREE_INTRODUCTION,...Re],gt=[d.PLUS_INTRODUCTION],ht=[...Ae,...st],_t={all:Object.keys(pt),upsells:Object.keys(pe),unregistered:[...ut,...ht],free:[...ut,...ht],plus:[...gt,...ht],teamMember:[...ht],teamAdmin:[...ht]},bt=new(s.extend({name:"OnboardingStepCollection",mixins:[n],unreactive:()=>({type:"onboardingSteps",Model:H,dataService:q}),methods:{async saveStepProgress(e,t,o="active"){let n=this.getStep(e);if(n){n.copyProperties(),n.editProps.status=o,n.editProps.data||(n.editProps.data={}),n.editProps.data.activeSubStepIndex=t;try{await this.update(n),n.commitChanges()}catch(a){console.error(a),n.revertChanges()}}else{n=new this.Model;const s=["complete","dismissed"].includes(o)?Date.now():void 0;n.updateData({name:e.id,status:o,data:{activeSubStepIndex:t,dateCompleted:s}});try{await this.add(n)}catch(a){console.error(a)}}e.alsoCompletesSteps&&["complete","dismissed"].includes(o)&&await Promise.all(e.alsoCompletesSteps.map((e=>{const t=pt[e],n=this.getStep(t);return n&&["complete","dismissed"].includes(n.status)?Promise.resolve():this.saveStepProgress(t,void 0,o)})))},getAddRequestBody(e){let t={};return e.props.forEach((o=>t[o]=e[o])),t},getUpdateRequestBody(e){let t={};return e.props.forEach((o=>t[o]=e.editProps[o])),t},getStep(e){return"string"==typeof e&&(e=pt[e]),Object.values(this.data.items).find((t=>!(!e.legacyId||"legacy"!==t.status||t.name!==e.legacyId)||t.name===e.id))}}})),St=Object.freeze(Object.defineProperty({__proto__:null,default:bt},Symbol.toStringTag,{value:"Module"}));export{Xe as O,ge as S,he as a,_t as b,St as c,pt as d,ve as e,Ie as g,bt as o,Ke as w};