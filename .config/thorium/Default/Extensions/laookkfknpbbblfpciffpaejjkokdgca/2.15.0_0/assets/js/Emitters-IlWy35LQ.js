const __vite__fileDeps=["assets/js/EmittersPlugin-BKfwlBjf.js","assets/js/preload-helper-D7CfCCEq.js","assets/js/FlashMessage-BSLh5HLJ.js","assets/js/promisifiedChrome-CheD9WtZ.js","assets/js/timestampDb-sTUCijT1.js","assets/js/Logger-Dqn8sDPg.js","assets/js/environmentVariables-Cy83xda0.js","assets/js/ResizeSensor-CXS_pGRc.js","assets/js/string-KTo4Qfpe.js","assets/js/icon-close-BUGl_M7j.js","assets/css/FlashMessage-Cvjau1s8.css","assets/js/AnimatableColor-CAUjokDv.js","assets/js/AnimationOptions-CFe5mVuP.js","assets/js/OptionsColor-B1gM5edr.js","assets/js/EmitterInstance-CMeuqxNX.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as t}from"./preload-helper-D7CfCCEq.js";import{b as i,a as e,c as s,d as r,f as a}from"./FlashMessage-BSLh5HLJ.js";import"./promisifiedChrome-CheD9WtZ.js";import"./timestampDb-sTUCijT1.js";import"./Logger-Dqn8sDPg.js";import"./environmentVariables-Cy83xda0.js";import"./ResizeSensor-CXS_pGRc.js";import"./string-KTo4Qfpe.js";import"./icon-close-BUGl_M7j.js";class n{constructor(t,e){this.container=e,this._engine=t,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};e.getEmitter=t=>void 0===t||i(t)?this.array[t??0]:this.array.find((i=>i.name===t)),e.addEmitter=async(t,i)=>this.addEmitter(t,i),e.removeEmitter=t=>{const i=e.getEmitter(t);i&&this.removeEmitter(i)},e.playEmitter=t=>{const i=e.getEmitter(t);i&&i.externalPlay()},e.pauseEmitter=t=>{const i=e.getEmitter(t);i&&i.externalPause()}}async addEmitter(i,e){const{Emitter:s}=await t((()=>import("./EmittersPlugin-BKfwlBjf.js").then((t=>t.b))),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])),{EmitterInstance:r}=await t((()=>import("./EmitterInstance-CMeuqxNX.js")),__vite__mapDeps([14,0,1,2,3,4,5,6,7,8,9,10,11,12,13])),a=new s;a.load(i);const n=new r(this._engine,this,this.container,a,e);return await n.init(),this.array.push(n),n}handleClickMode(t){const i=this.emitters,n=this.interactivityEmitters;if("emitter"!==t)return;let o;if(n&&e(n.value)){const t=0;if(n.value.length>t&&n.random.enable){o=[];const t=[];for(let i=0;i<n.random.count;i++){const e=s(n.value);t.includes(e)&&t.length<n.value.length?i--:(t.push(e),o.push(r(n.value,e)))}}else o=n.value}else o=null==n?void 0:n.value;const m=o??i,c=this.container.interactivity.mouse.clickPosition;a(m,(async t=>{await this.addEmitter(t,c)}))}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,this.emitters)if(e(this.emitters))for(const t of this.emitters)await this.addEmitter(t);else await this.addEmitter(this.emitters)}pause(){for(const t of this.array)t.pause()}play(){for(const t of this.array)t.play()}removeEmitter(t){const i=this.array.indexOf(t);i>=0&&this.array.splice(i,1)}resize(){for(const t of this.array)t.resize()}stop(){this.array=[]}update(t){for(const i of this.array)i.update(t)}}export{n as Emitters};