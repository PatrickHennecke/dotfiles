import{S as t}from"./Slider-1sOeB8y2.js";import{a as o}from"./main-14ZaqpNu.js";import i from"./soundscapesState-B7l38hfb.js";import{n as s,A as e}from"./promisifiedChrome-CheD9WtZ.js";import"./VueBase-CjPGMLuv.js";import"./ResizeSensor-CXS_pGRc.js";import"./environmentVariables-Cy83xda0.js";import"./dashboard-CF_jRhAY.js";import"./main--IJuvtTE.js";import"./localStorage-B4mFdj8F.js";import"./preload-helper-D7CfCCEq.js";import"./Logger-Dqn8sDPg.js";import"./migrateLegacyUserMessageHandler-CU6TUnqH.js";import"./timestampDb-sTUCijT1.js";import"./index-CJJH83pl.js";import"./AppDash-DWWhxnHq.js";import"./BaseIcon-CACrCBea.js";import"./arrow-B0GpGOd-.js";import"./icon-weather-reset-D7qA-OAP.js";import"./icon-settings-Bycjf8-G.js";import"./icon-chrome-BdhFuvxf.js";import"./icon-back-arrow-CiRQJ6G-.js";import"./icon-back-D_TFrgyJ.js";import"./icon-check-Vc9B11BJ.js";import"./icon-circle-D-D5U4qS.js";import"./icon-close-BUGl_M7j.js";import"./icon-cog-BFr_Pva7.js";import"./icon-skip-BOkC5L0N.js";import"./icon-trash-DFxJwJNo.js";import"./icon-down-BiHbKN-t.js";import"./icon-edit-CixeXNYx.js";import"./icon-ellipsis-D3jS4u3x.js";import"./icon-error-state-BKQhfBCj.js";import"./icon-heart-v5O7C6eS.js";import"./icon-hide-NFfBhfBx.js";import"./icon-key-BPNRipb3.js";import"./icon-lock-B0ekkj2F.js";import"./icon-next-B4hjdiAA.js";import"./icon-photo-BrwqV1T0.js";import"./icon-pin-BHeOuzvO.js";import"./icon-plus-D4YOesIc.js";import"./icon-profile-B_XWyuTb.js";import"./icon-x-qUCmf2CW.js";import"./icon-skip-intro-BUi8b3Ak.js";import"./icon-tooltip-CN09iXOB.js";import"./icon-visible-on-CM3kpcFN.js";import"./icon-x-caret-half-CZtcH_PM.js";import"./star-rating-CNohptmf.js";import"./pomodoro-circle-Dx_GWql1.js";import"./star-KworSO8x.js";import"./thanks-DfYnO-qW.js";import"./add-COIuonao.js";import"./google-DKPAcOmk.js";import"./arrow-up-1QPpu78M.js";import"./chevron-down-DdbU9YAr.js";import"./pomodoro-DvfTwCi0.js";import"./clocks-DjzskNOU.js";import"./close-D7GCNZxm.js";import"./search-DCqlmJx6.js";import"./folder-CwWTWsnJ.js";import"./switch-EuBTQVVE.js";import"./focus-mode-09pIyYAW.js";import"./storage-YYEO5TB5.js";import"./icon-confetti-Dz2LojDe.js";import"./wind-D3u4taeq.js";import"./sparks-CAw9b6ob.js";import"./secure-B8YP-AML.js";import"./icon-percent-schedule-CA5EI9b7.js";import"./icon-trello-BoqqWb7o.js";import"./icon-clean-rFsPxTtp.js";import"./icon-more-lists-Dg-hN7s6.js";import"./icon-more-fonts-CcfOY0t4.js";import"./icon-focus-stats-keERwXFt.js";import"./icon-easy-access-BZifTR0C.js";import"./icon-top-of-mind-B6EhbCcK.js";import"./icon-flow-5QqmGIWX.js";import"./icon-focused-JrsBbR-K.js";import"./icon-weather-extra-ufLpT_SX.js";import"./icon-spiral-gh4hwZDD.js";import"./icon-happy-place-D1z6CJgM.js";import"./icon-time-sensitive-CP2L3maw.js";import"./icon-hourly-CdMmiQZT.js";import"./icon-infinity-D4yMRoAd.js";import"./icon-integrations-Y-aXZTst.js";import"./icon-kanban-Dodqg7y-.js";import"./icon-personalize-photos-D2M4lLlt.js";import"./icon-personalize-n8qjJGGA.js";import"./icon-photo-match-C2EChNEK.js";import"./icon-random-375DbcwF.js";import"./icon-timezones-DGZoTtaT.js";import"./icon-simplify-BRUtLJYp.js";import"./icon-skip-Bd6EhalI.js";import"./icon-sync-DIH26Y9h.js";import"./AppContainer-CpKUTdzh.js";import"./showAnyway-CbfR58eh.js";import"./reactiveCustomization-CrL2eTrh.js";import"./allComponentsMounted-C3UsG_cA.js";import"./string-KTo4Qfpe.js";import"./SmoothReflow-B3dWZqEj.js";import"./appToggleMixin-IV4cErk-.js";import"./ViewState-CkTFc_ep.js";const r=new e({feature:"soundscapes",is_paid_event:!0});const a=s({name:"Tracks",components:{AudioTrack:s({name:"AudioTrack",components:{Slider:t},props:{track:{type:Object,required:!0},singleTrackActive:{type:Boolean,default:!1}},computed:{finalVolume(){return this.track.active?this.track.volume*i.globalVolume*.01:0},iconName(){return"icon-"+this.track.name.replace(/\s+/g,"-").toLowerCase()},trackTitle(){return`Turn ${this.track.active?"off":"on"} ${this.track.name}`},trackVolumeTitle(){return`${this.track.name} volume: ${this.track.volume}`}},watch:{track(){i.tracks[this.track.name]||this.captureVolumeInState()},"track.volume"(){i.tracks[this.track.name].volume=this.track.volume},finalVolume:{handler(){i.globalPlaying&&(clearTimeout(this.finalVolumeTimeout),this.finalVolumeTimeout=setTimeout((()=>{o.fadeTrack(this.finalVolume,this.track)}),50))},immediate:!0}},created(){this.captureVolumeInState(),m.on("soundscapes:tracks:toggle:others",this.toggleOffIfNotTrackName)},destroyed(){m.off("soundscapes:tracks:toggle:others",this.toggleOffIfNotTrackName)},methods:{toggleActive(t,o=!0){this.track.volume||this.$set(this.track,"volume",m.utils.getRandomIntBetween(15,85)),this.track.active="boolean"==typeof t?t:!this.track.active,o&&r.capture("track "+(this.track.active?"enable":"disable"),{track:this.track.name.toLowerCase(),singleTrackActive:this.singleTrackActive}),this.track.active&&(i.globalPlaying=!0,this.singleTrackActive&&m.trigger("soundscapes:tracks:toggle:others",this.track.name))},toggleOffIfNotTrackName(t){this.track.name!==t&&this.toggleActive(!1,!1)},captureVolumeInState(){const t=this.track.volume;i.tracks[this.track.name]={volume:t,originalVolume:t}},sendVolumeChangeEventOnInput(){clearTimeout(this.trackVolumeInstrumentationTimeout),this.trackVolumeInstrumentationTimeout=setTimeout((()=>{r.capture("track volume change",{track:this.track.name.toLowerCase()})}),1e3)}}},(function(){var t=this,o=t._self._c;return o("div",{attrs:{title:t.trackTitle}},[o("div",{staticClass:"tile",class:{on:t.track.active},on:{click:t.toggleActive}},[o("div",{staticClass:"tile-icon-wrapper"},[o("inline-svg",{staticClass:"tile-icon feed-icon",class:t.iconName,attrs:{src:t.track.icon}})],1)]),o("div",{staticClass:"tile-slider",class:{on:t.track.active},attrs:{title:t.trackVolumeTitle}},[o("slider",{on:{input:t.sendVolumeChangeEventOnInput},model:{value:t.track.volume,callback:function(o){t.$set(t.track,"volume",o)},expression:"track.volume"}})],1)])}),[],!1,null,"5b300d4b").exports},props:{tracks:{type:Array,required:!0},singleTrackActive:{type:Boolean,default:!1}}},(function(){var t=this,o=t._self._c;return o("section",{staticClass:"tracks"},[o("div",{staticClass:"tile-list"},t._l(t.tracks,(function(i,s){return o("audio-track",{key:s,attrs:{track:i,"single-track-active":t.singleTrackActive}})})),1)])}),[],!1,null,"a217f321").exports;export{a as default};