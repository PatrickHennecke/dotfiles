import{L as t,l as o}from"./loginStepMixin-Cw4SXMRY.js";import{D as i}from"./DashCheckbox-COO9Ahuf.js";import{n as s}from"./promisifiedChrome-CheD9WtZ.js";import{L as r}from"./LoginPasswordInput-C7qYfSot.js";import{l as e}from"./dashboard-CF_jRhAY.js";import{a as n}from"./authService-B5VliZ3K.js";import{_ as p}from"./icon-back-D_TFrgyJ.js";import"./SmoothReflow-B3dWZqEj.js";import"./ResizeSensor-CXS_pGRc.js";import"./environmentVariables-Cy83xda0.js";import"./allComponentsMounted-C3UsG_cA.js";import"./icon-next-B4hjdiAA.js";import"./BaseIcon-CACrCBea.js";import"./arrow-B0GpGOd-.js";import"./icon-weather-reset-D7qA-OAP.js";import"./icon-settings-Bycjf8-G.js";import"./icon-chrome-BdhFuvxf.js";import"./icon-back-arrow-CiRQJ6G-.js";import"./icon-check-Vc9B11BJ.js";import"./icon-circle-D-D5U4qS.js";import"./icon-close-BUGl_M7j.js";import"./icon-cog-BFr_Pva7.js";import"./icon-skip-BOkC5L0N.js";import"./icon-trash-DFxJwJNo.js";import"./icon-down-BiHbKN-t.js";import"./icon-edit-CixeXNYx.js";import"./icon-ellipsis-D3jS4u3x.js";import"./icon-error-state-BKQhfBCj.js";import"./icon-heart-v5O7C6eS.js";import"./icon-hide-NFfBhfBx.js";import"./icon-key-BPNRipb3.js";import"./icon-lock-B0ekkj2F.js";import"./icon-photo-BrwqV1T0.js";import"./icon-pin-BHeOuzvO.js";import"./icon-plus-D4YOesIc.js";import"./icon-profile-B_XWyuTb.js";import"./icon-x-qUCmf2CW.js";import"./icon-skip-intro-BUi8b3Ak.js";import"./icon-tooltip-CN09iXOB.js";import"./icon-visible-on-CM3kpcFN.js";import"./icon-x-caret-half-CZtcH_PM.js";import"./star-rating-CNohptmf.js";import"./pomodoro-circle-Dx_GWql1.js";import"./star-KworSO8x.js";import"./thanks-DfYnO-qW.js";import"./add-COIuonao.js";import"./google-DKPAcOmk.js";import"./arrow-up-1QPpu78M.js";import"./chevron-down-DdbU9YAr.js";import"./pomodoro-DvfTwCi0.js";import"./clocks-DjzskNOU.js";import"./close-D7GCNZxm.js";import"./search-DCqlmJx6.js";import"./folder-CwWTWsnJ.js";import"./switch-EuBTQVVE.js";import"./focus-mode-09pIyYAW.js";import"./storage-YYEO5TB5.js";import"./icon-confetti-Dz2LojDe.js";import"./wind-D3u4taeq.js";import"./sparks-CAw9b6ob.js";import"./secure-B8YP-AML.js";import"./icon-percent-schedule-CA5EI9b7.js";import"./icon-trello-BoqqWb7o.js";import"./icon-clean-rFsPxTtp.js";import"./icon-more-lists-Dg-hN7s6.js";import"./icon-more-fonts-CcfOY0t4.js";import"./icon-focus-stats-keERwXFt.js";import"./icon-easy-access-BZifTR0C.js";import"./icon-top-of-mind-B6EhbCcK.js";import"./icon-flow-5QqmGIWX.js";import"./icon-focused-JrsBbR-K.js";import"./icon-weather-extra-ufLpT_SX.js";import"./icon-spiral-gh4hwZDD.js";import"./icon-happy-place-D1z6CJgM.js";import"./icon-time-sensitive-CP2L3maw.js";import"./icon-hourly-CdMmiQZT.js";import"./icon-infinity-D4yMRoAd.js";import"./icon-integrations-Y-aXZTst.js";import"./icon-kanban-Dodqg7y-.js";import"./icon-personalize-photos-D2M4lLlt.js";import"./icon-personalize-n8qjJGGA.js";import"./icon-photo-match-C2EChNEK.js";import"./icon-random-375DbcwF.js";import"./icon-timezones-DGZoTtaT.js";import"./icon-simplify-BRUtLJYp.js";import"./icon-skip-Bd6EhalI.js";import"./icon-sync-DIH26Y9h.js";import"./timestampDb-sTUCijT1.js";import"./Logger-Dqn8sDPg.js";import"./preload-helper-D7CfCCEq.js";import"./string-KTo4Qfpe.js";import"./LoginInput-KVl0433V.js";import"./SoftFocus-BUhesXB-.js";import"./MobileBlur-B2s9dLKD.js";import"./main--IJuvtTE.js";import"./localStorage-B4mFdj8F.js";import"./migrateLegacyUserMessageHandler-CU6TUnqH.js";import"./reactiveCustomization-CrL2eTrh.js";import"./VueBase-CjPGMLuv.js";import"./index-CJJH83pl.js";import"./SubscriptionSummary-Bb_CwKvU.js";const a=s({name:"LoginChoosePassword",components:{LoginPasswordInput:r,NewsletterOptIn:s({name:"NewsletterOptIn",components:{DashCheckbox:i},props:{value:{type:Boolean,required:!0}}},(function(){var t=this,o=t._self._c;return o("div",{staticClass:"opt-in",attrs:{"data-test":"newsletter-opt-in"},on:{click:function(o){return t.$emit("input",!t.value)}}},[o("dash-checkbox",{attrs:{value:t.value}}),o("div",[t._v("Sign up for the Monday Moment newsletter.")])],1)}),[],!1,null,"fa7c6b3c").exports,LoginLayout:t},mixins:[o],inject:["capture"],props:{shouldDisplayNewsletterOptIn:{type:Boolean,required:!0}},data:()=>({password:"",message:"Minimum 6 characters.",newsletterOptIn:!1}),computed:{newsLetterOptInState(){return this.shouldDisplayNewsletterOptIn?this.newsletterOptIn:"hidden"}},mounted(){this.capture("password-step show",{case:"create"})},methods:{onEnter(){this.register()},onEscape(){this.goToEmail("hotkey")},goToEmail(t="click"){this.capture("change email click",{method:t}),this.$emit("goToSubStep",e.EMAIL)},register(){return this.setLoadingWithErrorHandling((async()=>{await n.register(this.name,this.email,this.password,{newsletterOptIn:this.newsletterOptIn}),this.capture("password-step complete",{case:"create",newsletter_opt_in:this.newsLetterOptInState}),this.$emit("complete")}))},capturePrivacyClick(){this.capture("privacy click")}}},(function(){var t=this,o=t._self._c;return o("login-layout",{attrs:{loading:t.loading,"data-test":"choose-password-step"},on:{submit:t.register},scopedSlots:t._u([{key:"actions-top-left",fn:function(){return[o("div",{staticClass:"dash-button",attrs:{"data-test":"email-button"},on:{click:t.goToEmail}},[o("inline-svg",{staticClass:"icon icon-back",attrs:{src:p}}),o("span",[t._v("Email")])],1)]},proxy:!0},{key:"title",fn:function(){return[t._v(" Creating account ")]},proxy:!0},{key:"question",fn:function(){return[t._v(" Please choose a password. ")]},proxy:!0},{key:"input",fn:function(){return[o("login-password-input",{ref:"login-input",attrs:{disabled:t.loading},on:{submit:t.register},model:{value:t.password,callback:function(o){t.password=o},expression:"password"}})]},proxy:!0},{key:"message",fn:function(){return[t._v(" "+t._s(t.message)+" ")]},proxy:!0},{key:"below-message",fn:function(){return[t.shouldDisplayNewsletterOptIn?o("newsletter-opt-in",{model:{value:t.newsletterOptIn,callback:function(o){t.newsletterOptIn=o},expression:"newsletterOptIn"}}):t._e()]},proxy:!0},{key:"continue-message",fn:function(){return[t._v(" Create account ")]},proxy:!0},{key:"bottom",fn:function(){return[o("span",{staticClass:"policy"},[t._v("We honor and respect your privacy. See how in our "),o("a",{attrs:{href:"https://momentumdash.com/legal",target:"_blank"},on:{click:t.capturePrivacyClick}},[t._v("Terms")]),t._v(" and "),o("a",{attrs:{href:"https://momentumdash.com/legal/privacy",target:"_blank"},on:{click:t.capturePrivacyClick}},[t._v("Privacy Policy")]),t._v(".")])]},proxy:!0}])})}),[],!1,null,null).exports;export{a as default};